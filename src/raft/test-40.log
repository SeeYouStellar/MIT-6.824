=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 45709 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 8811 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3977908812325601532 (index 1) to leader 2
flag 62662 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 88881 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
flag 70289 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3122 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
flag 89823 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94742 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
flag 54445 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 69349 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
flag 57488 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74970 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
flag 38823 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77449 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3977908812325601532 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4351021145726684909 (index 2) to leader 2
flag 84600 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18753 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3977908812325601532 1 1} {4351021145726684909 1 2}]
------------------------------------------------------
flag 6461 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 95439 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3977908812325601532 1 1} {4351021145726684909 1 2}]
------------------------------------------------------
client write log 3205842894168779054 (index 3) to leader 2
client write log 2876434104203923121 (index 4) to leader 2
client write log 3985242127856763634 (index 5) to leader 2
client write log 3259866167343080709 (index 6) to leader 2
client write log 1507199087219484940 (index 7) to leader 2
client write log 8374215194441217801 (index 8) to leader 2
client write log 5941611714510966788 (index 9) to leader 2
client write log 3488699613443765369 (index 10) to leader 2
client write log 2143297034879561594 (index 11) to leader 2
client write log 883647781346713096 (index 12) to leader 2
flag 26156 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 633 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {3977908812325601532 1 1} {4351021145726684909 1 2} {3205842894168779054 1 3} {2876434104203923121 1 4} {3985242127856763634 1 5} {3259866167343080709 1 6} {1507199087219484940 1 7} {8374215194441217801 1 8} {5941611714510966788 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 9795 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2203084052494450011 (index 13) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 8279 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 80643 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 50855 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 71261 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 88945 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 1883 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
flag 57559 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 55853 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
flag 41800 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 83199 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
flag 765 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 55660 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
flag 20386 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 77871 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
flag 48115 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 53299 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 97770 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 22059 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 25134 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 71573 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24426 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 35891 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 45192 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 70716 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13}]
------------------------------------------------------
client write log 8551228889100437150 (index 14) to leader 0
flag 2689 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 49924 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 15336 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 20715 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13} {8551228889100437150 4 14}]
------------------------------------------------------
flag 88467 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 33911 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 99041 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 58026 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13} {8551228889100437150 4 14}]
------------------------------------------------------
client write log 2841952911496939823 (index 15) to leader 0
client write log 4391089483109611127 (index 16) to leader 0
client write log 1761734510470807171 (index 17) to leader 0
client write log 5799355214775848900 (index 18) to leader 0
client write log 4636620679439234746 (index 19) to leader 0
client write log 1822233875857756753 (index 20) to leader 0
client write log 6114877509065067925 (index 21) to leader 0
client write log 245944655441095059 (index 22) to leader 0
client write log 7832837421133378094 (index 23) to leader 0
flag 36860 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 90879 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 8374 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 92124 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {3488699613443765369 1 10} {2143297034879561594 1 11} {883647781346713096 1 12} {2203084052494450011 1 13} {8551228889100437150 4 14} {2841952911496939823 4 15} {4391089483109611127 4 16} {1761734510470807171 4 17} {5799355214775848900 4 18} {4636620679439234746 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
flag 63401 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 47014 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 84242 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2159202180740859868 (index 14) to leader 2
flag 40948 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 37187 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65906 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
flag 93020 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 28108 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29703 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 2275 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 51898 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 299 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 71535 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 3028 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 17533 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 58961 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 77233 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 82192 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62068 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 49681 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42045 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 56338 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 10200 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 12581 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 30426 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 91020 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 23371 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 44513 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 92688 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 33675 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 37090 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 55136 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 42259 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 75714 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 52606 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 81609 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 30695 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 17122 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
flag 38133 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 81837 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51796 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 62336 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74649 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 10487 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23}]
------------------------------------------------------
client write log 2159202180740859868 (index 24) to leader 0
flag 13122 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 88897 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95613 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 33144 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
flag 62259 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 83223 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
flag 19555 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 26212 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55466 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 4475 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
flag 27861 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35658 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
flag 93696 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35281 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1931496137108495345 (index 25) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88022 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 76685 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24} {1931496137108495345 4 25}]
------------------------------------------------------
flag 89117 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 68781 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24} {1931496137108495345 4 25}]
------------------------------------------------------
client write log 6983065128683534992 (index 26) to leader 0
client write log 783271834301495456 (index 27) to leader 0
client write log 8309538452496972819 (index 28) to leader 0
client write log 5355691053129688318 (index 29) to leader 0
client write log 66315742524166227 (index 30) to leader 0
client write log 3760176687678470939 (index 31) to leader 0
client write log 1438801899259995053 (index 32) to leader 0
client write log 6867960769194437245 (index 33) to leader 0
client write log 3383282787875978760 (index 34) to leader 0
client write log 834992083257000417 (index 35) to leader 0
client write log 1376894878259268818 (index 36) to leader 0
client write log 8553305069042936218 (index 37) to leader 0
flag 90792 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 28807 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 19} {1822233875857756753 4 20} {6114877509065067925 4 21} {245944655441095059 4 22} {7832837421133378094 4 23} {2159202180740859868 4 24} {1931496137108495345 4 25} {6983065128683534992 4 26} {783271834301495456 4 27} {8309538452496972819 4 28} {5355691053129688318 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 36460 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7061903447794706273 (index 38) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 54422 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 99509 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 39->38
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 51540 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 3810 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 73109 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 77998 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 72423 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 7540 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 81547 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69060 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 58996 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 10102 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 22485 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 41924 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 45745 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 31304 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 47876 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 13681 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 56696 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 54841 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 34529 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 82106 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 79805 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 63184 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 55104 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47997 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 47110 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 9995 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 36194 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 7915 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 70814 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 58571 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 32799 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 41052 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 74693 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
flag 54776 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 77535 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38}]
------------------------------------------------------
client write log 7061903447794706273 (index 39) to leader 0
flag 20138 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 32546 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38} {7061903447794706273 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {66315742524166227 4 30} {3760176687678470939 4 31} {1438801899259995053 4 32} {6867960769194437245 4 33} {3383282787875978760 4 34} {834992083257000417 4 35} {1376894878259268818 4 36} {8553305069042936218 4 37} {7061903447794706273 4 38} {7061903447794706273 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 64980 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 57907 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 643 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 94223 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19837 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 23172 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 58775 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 14352 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2230 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 45945 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4361103156448184036 (index 40) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63741 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 28741 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4361103156448184036 6 40}]
------------------------------------------------------
flag 26658 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 10479 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4361103156448184036 6 40}]
------------------------------------------------------
client write log 3956984589839398472 (index 41) to leader 0
client write log 6098601205803320824 (index 42) to leader 0
client write log 237025233442357092 (index 43) to leader 0
client write log 8000930708801727091 (index 44) to leader 0
client write log 5792134442108344176 (index 45) to leader 0
client write log 4693876902274762044 (index 46) to leader 0
client write log 6042578376057034053 (index 47) to leader 0
client write log 6932461616393825885 (index 48) to leader 0
client write log 4456775078977245795 (index 49) to leader 0
client write log 6195302249431571229 (index 50) to leader 0
client write log 6796228979503043778 (index 51) to leader 0
client write log 4432639940672934667 (index 52) to leader 0
client write log 6452573073698143455 (index 53) to leader 0
client write log 5227271731213932641 (index 54) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81267 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 95846 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 39} {4361103156448184036 6 40} {3956984589839398472 6 41} {6098601205803320824 6 42} {237025233442357092 6 43} {8000930708801727091 6 44} {5792134442108344176 6 45} {4693876902274762044 6 46} {6042578376057034053 6 47} {6932461616393825885 6 48} {4456775078977245795 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=54
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 25198 term 6 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4041931858298769382 (index 55) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 34176 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 40257 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 83734 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 96154 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 25823 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76046 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 16094 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 94042 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 21199 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 38231 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 32376 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19855 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 45817 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 18663 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 29343 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 88285 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 19056 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 79842 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 44614 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 75239 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 39839 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 19244 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 60322 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 56923 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 43087 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 58699 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 54838 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 87273 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 81685 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 26638 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 67423 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 7168 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 31479 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
flag 33183 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 99941 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43510 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 28003 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55}]
------------------------------------------------------
client write log 4041931858298769382 (index 56) to leader 0
flag 12169 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 12362 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
flag 9979 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 26714 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
flag 92253 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 34606 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
flag 45935 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 81796 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
flag 54282 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 46553 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
flag 68504 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 30925 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61998 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 53354 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 21733 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 53997 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 90492 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 61637 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 1509 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 13041 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 23485 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 4773 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56}]
------------------------------------------------------
client write log 7173352465764283693 (index 57) to leader 2
flag 61767 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 28774 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 58324 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 82986 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56} {7173352465764283693 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66076 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 44631 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 31967 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 29438 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56} {7173352465764283693 9 57}]
------------------------------------------------------
client write log 5403226776428868514 (index 58) to leader 2
flag 72797 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 57668 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 8659 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 79653 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56} {7173352465764283693 9 57} {5403226776428868514 9 58}]
------------------------------------------------------
flag 29128 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 78925 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15388 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 58 
------------------------------------------------------
flag 6180 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56} {7173352465764283693 9 57} {5403226776428868514 9 58}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 0
client write log 4425918038654162200 (index 59) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
flag 43957 term 8 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 34889 term 8 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 89020 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 56 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {6195302249431571229 6 50} {6796228979503043778 6 51} {4432639940672934667 6 52} {6452573073698143455 6 53} {5227271731213932641 6 54} {4041931858298769382 6 55} {4041931858298769382 8 56} {7173352465764283693 9 57} {5403226776428868514 9 58} {4425918038654162200 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 49460 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6779 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 11456 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 0
flag 83976 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 98176 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 83394 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 52819 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 60->59
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 59
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 63525 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 59 args.LastIncludedIndex 59
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 8374862707357682088 (index 60) to leader 2
flag 17346 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 58966 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8374862707357682088 9 60}]
------------------------------------------------------
flag 84966 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 28284 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8374862707357682088 9 60}]
------------------------------------------------------
client write log 99371926856452900 (index 61) to leader 2
client write log 3420924571635515100 (index 62) to leader 2
client write log 1254222685621620284 (index 63) to leader 2
client write log 6552228262660574709 (index 64) to leader 2
client write log 2018926278745225301 (index 65) to leader 2
client write log 5331183225092633186 (index 66) to leader 2
flag 27915 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 63865 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2163 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 67568 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6170284900549486631 (index 67) to leader 2
flag 87873 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 41156 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 10 server 2 not vote for server 0, 日志不够新
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 87989 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 4114 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 68->67
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14299 term 12 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 6526 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41962 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 52240 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 80991 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 69183 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 16355 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 47077 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 81990 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 12850 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 50569 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 47471 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69589 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 71097 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 29470 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 48905 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50965 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 63990 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82722 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 6104 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 42621 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 7655 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
flag 42900 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 79734 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30033 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 89015 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84917 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 55167 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67}]
------------------------------------------------------
client write log 6170284900549486631 (index 68) to leader 1
flag 46763 term 12 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 50605 term 12 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 60318 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 29014 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
flag 77812 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 63821 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
flag 19309 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 47517 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16212 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 33118 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
flag 15598 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 75414 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16500 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 98870 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5622012117289913464 (index 69) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76104 term 12 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 22544 term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {8374862707357682088 9 60} {99371926856452900 9 61} {3420924571635515100 9 62} {1254222685621620284 9 63} {6552228262660574709 9 64} {2018926278745225301 9 65} {5331183225092633186 9 66} {6170284900549486631 9 67} {6170284900549486631 12 68} {5622012117289913464 12 69}]
------------------------------------------------------
term 12 Server1 start snapshot! index=69
term 12 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 13466 term 12 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 8016177017411788285 (index 70) to leader 1
client write log 7045219436176654390 (index 71) to leader 1
client write log 4772562751502783980 (index 72) to leader 1
client write log 2405419767269225489 (index 73) to leader 1
client write log 3203407648693350444 (index 74) to leader 1
client write log 3894681830847500659 (index 75) to leader 1
client write log 2249771329753650736 (index 76) to leader 1
client write log 4014673377059435524 (index 77) to leader 1
client write log 2620940503960415748 (index 78) to leader 1
client write log 2375757304123496895 (index 79) to leader 1
client write log 1713300664757104017 (index 80) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14607 term 12 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 69} {8016177017411788285 12 70} {7045219436176654390 12 71} {4772562751502783980 12 72} {2405419767269225489 12 73} {3203407648693350444 12 74} {3894681830847500659 12 75} {2249771329753650736 12 76} {4014673377059435524 12 77} {2620940503960415748 12 78} {2375757304123496895 12 79} {1713300664757104017 12 80}]
------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
flag 72510 term 12 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 12 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5262455887218381386 (index 81) to leader 1
flag 57560 term 12 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 12 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 80619 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 61959 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 82->81
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 11340 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 65864 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 30832 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 96675 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 1581 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 23841 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 36187 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 56754 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 17026 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 61352 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 83088 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 85369 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 97867 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 14421 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 4025 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 27583 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 16774 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60121 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 88755 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 50024 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 25822 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 51821 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 64848 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83259 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 19189 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
flag 34783 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 36085 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 19280 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 87446 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 42561 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 27922 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
flag 76125 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 14598 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81}]
------------------------------------------------------
client write log 5262455887218381386 (index 82) to leader 1
flag 64964 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
flag 36628 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99969 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 93575 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
flag 51471 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 94766 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
flag 6786 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 77276 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
flag 16229 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 47189 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71798 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 39264 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 38578 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 70535 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 25614 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 76021 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3869 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 80567 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 86023 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 46845 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
flag 53433 term 15 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 79116 term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82}]
------------------------------------------------------
client write log 4400159015320403531 (index 83) to leader 2
flag 53405 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 20563 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75897 term 15 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 75385 term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82} {4400159015320403531 15 83}]
------------------------------------------------------
flag 95807 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 82859 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 99110 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 61609 term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82} {4400159015320403531 15 83}]
------------------------------------------------------
client write log 4934073261274766194 (index 84) to leader 2
client write log 114653826575265199 (index 85) to leader 2
client write log 6620747716755726516 (index 86) to leader 2
client write log 4008409248301397775 (index 87) to leader 2
client write log 913039336618153995 (index 88) to leader 2
client write log 382976000173716211 (index 89) to leader 2
client write log 8421745584602627393 (index 90) to leader 2
flag 6280 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 6121 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 96181 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 9451 term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 12 79} {1713300664757104017 12 80} {5262455887218381386 12 81} {5262455887218381386 14 82} {4400159015320403531 15 83} {4934073261274766194 15 84} {114653826575265199 15 85} {6620747716755726516 15 86} {4008409248301397775 15 87} {913039336618153995 15 88} {382976000173716211 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=90
-------------------------------------------------------------
flag 28418 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 350 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 45713 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 Server0 start snapshot! index=89
term 15 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=90
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2135882501262175218 (index 83) to leader 1
flag 29786 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 34368 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52451 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 38416 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 89084 term 15 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 52807 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 6095 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 17700 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 14442 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 30582 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 16764 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 16892 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 92767 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34411 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 2813 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 6046 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 17108 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 65479 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 93399 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 60814 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 91655 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87608 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 85258 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 91360 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 55325 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 28799 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 80044 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 53046 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 31992 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 21146 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 72609 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 日志不够新
term 15 server 2 get outdate rpc reply from server 1
flag 19658 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 65845 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 61305 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 13798 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 26078 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 25128 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 23769 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 56466 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
flag 79442 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 70836 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {8421745584602627393 15 90}]
------------------------------------------------------
client write log 2135882501262175218 (index 91) to leader 2
flag 42506 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 69676 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 79583 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 97048 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
flag 20643 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 42828 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
flag 20860 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 8453 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
flag 76059 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 59058 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30642 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 72596 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5337728726463611089 (index 92) to leader 2
flag 47320 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 37190 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91} {5337728726463611089 15 92}]
------------------------------------------------------
flag 70403 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 36090 term 15 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91} {5337728726463611089 15 92}]
------------------------------------------------------
client write log 1741785206368408731 (index 93) to leader 2
client write log 3756922233871984682 (index 94) to leader 2
client write log 8379473637834574275 (index 95) to leader 2
client write log 6247933847115820817 (index 96) to leader 2
client write log 6658883862850606873 (index 97) to leader 2
client write log 2229805139399485821 (index 98) to leader 2
client write log 5692802392086695529 (index 99) to leader 2
client write log 8683813602596145958 (index 100) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 93->92
------------------------------------------------------
flag 19198 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 92
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 92 args.LastIncludedIndex 89
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 54976 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 92162 term 15 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 89} {8421745584602627393 15 90} {2135882501262175218 15 91} {5337728726463611089 15 92} {1741785206368408731 15 93} {3756922233871984682 15 94} {8379473637834574275 15 95} {6247933847115820817 15 96} {6658883862850606873 15 97} {2229805139399485821 15 98} {5692802392086695529 15 99} {8683813602596145958 15 100}]
------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 59376 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100}]
------------------------------------------------------
term 15 Server1 start snapshot! index=99
term 15 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 1684923476435904218 (index 101) to leader 2
term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 20972 term 15 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 15 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 0
flag 74743 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 25367 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 92  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
flag 87022 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65859 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 56042 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
flag 65476 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 48349 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 96667 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 95406 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91724 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 55432 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99302 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 67644 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91048 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 91560 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 40548 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 61153 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 76386 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 85256 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 93203 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 59254 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1485 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 40116 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 13908 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 43194 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 15564 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 16793 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69344 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 3112 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 544 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 31487 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93261 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 24360 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
flag 216 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 73898 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80014 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 25882 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101}]
------------------------------------------------------
client write log 1684923476435904218 (index 102) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27737 term 17 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
flag 8464 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
flag 88624 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 98175 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
flag 52393 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 20830 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
flag 39898 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 45193 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60075 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 68883 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
flag 15688 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 66896 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 2 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 2
flag 52241 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 385 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3296668597904327476 (index 103) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98377 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
flag 79499 term 17 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 102 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102} {3296668597904327476 17 103}]
------------------------------------------------------
flag 61845 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 3583 term 17 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 17 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102} {3296668597904327476 17 103}]
------------------------------------------------------
client write log 6975875906343366551 (index 104) to leader 2
client write log 5548821678887915063 (index 105) to leader 2
client write log 3235674819977680048 (index 106) to leader 2
client write log 4369429588281692510 (index 107) to leader 2
client write log 591013253157920513 (index 108) to leader 2
client write log 5178898452710374464 (index 109) to leader 2
client write log 7881299735915722108 (index 110) to leader 2
client write log 9185221315098414436 (index 111) to leader 2
client write log 4845819555366675171 (index 112) to leader 2
client write log 2050802732470794326 (index 113) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79659 term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
flag 65331 term 17 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 17 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 17 leaderCommit: 103 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 15 99} {8683813602596145958 15 100} {1684923476435904218 15 101} {1684923476435904218 17 102} {3296668597904327476 17 103} {6975875906343366551 17 104} {5548821678887915063 17 105} {3235674819977680048 17 106} {4369429588281692510 17 107} {591013253157920513 17 108} {5178898452710374464 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 95173 term 17 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 17 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113}]
------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3157254842994270859 (index 114) to leader 2
term 17 server 1 not vote for server 0, 日志不够新
term 17 server 2 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 0
flag 42419 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 49229 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 103  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 6310 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 96726 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 51695 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 31789 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 42428 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 18083 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 71095 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 94485 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 98792 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 78689 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 77371 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97325 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 92976 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 39253 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 34973 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 24884 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 19486 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 26414 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 8484 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5803 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 88057 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 84159 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 2014 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 38518 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 7995 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 24850 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 14819 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 35029 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 3211 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 60876 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 37530 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 37978 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 55814 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
flag 3938 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 62797 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114}]
------------------------------------------------------
client write log 3157254842994270859 (index 115) to leader 2
flag 58286 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
flag 43077 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 17 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 18581 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 29764 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 68485 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 71370 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 18884 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 91179 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 30723 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 63757 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 14223 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 61341 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
flag 92873 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 30828 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44099 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 60326 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 94251 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 32672 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69585 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 1921 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 56494 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 37084 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
flag 60582 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 74334 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115}]
------------------------------------------------------
client write log 8571263516146785356 (index 116) to leader 1
flag 82076 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 12446 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 49963 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 27784 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116}]
------------------------------------------------------
flag 75548 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 89759 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 38833 term 20 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 20 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 79589 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116}]
------------------------------------------------------
client write log 4373332278619731223 (index 117) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4302 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 50204 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 60608 term 20 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 20 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 65730 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 116->115
------------------------------------------------------
flag 18299 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 74811 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 67034 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4259848037218829579 (index 118) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 58124 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69394 term 20 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 20 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 115 args.LastIncludedIndex 109
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96596 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 91230 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
flag 92010 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 4328 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
flag 73179 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 15566 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
flag 50029 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 71131 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17634 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 15417 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
flag 29835 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 79949 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
flag 99504 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 7953 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6877308477438381083 (index 119) to leader 1
flag 26283 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
flag 33342 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 17 109} {7881299735915722108 17 110} {9185221315098414436 17 111} {4845819555366675171 17 112} {2050802732470794326 17 113} {3157254842994270859 17 114} {3157254842994270859 19 115} {8571263516146785356 20 116} {4373332278619731223 20 117} {4259848037218829579 20 118} {6877308477438381083 20 119}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 20505 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 3978768833864103665 (index 120) to leader 1
client write log 9187594580062360271 (index 121) to leader 1
client write log 1551875092982979794 (index 122) to leader 1
client write log 8660784901204467079 (index 123) to leader 1
client write log 5530000234338677896 (index 124) to leader 1
client write log 1493230527866252867 (index 125) to leader 1
client write log 205410372952037812 (index 126) to leader 1
client write log 1901935036067252871 (index 127) to leader 1
client write log 8001776958224536526 (index 128) to leader 1
client write log 2020898899184245094 (index 129) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 81461 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 119} {3978768833864103665 20 120} {9187594580062360271 20 121} {1551875092982979794 20 122} {8660784901204467079 20 123} {5530000234338677896 20 124} {1493230527866252867 20 125} {205410372952037812 20 126} {1901935036067252871 20 127} {8001776958224536526 20 128} {2020898899184245094 20 129}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 19022 term 20 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 20 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 2
client write log 165432982708532203 (index 130) to leader 1
flag 93759 term 20 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 20 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 0 vote for server 1
term 22 server 1 get outdate rpc reply from server 0
flag 59491 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 13156 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 131->130
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11857 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 89375 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 79469 term 22 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 94644 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 32639 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45502 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 67273 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 99475 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 97473 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 24300 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 29397 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6997 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 70324 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33825 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 66364 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 30400 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 49911 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 379 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 28815 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 93335 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 82750 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6898 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 10647 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 84636 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 97199 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 93459 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 31400 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 48136 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 54074 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 62473 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 96537 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
flag 11968 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 17214 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {165432982708532203 20 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 165432982708532203 (index 131) to leader 1
flag 22090 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 28337 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
flag 72338 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 9951 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
flag 11925 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 62313 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93610 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 67954 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
flag 38869 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 59905 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
flag 70034 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 76811 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4010938520440863907 (index 132) to leader 1
flag 54412 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 59860 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131} {4010938520440863907 22 132}]
------------------------------------------------------
flag 26614 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 27317 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131} {4010938520440863907 22 132}]
------------------------------------------------------
client write log 5949787984287438505 (index 133) to leader 1
client write log 4092421272063013418 (index 134) to leader 1
client write log 4741377570371972888 (index 135) to leader 1
client write log 1234775574983094529 (index 136) to leader 1
client write log 1915616324612775077 (index 137) to leader 1
client write log 6623917539045609166 (index 138) to leader 1
client write log 4340875636986355263 (index 139) to leader 1
client write log 3865368322712331936 (index 140) to leader 1
client write log 3937566322089537291 (index 141) to leader 1
flag 25261 term 22 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 22 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 51825 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 129} {165432982708532203 20 130} {165432982708532203 22 131} {4010938520440863907 22 132} {5949787984287438505 22 133} {4092421272063013418 22 134} {4741377570371972888 22 135} {1234775574983094529 22 136} {1915616324612775077 22 137} {6623917539045609166 22 138} {4340875636986355263 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59857 term 22 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 22 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4736837126277773777 (index 142) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 0 vote for server 1
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 7491 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 26699 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 143->142
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
flag 98333 term 24 leader 1 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 132  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 5878 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 9796 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 78131 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 56177 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24479 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 84356 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97967 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 72249 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 92967 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 89679 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 63242 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 39356 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87625 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 67150 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 74381 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 88535 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7204 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 41701 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 6429 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 40488 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 46385 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 42419 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 8510 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 40853 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6469 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 65782 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 56660 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 25934 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 96377 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 54222 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 16389 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 59313 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
flag 75165 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 44408 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142}]
------------------------------------------------------
client write log 4736837126277773777 (index 143) to leader 1
flag 25689 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
flag 12281 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 22 leaderCommit: 141 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
term 24 server 1 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 1
flag 70889 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 93564 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87015 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 53919 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
flag 50847 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 578 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
flag 93681 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 85509 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
flag 77560 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 20974 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 12175 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 93362 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44233 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 67159 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 63774 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 51007 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
flag 14757 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 60995 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143}]
------------------------------------------------------
client write log 3577087585241421832 (index 144) to leader 0
flag 53322 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 71724 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93811 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 20743 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144}]
------------------------------------------------------
flag 25903 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 17553 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 144->143
------------------------------------------------------
flag 77843 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 80763 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144}]
------------------------------------------------------
client write log 591534806938331361 (index 145) to leader 0
flag 29953 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 143
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 99029 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 35521 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 29491 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 143
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49525 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 54191 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
!!!!!!connect server 1
client write log 2097291935039948338 (index 144) to leader 1
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 143
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 143
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78647 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 21725 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 2587 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 97927 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 72139 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 12996 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47710 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 45557 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 24075 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 10298 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 56282 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 8450 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 8843 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 72523 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 91510 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 63244 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 75644 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 31478 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 40887 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 42393 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69886 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 284 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 63825 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 37322 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 31067 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 96922 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 93791 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 15592 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7293 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 6535 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 59487 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 145 args.LastIncludedIndex 139
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 74710 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 16405 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 68309 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 24920 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 23240 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 2637 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
flag 17187 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 42058 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145}]
------------------------------------------------------
client write log 2097291935039948338 (index 146) to leader 0
flag 18271 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 79191 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 28302 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 12640 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 51763 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 84221 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 44661 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 74240 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 56610 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 49737 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 57196 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 14641 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
flag 44130 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 85237 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7378574319515433287 (index 147) to leader 0
flag 39465 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 15811 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146} {7378574319515433287 25 147}]
------------------------------------------------------
flag 67217 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 39557 term 25 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146} {7378574319515433287 25 147}]
------------------------------------------------------
client write log 7885464158765820316 (index 148) to leader 0
client write log 6942517261998427365 (index 149) to leader 0
client write log 902998124399235220 (index 150) to leader 0
client write log 4807967389628526900 (index 151) to leader 0
client write log 729422041530002285 (index 152) to leader 0
client write log 3415877250769361936 (index 153) to leader 0
client write log 1831222281218489370 (index 154) to leader 0
client write log 5665726617616902434 (index 155) to leader 0
client write log 1261516754802165870 (index 156) to leader 0
client write log 1815612739578627694 (index 157) to leader 0
client write log 3872653531681547469 (index 158) to leader 0
client write log 4152959555225647349 (index 159) to leader 0
flag 91286 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 98478 term 25 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 25 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 139} {3865368322712331936 22 140} {3937566322089537291 22 141} {4736837126277773777 22 142} {4736837126277773777 24 143} {3577087585241421832 25 144} {591534806938331361 25 145} {2097291935039948338 25 146} {7378574319515433287 25 147} {7885464158765820316 25 148} {6942517261998427365 25 149} {902998124399235220 25 150} {4807967389628526900 25 151} {729422041530002285 25 152} {3415877250769361936 25 153} {1831222281218489370 25 154} {5665726617616902434 25 155} {1261516754802165870 25 156} {1815612739578627694 25 157} {3872653531681547469 25 158} {4152959555225647349 25 159}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 82815 term 25 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6308105261829064601 (index 160) to leader 0
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get outdate rpc reply from server 1
flag 47519 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 22654 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 57418 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
flag 42418 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 64626 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13868 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 28528 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 3285 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 78582 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 1849 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 62284 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 86970 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 10563 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34267 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 53679 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 44818 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 30968 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 1298 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 19434 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89888 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 83734 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 53634 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 45218 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81435 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 64677 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 27838 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 88467 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 47991 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 39857 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41480 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 73425 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 15460 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 29456 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 54495 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 95309 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
flag 54033 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 24621 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69840 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 72017 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=159
leader log:
[{snapshot 25 159} {6308105261829064601 25 160}]
------------------------------------------------------
client write log 6308105261829064601 (index 161) to leader 0
flag 89756 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 69885 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77841 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 59466 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2534 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 68570 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54830 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 48373 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
flag 66513 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 12183 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
flag 34160 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 61151 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68928 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 57587 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4740482948366009037 (index 162) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51837 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 51106 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161} {4740482948366009037 27 162}]
------------------------------------------------------
flag 53498 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 98271 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161} {4740482948366009037 27 162}]
------------------------------------------------------
client write log 3360973125824795743 (index 163) to leader 0
client write log 7282823653491727331 (index 164) to leader 0
client write log 7456193779352580113 (index 165) to leader 0
client write log 5189640734772110491 (index 166) to leader 0
client write log 256221438619096112 (index 167) to leader 0
client write log 7181615066064109465 (index 168) to leader 0
client write log 5703082256656762547 (index 169) to leader 0
client write log 1265708835100442493 (index 170) to leader 0
client write log 1298502866188521768 (index 171) to leader 0
client write log 5306285323085414675 (index 172) to leader 0
client write log 5384669105366348493 (index 173) to leader 0
client write log 5172486460468599239 (index 174) to leader 0
client write log 5004420126693751359 (index 175) to leader 0
client write log 4951435596376524009 (index 176) to leader 0
client write log 197408612213152031 (index 177) to leader 0
flag 54984 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 39359 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 159} {6308105261829064601 25 160} {6308105261829064601 27 161} {4740482948366009037 27 162} {3360973125824795743 27 163} {7282823653491727331 27 164} {7456193779352580113 27 165} {5189640734772110491 27 166} {256221438619096112 27 167} {7181615066064109465 27 168} {5703082256656762547 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=177
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 45004 term 27 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 27 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=177
-------------------------------------------------------------
!!!!!!connect server 1
client write log 636169026123305134 (index 178) to leader 0
term 27 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 6191 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 10068 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 19211 term 29 leader 0 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45441 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 89705 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 9590 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 23592 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 76571 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 38361 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 65745 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 39005 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 16714 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 97643 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 77672 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 3366 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 98213 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 50184 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 9597 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 93355 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 91266 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 31320 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 644 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 23304 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 83337 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 50324 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 58336 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 75267 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82135 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 63761 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 68990 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 64156 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 3863 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 9531 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 987 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 43743 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
flag 94565 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 13638 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178}]
------------------------------------------------------
client write log 636169026123305134 (index 179) to leader 0
flag 96729 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 73128 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178} {636169026123305134 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 27 169} {1265708835100442493 27 170} {1298502866188521768 27 171} {5306285323085414675 27 172} {5384669105366348493 27 173} {5172486460468599239 27 174} {5004420126693751359 27 175} {4951435596376524009 27 176} {197408612213152031 27 177} {636169026123305134 27 178} {636169026123305134 29 179}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 74091 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 59555 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 90215 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 53593 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 99754 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 83994 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 81034 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 11443 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 6055 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 12083 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 27803 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 67877 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 39718 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 16137 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 6727 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 4142 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
flag 51080 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 54906 term 30 leader 2 nextIndex[1]: 180  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 42218 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 12586 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
client write log 4338944878713518979 (index 180) to leader 2
flag 90284 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 35705 term 30 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {4338944878713518979 30 180}]
------------------------------------------------------
flag 47339 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 17632 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 41127 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 30330 term 30 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 30 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {4338944878713518979 30 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69033 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 91944 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
client write log 5806496954348262442 (index 181) to leader 2
flag 9891 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 78043 term 30 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 30 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181}]
------------------------------------------------------
flag 95270 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 25853 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 28367 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 38270 term 30 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 30 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 181 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181}]
------------------------------------------------------
flag 65258 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 97163 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
!!!!!!connect server 0
client write log 1569313603298214272 (index 182) to leader 2
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 41773 term 30 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 30 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 30 leaderCommit: 181 
------------------------------------------------------
term 30 server 0 InstallSnapshot fail
rf.commitIndex 179 args.LastIncludedIndex 179
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21496 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 95766 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
flag 67497 term 30 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 31766 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 not vote for server 2, 日志不够新
term 30 server 2 get outdate rpc reply from server 0
flag 5914 term 30 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 49033 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
------------------------------------------------------
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
flag 42157 term 30 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 77069 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
flag 40958 term 30 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 29537 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
flag 21074 term 30 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 29133 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 183->182
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4763131985693612302 (index 183) to leader 2
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 182
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 96607 term 30 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 30 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182} {4763131985693612302 30 183}]
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 182
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 28876 term 30 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 30 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182} {4763131985693612302 30 183}]
------------------------------------------------------
client write log 8121187180432135557 (index 184) to leader 2
client write log 9047203969511166466 (index 185) to leader 2
client write log 1817356985831497397 (index 186) to leader 2
client write log 3926338183273862208 (index 187) to leader 2
client write log 834050963341845563 (index 188) to leader 2
client write log 8347752149466233117 (index 189) to leader 2
client write log 1497660336036929056 (index 190) to leader 2
client write log 6329724492287255561 (index 191) to leader 2
client write log 8483145132610328214 (index 192) to leader 2
client write log 3662800961811582718 (index 193) to leader 2
client write log 536736378118237685 (index 194) to leader 2
client write log 602846502479705757 (index 195) to leader 2
client write log 3113003908315141442 (index 196) to leader 2
client write log 2658656362563464256 (index 197) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 182
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 5568 term 30 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 30 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 29 179} {4338944878713518979 30 180} {5806496954348262442 30 181} {1569313603298214272 30 182} {4763131985693612302 30 183} {8121187180432135557 30 184} {9047203969511166466 30 185} {1817356985831497397 30 186} {3926338183273862208 30 187} {834050963341845563 30 188} {8347752149466233117 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197}]
------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 182
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 68316 term 30 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 30 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4789156335230858318 (index 198) to leader 2
term 30 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
term 32 server 1 vote for server 2
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 37088 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 67860 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 199->198
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 199->198
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 183  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 9825 term 32 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94381 term 32 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 13885 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 62239 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 41030 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 33118 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 85973 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 20213 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 62566 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 71740 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 64557 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 27496 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 75869 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 50376 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 67283 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 3716 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 25582 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 49074 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 98783 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11274 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 51233 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 63508 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 78404 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 20782 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 22114 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 48893 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 13610 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12382 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 36961 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92879 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 65682 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
------------------------------------------------------
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
flag 92546 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 55715 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26057 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 93089 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20438 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 60330 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198}]
------------------------------------------------------
client write log 4789156335230858318 (index 199) to leader 2
flag 13525 term 32 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
flag 79601 term 32 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 30 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198} {4789156335230858318 32 199}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 189} {1497660336036929056 30 190} {6329724492287255561 30 191} {8483145132610328214 30 192} {3662800961811582718 30 193} {536736378118237685 30 194} {602846502479705757 30 195} {3113003908315141442 30 196} {2658656362563464256 30 197} {4789156335230858318 30 198} {4789156335230858318 32 199}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 6925 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 55903 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 43140 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 47117 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
flag 58723 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 57213 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15667 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 25130 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
flag 80061 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 4545 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8622920212962672717 (index 200) to leader 2
flag 13535 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 13925 term 32 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8622920212962672717 32 200}]
------------------------------------------------------
flag 35559 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 71943 term 32 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8622920212962672717 32 200}]
------------------------------------------------------
client write log 4938653304390652773 (index 201) to leader 2
client write log 5741045096225249890 (index 202) to leader 2
client write log 844868541084842147 (index 203) to leader 2
client write log 8618576354640366618 (index 204) to leader 2
client write log 2623650518305308688 (index 205) to leader 2
client write log 7483312710498800708 (index 206) to leader 2
client write log 781767232901875886 (index 207) to leader 2
client write log 87805972152751106 (index 208) to leader 2
client write log 8867578235280929932 (index 209) to leader 2
client write log 1141990781208927706 (index 210) to leader 2
client write log 3192746629548426277 (index 211) to leader 2
flag 96186 term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 32670 term 32 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 32 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 32 199} {8622920212962672717 32 200} {4938653304390652773 32 201} {5741045096225249890 32 202} {844868541084842147 32 203} {8618576354640366618 32 204} {2623650518305308688 32 205} {7483312710498800708 32 206} {781767232901875886 32 207} {87805972152751106 32 208} {8867578235280929932 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211}]
------------------------------------------------------
term 32 Server2 start snapshot! index=209
term 32 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 50069 term 32 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 32 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211}]
------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 0
client write log 89336229230221833 (index 212) to leader 2
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get outdate rpc reply from server 0
flag 42052 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 26630 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 85488 term 34 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 12355 term 34 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 90439 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 9352 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 75834 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78021 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 28887 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23431 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 81987 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63629 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 77576 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 36694 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 7589 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 58020 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 35746 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 86709 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 23612 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54888 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 24155 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 47747 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 66235 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59997 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 15775 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 53098 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 74754 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 1302 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 94134 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 96512 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 62667 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 46882 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 3502 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 30497 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 12409 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
flag 57985 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 81070 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4759 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 40205 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212}]
------------------------------------------------------
client write log 89336229230221833 (index 213) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28795 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 15544 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7019 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 99300 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69829 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 36197 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
flag 66020 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 40635 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
flag 63506 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 72444 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
flag 15361 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 25520 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
flag 64706 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 25740 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 64134 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 42614 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 22774 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 96544 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 19342 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 32143 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 0
term 35 server 1 become leader
------------------------------------------------------
flag 51766 term 35 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 62499 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213}]
------------------------------------------------------
client write log 582143022739437169 (index 214) to leader 1
flag 30723 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 63565 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 31098 term 35 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 78464 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214}]
------------------------------------------------------
flag 31708 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 39654 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
flag 12447 term 35 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 54806 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214}]
------------------------------------------------------
client write log 3644601135221372948 (index 215) to leader 1
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 213
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 27789 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 24217 term 35 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 73352 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215}]
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 213
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 52227 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 10768 term 35 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 35 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 8475 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6620389872679634601 (index 216) to leader 1
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 213
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 78413 term 34 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72412 term 35 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 35 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 8132 term 35 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
flag 69375 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 93959 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18712 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 96838 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 217->216
------------------------------------------------------
flag 61887 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 0  matchIndex[2]: 216
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 2 InstallSnapshot fail
rf.commitIndex 216 args.LastIncludedIndex 209
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77988 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 88007 term 35 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
flag 68523 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 65071 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8159370049289066647 (index 217) to leader 1
flag 3084 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 52881 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216} {8159370049289066647 35 217}]
------------------------------------------------------
flag 14146 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 69053 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216} {8159370049289066647 35 217}]
------------------------------------------------------
client write log 5703456732707887885 (index 218) to leader 1
client write log 6068359279273936134 (index 219) to leader 1
client write log 6311285339363744991 (index 220) to leader 1
client write log 1954305280189678058 (index 221) to leader 1
client write log 8190111807966560426 (index 222) to leader 1
client write log 8805852372779805133 (index 223) to leader 1
client write log 3529723479682232702 (index 224) to leader 1
client write log 2901068896125481981 (index 225) to leader 1
client write log 7161291393317685499 (index 226) to leader 1
client write log 4733771320590027891 (index 227) to leader 1
client write log 6547153112256038706 (index 228) to leader 1
client write log 7091351635528091971 (index 229) to leader 1
flag 77016 term 35 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 35 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 47304 term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 32 209} {1141990781208927706 32 210} {3192746629548426277 32 211} {89336229230221833 32 212} {89336229230221833 34 213} {582143022739437169 35 214} {3644601135221372948 35 215} {6620389872679634601 35 216} {8159370049289066647 35 217} {5703456732707887885 35 218} {6068359279273936134 35 219} {6311285339363744991 35 220} {1954305280189678058 35 221} {8190111807966560426 35 222} {8805852372779805133 35 223} {3529723479682232702 35 224} {2901068896125481981 35 225} {7161291393317685499 35 226} {4733771320590027891 35 227} {6547153112256038706 35 228} {7091351635528091971 35 229}]
------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=229
-------------------------------------------------------------
term 35 Server1 start snapshot! index=229
term 35 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 26758 term 35 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 35 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=229
-------------------------------------------------------------
term 35 Server0 start snapshot! index=229
term 35 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4245744360678826233 (index 230) to leader 1
flag 24761 term 35 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 35 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 42212 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 35773 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 231->230
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 28800 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 217  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43257 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 33568 term 37 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 14914 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 30472 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 51809 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 86194 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 1 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 1
flag 30474 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 72295 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 53511 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 83892 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72758 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 71032 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 32166 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 28872 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 31050 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 33943 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 36077 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 46349 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 27686 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30841 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 22949 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 59910 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 11292 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1201 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 27792 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94081 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 46947 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7446 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 43481 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
flag 17877 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 59941 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 35 229} {4245744360678826233 35 230}]
------------------------------------------------------
client write log 4245744360678826233 (index 231) to leader 1
flag 50802 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 79380 term 37 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 27687 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 3646 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 56919 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 9403 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 89314 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 66616 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 33188 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 17232 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 58416 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 95706 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
flag 72294 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 50105 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4175730588791046801 (index 232) to leader 1
flag 30877 term 37 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 88843 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231} {4175730588791046801 37 232}]
------------------------------------------------------
flag 58293 term 37 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 60940 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231} {4175730588791046801 37 232}]
------------------------------------------------------
client write log 1111433201347871542 (index 233) to leader 1
client write log 7311433405488793021 (index 234) to leader 1
client write log 8567703954271677115 (index 235) to leader 1
client write log 4641781244366877811 (index 236) to leader 1
client write log 7885594673989820158 (index 237) to leader 1
client write log 7121205230062502885 (index 238) to leader 1
client write log 5024491553701168163 (index 239) to leader 1
client write log 5319181765496955617 (index 240) to leader 1
client write log 6031988144743381000 (index 241) to leader 1
client write log 185262064699686969 (index 242) to leader 1
client write log 4009418810404750239 (index 243) to leader 1
client write log 7296778982759727124 (index 244) to leader 1
client write log 1730527341628031269 (index 245) to leader 1
client write log 3854373315235544485 (index 246) to leader 1
flag 7754 term 37 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 37 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
flag 53333 term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 232 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 35 229} {4245744360678826233 35 230} {4245744360678826233 37 231} {4175730588791046801 37 232} {1111433201347871542 37 233} {7311433405488793021 37 234} {8567703954271677115 37 235} {4641781244366877811 37 236} {7885594673989820158 37 237} {7121205230062502885 37 238} {5024491553701168163 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
flag 88880 term 37 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 37 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246}]
------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7845398047840329181 (index 247) to leader 1
term 37 server 1 not vote for server 2, 日志不够新
term 37 server 0 not vote for server 2, 日志不够新
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get outdate rpc reply from server 0
flag 33849 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 16315 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
flag 63353 term 39 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 91718 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 34143 term 39 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 39 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 36409 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 15036 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81088 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 91448 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 84891 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 406 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 80042 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 83408 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 2
flag 84008 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 74122 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 75983 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 8285 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49619 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 43722 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52898 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 23950 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17687 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 92655 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 924 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 25261 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 24847 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 7830 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35458 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 77296 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 61956 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 8480 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
flag 84619 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 95700 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79163 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 63375 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 62339 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 54156 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
flag 31470 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 50588 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247}]
------------------------------------------------------
client write log 7845398047840329181 (index 248) to leader 1
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14486 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
flag 63536 term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
flag 65852 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 77537 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
flag 98384 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 78081 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
flag 39660 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 67712 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11387 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 27423 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
flag 69390 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 1493 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
flag 59595 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 80417 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69454 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 85543 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 79538 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 67333 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 60064 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 11806 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 62883 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 33249 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 0
term 40 server 2 become leader
------------------------------------------------------
flag 26839 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 39397 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248}]
------------------------------------------------------
client write log 5552199361441110907 (index 249) to leader 2
flag 40357 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 6675 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 18095 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 13001 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 239} {5319181765496955617 37 240} {6031988144743381000 37 241} {185262064699686969 37 242} {4009418810404750239 37 243} {7296778982759727124 37 244} {1730527341628031269 37 245} {3854373315235544485 37 246} {7845398047840329181 37 247} {7845398047840329181 39 248} {5552199361441110907 40 249}]
------------------------------------------------------
term 40 Server2 start snapshot! index=249
term 40 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 1200 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 64377 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 51804 term 40 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 249}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 1813225022823127405 (index 250) to leader 2
client write log 8502788295560304854 (index 251) to leader 2
client write log 8461635370201041325 (index 252) to leader 2
client write log 3504764516249112582 (index 253) to leader 2
client write log 3379765495415203224 (index 254) to leader 2
client write log 4564149751078912813 (index 255) to leader 2
client write log 6048747055790506256 (index 256) to leader 2
client write log 699750444442554415 (index 257) to leader 2
client write log 6017729164623226259 (index 258) to leader 2
client write log 1112656103843719502 (index 259) to leader 2
client write log 8280832992071555351 (index 260) to leader 2
client write log 2824596552436553 (index 261) to leader 2
client write log 5546847906524018656 (index 262) to leader 2
client write log 2951031112100069552 (index 263) to leader 2
flag 17649 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
flag 9737 term 39 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
flag 35297 term 40 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 249} {1813225022823127405 40 250} {8502788295560304854 40 251} {8461635370201041325 40 252} {3504764516249112582 40 253} {3379765495415203224 40 254} {4564149751078912813 40 255} {6048747055790506256 40 256} {699750444442554415 40 257} {6017729164623226259 40 258} {1112656103843719502 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 40 Server2 start snapshot! index=259
term 40 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
flag 87882 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 248
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 29391 term 40 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6469819253197992163 (index 249) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22649 term 39 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 248
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96408 term 40 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 40 server 2 not vote for server 1, 日志不够新
term 40 server 0 not vote for server 1, 日志不够新
term 42 server 0 vote for server 2
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 0
term 42 server 2 become leader
------------------------------------------------------
term 42 server 2 get outdate rpc reply from server 1
flag 8655 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 93212 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 264->263
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20513 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 64613 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 61316 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 17371 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 75130 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 87594 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 9320 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 57033 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 77217 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 56241 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13694 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 43803 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 18409 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 91833 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44224 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 98882 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 75642 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 31686 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 26917 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 71477 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 49903 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 81447 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 85573 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 42423 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 86405 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 78380 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 73859 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 60422 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35796 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 89647 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32367 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 85060 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 28885 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 86105 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
flag 89353 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 71465 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263}]
------------------------------------------------------
client write log 6469819253197992163 (index 264) to leader 2
flag 26722 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 83424 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21547 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 18977 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44649 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 1176 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
flag 61499 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 99116 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
flag 21142 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 56859 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55818 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 16730 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9014261928277811346 (index 265) to leader 2
flag 47163 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
flag 64947 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264} {9014261928277811346 42 265}]
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66202 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 72147 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264} {9014261928277811346 42 265}]
------------------------------------------------------
client write log 1797085989466826654 (index 266) to leader 2
client write log 3884673351510973102 (index 267) to leader 2
client write log 4230012592966833028 (index 268) to leader 2
client write log 7389689131335110023 (index 269) to leader 2
client write log 135709047271808328 (index 270) to leader 2
client write log 1045181738880254103 (index 271) to leader 2
flag 47243 term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 77624 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 40 259} {8280832992071555351 40 260} {2824596552436553 40 261} {5546847906524018656 40 262} {2951031112100069552 40 263} {6469819253197992163 42 264} {9014261928277811346 42 265} {1797085989466826654 42 266} {3884673351510973102 42 267} {4230012592966833028 42 268} {7389689131335110023 42 269} {135709047271808328 42 270} {1045181738880254103 42 271}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 80854 term 42 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8047919533426922369 (index 272) to leader 2
term 42 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 81524 term 42 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 0 vote for server 2
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 get outdate rpc reply from server 0
flag 46483 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 8200 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 273->272
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 265  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 7943 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 459 term 44 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 1003 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
flag 98228 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 40278 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13639 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 65107 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
flag 7257 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 81581 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59248 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 50216 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90696 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 3024 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
flag 72446 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 49154 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6715127047650196682 (index 273) to leader 2
flag 95764 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 37717 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272} {6715127047650196682 44 273}]
------------------------------------------------------
flag 62006 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 10804 term 44 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 44 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272} {6715127047650196682 44 273}]
------------------------------------------------------
client write log 5511158168218523546 (index 274) to leader 2
client write log 1203264867546278683 (index 275) to leader 2
client write log 7779397819360778874 (index 276) to leader 2
client write log 5458204280991020914 (index 277) to leader 2
client write log 8509062006526330203 (index 278) to leader 2
client write log 8914338959157590363 (index 279) to leader 2
client write log 1168312924271017811 (index 280) to leader 2
client write log 5367803973050359508 (index 281) to leader 2
client write log 4256924564483527129 (index 282) to leader 2
client write log 1756307646578689133 (index 283) to leader 2
client write log 677366959896724175 (index 284) to leader 2
client write log 521412267949937649 (index 285) to leader 2
client write log 1905681708057864262 (index 286) to leader 2
flag 41148 term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 61060 term 44 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 44 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 42 269} {135709047271808328 42 270} {1045181738880254103 42 271} {8047919533426922369 42 272} {6715127047650196682 44 273} {5511158168218523546 44 274} {1203264867546278683 44 275} {7779397819360778874 44 276} {5458204280991020914 44 277} {8509062006526330203 44 278} {8914338959157590363 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 51576 term 44 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6082423376886864663 (index 287) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 0 vote for server 2
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 1
flag 20945 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 23451 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 288->287
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 62626 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 44 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83622 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 89267 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 75758 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 5749 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 97896 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 95419 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 55046 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 65185 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 81741 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 12861 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50209 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 95641 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44701 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 32788 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25392 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 87539 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78465 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 12138 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22439 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 45571 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 46737 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 53276 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 62618 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 84897 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 44917 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 8288 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 95500 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 45740 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 97536 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 11277 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 30277 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 96459 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
flag 2024 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 40516 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
term 46 server 1 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 1
flag 17846 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 40438 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287}]
------------------------------------------------------
client write log 6082423376886864663 (index 288) to leader 2
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 88075 term 46 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
flag 80337 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
flag 16243 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 89022 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
flag 15598 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 39634 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
flag 1393 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 54823 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
flag 68953 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 43630 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
flag 22342 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 85654 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 57097 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 88778 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 79853 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 86746 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 73532 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 2133 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 0
term 47 server 1 become leader
------------------------------------------------------
flag 27848 term 47 leader 1 nextIndex[0]: 289  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 10889 term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288}]
------------------------------------------------------
client write log 2041937705173815091 (index 289) to leader 1
flag 71254 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 65289 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
flag 71986 term 47 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 54013 term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 279} {1168312924271017811 44 280} {5367803973050359508 44 281} {4256924564483527129 44 282} {1756307646578689133 44 283} {677366959896724175 44 284} {521412267949937649 44 285} {1905681708057864262 44 286} {6082423376886864663 44 287} {6082423376886864663 46 288} {2041937705173815091 47 289}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 74150 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 288
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 55316 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 Server0 start snapshot! index=289
term 47 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5230325073757518484 (index 290) to leader 1
flag 64312 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 288
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 7496 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 47 289} {5230325073757518484 47 290}]
------------------------------------------------------
flag 44419 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 288
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 289->288
------------------------------------------------------
flag 26693 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 47 289} {5230325073757518484 47 290}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8461452195869626179 (index 291) to leader 1
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 288
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 288
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14077 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
------------------------------------------------------
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get outdate rpc reply from server 0
flag 87550 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 23283 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 292->291
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 28192 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 14976 term 49 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56724 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 29711 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
flag 24031 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 43291 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
flag 93728 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 88377 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
flag 61768 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 34894 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 35895 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 12338 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6135980902060939582 (index 292) to leader 1
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5550 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 39276 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291} {6135980902060939582 49 292}]
------------------------------------------------------
flag 57637 term 49 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 49 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 292 
------------------------------------------------------
flag 14998 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291} {6135980902060939582 49 292}]
------------------------------------------------------
client write log 6983350718071054280 (index 293) to leader 1
client write log 5561384397602039185 (index 294) to leader 1
client write log 957919576823097872 (index 295) to leader 1
client write log 2315524716055807330 (index 296) to leader 1
client write log 5016145600606076586 (index 297) to leader 1
client write log 4355424521265191945 (index 298) to leader 1
client write log 8898712617602044618 (index 299) to leader 1
client write log 7659340415146340033 (index 300) to leader 1
client write log 8908188297243858338 (index 301) to leader 1
client write log 2009814042345403690 (index 302) to leader 1
client write log 5008446331719725065 (index 303) to leader 1
client write log 6400961113691118563 (index 304) to leader 1
client write log 3907049475757003374 (index 305) to leader 1
flag 46778 term 49 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 49 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 292 
------------------------------------------------------
flag 9483 term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 47 289} {5230325073757518484 47 290} {8461452195869626179 47 291} {6135980902060939582 49 292} {6983350718071054280 49 293} {5561384397602039185 49 294} {957919576823097872 49 295} {2315524716055807330 49 296} {5016145600606076586 49 297} {4355424521265191945 49 298} {8898712617602044618 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305}]
------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
flag 93668 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305}]
------------------------------------------------------
term 49 Server0 start snapshot! index=299
term 49 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1002600643722129091 (index 306) to leader 1
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 0 vote for server 1
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 31299 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 5132 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
flag 60239 term 51 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92380 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 14888 term 51 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 51 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16685 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 67276 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 70075 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 41229 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 28049 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 41954 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 76256 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 61032 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 50884 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 81229 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 73925 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 2384 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 6778 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 47089 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 16660 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 56819 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 69131 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 16964 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 13437 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 29576 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 82654 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 39450 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94157 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 57482 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 47804 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 78773 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 24989 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 27924 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 7858 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 41017 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68965 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 67519 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
flag 67129 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 72762 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1002600643722129091 (index 307) to leader 1
flag 14173 term 51 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 57024 term 51 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 51 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
flag 5741 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 22552 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16587 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 34900 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
flag 68940 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 90525 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
flag 40148 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 94585 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
flag 97395 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 34066 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3929814428281110419 (index 308) to leader 1
flag 72319 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 17809 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307} {3929814428281110419 51 308}]
------------------------------------------------------
flag 43900 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 88320 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307} {3929814428281110419 51 308}]
------------------------------------------------------
client write log 6534628314164489035 (index 309) to leader 1
client write log 415460524201674747 (index 310) to leader 1
client write log 2271733307321769346 (index 311) to leader 1
client write log 8410149777760146255 (index 312) to leader 1
client write log 7045300877308226444 (index 313) to leader 1
client write log 7699492032752164641 (index 314) to leader 1
client write log 6440634947373725553 (index 315) to leader 1
client write log 2570284386158460653 (index 316) to leader 1
client write log 7283433954764578442 (index 317) to leader 1
client write log 8472526410110923295 (index 318) to leader 1
client write log 2438541741993307617 (index 319) to leader 1
client write log 6347708810303487868 (index 320) to leader 1
client write log 3306946898947182454 (index 321) to leader 1
client write log 6152992491130194966 (index 322) to leader 1
flag 29122 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 41322 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 49 299} {7659340415146340033 49 300} {8908188297243858338 49 301} {2009814042345403690 49 302} {5008446331719725065 49 303} {6400961113691118563 49 304} {3907049475757003374 49 305} {1002600643722129091 49 306} {1002600643722129091 51 307} {3929814428281110419 51 308} {6534628314164489035 51 309} {415460524201674747 51 310} {2271733307321769346 51 311} {8410149777760146255 51 312} {7045300877308226444 51 313} {7699492032752164641 51 314} {6440634947373725553 51 315} {2570284386158460653 51 316} {7283433954764578442 51 317} {8472526410110923295 51 318} {2438541741993307617 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60281 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322}]
------------------------------------------------------
term 51 Server0 start snapshot! index=309
term 51 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=322
-------------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 2
client write log 512537051690949389 (index 323) to leader 1
flag 72230 term 51 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 51 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 1 get outdate rpc reply from server 0
flag 80440 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 49016 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 324->323
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 95966 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56021 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 77220 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37014 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 73279 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78830 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 44887 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56632 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 41819 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 87938 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 45282 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 83449 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 95322 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 27666 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 70313 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 11430 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 4687 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 80320 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 49988 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36491 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 62839 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53339 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 68173 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 80089 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 73145 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 48684 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 24364 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 74817 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 95173 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63398 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 55206 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
flag 19236 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 39351 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16021 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 34257 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323}]
------------------------------------------------------
client write log 512537051690949389 (index 324) to leader 1
flag 54523 term 53 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 40964 term 53 leader 1 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
flag 83774 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 47939 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
flag 56807 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 84823 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16223 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 34154 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
flag 84062 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 65065 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62315 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 30925 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 30148 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 4351 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 90898 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 64764 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81975 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 33956 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 70133 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 62902 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 0
term 54 server 2 become leader
------------------------------------------------------
flag 8600 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 31483 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324}]
------------------------------------------------------
client write log 1830866842863306924 (index 325) to leader 2
flag 91587 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 84269 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 6563 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 74433 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324} {1830866842863306924 54 325}]
------------------------------------------------------
flag 52296 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 81746 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 80880 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 32873 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324} {1830866842863306924 54 325}]
------------------------------------------------------
client write log 4938088283345569876 (index 326) to leader 2
client write log 5459263151605081180 (index 327) to leader 2
client write log 5321444962650133485 (index 328) to leader 2
client write log 4991900044196550687 (index 329) to leader 2
client write log 1393251169968492358 (index 330) to leader 2
client write log 6518532455074614334 (index 331) to leader 2
client write log 3929502861086259012 (index 332) to leader 2
client write log 5429480643369689112 (index 333) to leader 2
client write log 3802675696584577123 (index 334) to leader 2
flag 85553 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 76610 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 32414 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 7107 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 51 319} {6347708810303487868 51 320} {3306946898947182454 51 321} {6152992491130194966 51 322} {512537051690949389 51 323} {512537051690949389 53 324} {1830866842863306924 54 325} {4938088283345569876 54 326} {5459263151605081180 54 327} {5321444962650133485 54 328} {4991900044196550687 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=334
-------------------------------------------------------------
flag 44359 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 61959 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 52566 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 Server0 start snapshot! index=329
term 54 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
flag 79767 term 53 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 16121 term 53 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
!!!!!!connect server 1
client write log 5603256192842625882 (index 325) to leader 1
term 54 server 2 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 54 server 0 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 57822 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 1240 term 54 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 330->329
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73594 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 329
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 2 get outdate rpc reply from server 1
flag 99591 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 67791 term 54 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87493 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 16634 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 47028 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 12532 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 9746 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 87141 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 59266 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 15085 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88434 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 96987 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 90025 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 66658 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 39248 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 16747 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60861 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 71107 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 94661 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 53371 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 82834 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 79114 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 335->334
------------------------------------------------------
flag 28694 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 334
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
term 54 server 1 InstallSnapshot fail
rf.commitIndex 334 args.LastIncludedIndex 329
------------------------------------------------------
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 30000 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 67096 term 54 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51446 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 48162 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 82614 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 72293 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 4674 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 86806 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 41804 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 27522 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
flag 5450 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 90580 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334}]
------------------------------------------------------
client write log 5603256192842625882 (index 335) to leader 2
flag 63134 term 54 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
flag 54834 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44092 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 12366 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
flag 39221 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 71436 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7883 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 52828 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96837 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 55768 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
flag 84674 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 21870 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
flag 17386 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 10768 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8540849367536659795 (index 336) to leader 2
flag 30775 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 78175 term 54 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335} {8540849367536659795 54 336}]
------------------------------------------------------
flag 25650 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 336 
------------------------------------------------------
flag 35425 term 54 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 54 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 54 leaderCommit: 336 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335} {8540849367536659795 54 336}]
------------------------------------------------------
client write log 6732144007966526360 (index 337) to leader 2
client write log 4702654307645443659 (index 338) to leader 2
client write log 7743152577128367252 (index 339) to leader 2
client write log 5120474916267583350 (index 340) to leader 2
client write log 3564294105954619436 (index 341) to leader 2
client write log 1910587079432351928 (index 342) to leader 2
client write log 6790754319326680599 (index 343) to leader 2
flag 2373 term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 336 
------------------------------------------------------
flag 59291 term 54 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 54 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 54 leaderCommit: 336 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 54 329} {1393251169968492358 54 330} {6518532455074614334 54 331} {3929502861086259012 54 332} {5429480643369689112 54 333} {3802675696584577123 54 334} {5603256192842625882 54 335} {8540849367536659795 54 336} {6732144007966526360 54 337} {4702654307645443659 54 338} {7743152577128367252 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343}]
------------------------------------------------------
term 54 Server2 start snapshot! index=339
term 54 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=343
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 99215 term 54 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=343
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7612606647111256950 (index 344) to leader 2
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 68182 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 66850 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 345->344
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 345->344
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 68220 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
flag 53228 term 56 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 56 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 71423 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91958 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 61885 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 70651 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 23215 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75732 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 79341 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 79247 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 38081 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 20543 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 91608 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
flag 8238 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 86533 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 38567 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 5155 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 55987 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 33454 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 50737 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 38608 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 58243 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 30976 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 31250 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 66119 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33697 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 4893 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 33468 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 13110 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 48634 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 14413 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 99857 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 8340 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
flag 3859 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 37850 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27637 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 54786 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=343
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344}]
------------------------------------------------------
client write log 7612606647111256950 (index 345) to leader 2
flag 46287 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 15337 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28985 term 56 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
flag 2882 term 56 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54851 term 56 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
flag 32596 term 56 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55108 term 56 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
flag 26701 term 56 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
flag 97656 term 56 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
flag 73546 term 56 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73090 term 56 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
flag 23434 term 56 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 56 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {5120474916267583350 54 340} {3564294105954619436 54 341} {1910587079432351928 54 342} {6790754319326680599 54 343} {7612606647111256950 54 344} {7612606647111256950 56 345}]
------------------------------------------------------
  ... Passed --  83.1  3 1888  812595  345
--- PASS: TestSnapshotInstall2D (83.09s)
PASS
