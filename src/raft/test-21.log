=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 2 vote for server 1
term 1 server 1 get outdate rpc reply from server 2
client write log 169325497520922902 (index 1) to leader 1
flag 62773 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 80215 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
flag 53619 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23058 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
flag 35543 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30895 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
flag 79865 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43359 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
flag 13305 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 93870 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
flag 80344 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55577 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {169325497520922902 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8665757343435478707 (index 2) to leader 1
flag 35511 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48220 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {169325497520922902 1 1} {8665757343435478707 1 2}]
------------------------------------------------------
flag 41002 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 32601 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {169325497520922902 1 1} {8665757343435478707 1 2}]
------------------------------------------------------
client write log 6536568903647874351 (index 3) to leader 1
client write log 8242758898924892654 (index 4) to leader 1
client write log 2327595880334364712 (index 5) to leader 1
client write log 3224770823674157752 (index 6) to leader 1
client write log 130169782419985389 (index 7) to leader 1
client write log 4554194146472789841 (index 8) to leader 1
client write log 3309242077606751430 (index 9) to leader 1
client write log 8084457104503641524 (index 10) to leader 1
client write log 5935897083585331886 (index 11) to leader 1
client write log 6455829426761561923 (index 12) to leader 1
client write log 8544108588804102627 (index 13) to leader 1
flag 12817 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 39245 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{<nil> 0 0} {169325497520922902 1 1} {8665757343435478707 1 2} {6536568903647874351 1 3} {8242758898924892654 1 4} {2327595880334364712 1 5} {3224770823674157752 1 6} {130169782419985389 1 7} {4554194146472789841 1 8} {3309242077606751430 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
flag 68321 term 1 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3497207141105819665 (index 14) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 37268 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 44573 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
flag 5186 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 80121 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 36761 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 94828 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 88679 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 77237 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 56315 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 89118 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 45950 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 26887 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 67802 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 61752 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 1160 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 18016 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 37502 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 72283 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 29501 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 20647 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 76968 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 40419 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 14796 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 29529 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 80081 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 80731 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 51010 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 3291 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 81105 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 97635 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 76570 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 77934 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 69279 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 96352 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 7787 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
flag 96227 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 5347 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14}]
------------------------------------------------------
client write log 3497207141105819665 (index 15) to leader 1
flag 82447 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 40756 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 19234 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 12137 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 41791 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 67068 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 12714 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 16787 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 45650 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 99503 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 64867 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 25729 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
flag 82193 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 24785 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 62416 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 10209 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 54770 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 1026 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 19375 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 10092 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
client write log 1483168141839920068 (index 16) to leader 2
flag 16010 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 99762 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15} {1483168141839920068 4 16}]
------------------------------------------------------
flag 74189 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 99579 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 10669 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 33858 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15} {1483168141839920068 4 16}]
------------------------------------------------------
client write log 1394268921425376188 (index 17) to leader 2
client write log 7039613246990367436 (index 18) to leader 2
client write log 1569550305332750144 (index 19) to leader 2
client write log 1550052924528711940 (index 20) to leader 2
client write log 8555418938378473005 (index 21) to leader 2
client write log 5856921968393251916 (index 22) to leader 2
flag 97864 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 71830 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 71811 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 80768 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {8084457104503641524 1 10} {5935897083585331886 1 11} {6455829426761561923 1 12} {8544108588804102627 1 13} {3497207141105819665 1 14} {3497207141105819665 3 15} {1483168141839920068 4 16} {1394268921425376188 4 17} {7039613246990367436 4 18} {1569550305332750144 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
flag 33680 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 13003 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 32502 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5148307425983395768 (index 16) to leader 1
flag 89525 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 8699 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75959 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 76619 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 53419 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89173 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 27911 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55717 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 70971 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 57226 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24798 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 64986 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 90554 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 11549 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 72219 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 61453 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 32773 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 1975 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24554 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 37334 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 47266 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43228 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 98000 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59526 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 42784 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 66586 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 58684 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 66134 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 55808 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 45890 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 76853 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 97167 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 13942 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 96173 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 38038 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
flag 60581 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 33959 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
flag 62913 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 89843 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70961 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 84048 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22}]
------------------------------------------------------
client write log 5148307425983395768 (index 23) to leader 2
flag 24427 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 18156 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
flag 80879 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 92351 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53835 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 3715 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
flag 89630 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 89295 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
flag 98496 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 97365 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
flag 49866 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 77146 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
flag 61138 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 23
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6538016807142921306 (index 24) to leader 2
flag 91199 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 18464 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23} {6538016807142921306 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3500 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 19469 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23} {6538016807142921306 4 24}]
------------------------------------------------------
client write log 4344177261741061442 (index 25) to leader 2
client write log 6052602717523962297 (index 26) to leader 2
client write log 3507824358364771986 (index 27) to leader 2
client write log 1020487690016793121 (index 28) to leader 2
client write log 1760598546709422233 (index 29) to leader 2
client write log 175753643612612163 (index 30) to leader 2
client write log 1426638154818141652 (index 31) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6156 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 78175 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 19} {1550052924528711940 4 20} {8555418938378473005 4 21} {5856921968393251916 4 22} {5148307425983395768 4 23} {6538016807142921306 4 24} {4344177261741061442 4 25} {6052602717523962297 4 26} {3507824358364771986 4 27} {1020487690016793121 4 28} {1760598546709422233 4 29} {175753643612612163 4 30} {1426638154818141652 4 31}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=31
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 7260 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4197826071629334990 (index 32) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 11936 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 58388 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 33->32
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 98525 term 6 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 48231 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 97354 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15258 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 83304 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13121 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 28891 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 30383 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 76412 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 35447 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 76020 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66183 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 96100 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 89570 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 81582 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 71542 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 78458 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 90968 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 2171 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 59783 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 19735 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 35688 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 93329 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 64000 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 39225 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4678 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 71481 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88262 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 92924 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 88398 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 22665 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 53338 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 2382 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
flag 39724 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 75535 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32}]
------------------------------------------------------
client write log 4197826071629334990 (index 33) to leader 2
flag 14146 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 31195 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41227 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 8963 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19439 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 92593 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
flag 96852 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 44350 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
flag 78143 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 15703 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28133 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 6519 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4703951178198360591 (index 34) to leader 2
flag 69704 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 68518 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33} {4703951178198360591 6 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9762 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 90054 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33} {4703951178198360591 6 34}]
------------------------------------------------------
client write log 4477453083021624415 (index 35) to leader 2
client write log 6596608769520565525 (index 36) to leader 2
client write log 1988571351871651333 (index 37) to leader 2
client write log 6847230687755645146 (index 38) to leader 2
client write log 3825677253185639007 (index 39) to leader 2
client write log 3912283465961556194 (index 40) to leader 2
flag 84762 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 19966 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {175753643612612163 4 30} {1426638154818141652 4 31} {4197826071629334990 4 32} {4197826071629334990 6 33} {4703951178198360591 6 34} {4477453083021624415 6 35} {6596608769520565525 6 36} {1988571351871651333 6 37} {6847230687755645146 6 38} {3825677253185639007 6 39} {3912283465961556194 6 40}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 27089 term 6 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2867274302969995355 (index 41) to leader 2
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 0
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66454 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 75727 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 42->41
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 94999 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 64466 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 75253 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 27165 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 64235 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 91921 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 70303 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 56683 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 24613 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73897 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 16323 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 88704 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 24886 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 88731 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 69890 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 63461 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 56910 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7614 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 28686 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10712 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 1071 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 93565 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 14042 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 25520 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 43507 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 10775 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 69626 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 19814 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 95272 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 68898 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 69475 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 88419 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 97416 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 75274 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 42798 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
flag 69975 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 43902 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41}]
------------------------------------------------------
client write log 2867274302969995355 (index 42) to leader 2
flag 35316 term 8 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 83863 term 8 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
flag 93317 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 37605 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
flag 9617 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 96023 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24170 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 98954 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
flag 97158 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 89395 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
flag 28947 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 74020 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
flag 14043 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 45972 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 40672 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 11870 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 49993 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 92679 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 74656 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 73594 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 18655 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 1416 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 30300 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 29167 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42}]
------------------------------------------------------
client write log 6293216752665193501 (index 43) to leader 1
flag 84066 term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 1049 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 31794 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 85881 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 43->42
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 42
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 68019 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 66050 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 32085 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
client write log 8439874947055339450 (index 44) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 42
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 77403 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 81614 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 34238 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44}]
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 42
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 58648 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 97242 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 2296 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4031692186013637496 (index 45) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 42
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 30525 term 8 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4106 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 75498 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
------------------------------------------------------
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
flag 68047 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 19872 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 2
flag 38305 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 63132 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
flag 47957 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 83918 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57210 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 73356 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
flag 47016 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 14868 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
flag 17114 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 17987 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5025153440097691614 (index 46) to leader 1
flag 54165 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 36559 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45} {5025153440097691614 9 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 46->45
------------------------------------------------------
flag 41928 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 45
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45} {5025153440097691614 9 46}]
------------------------------------------------------
client write log 7075518643997617193 (index 47) to leader 1
client write log 9141431068269955713 (index 48) to leader 1
client write log 7888408805411812839 (index 49) to leader 1
client write log 4990913027692587841 (index 50) to leader 1
client write log 3483651124575492169 (index 51) to leader 1
client write log 9052948529709437636 (index 52) to leader 1
client write log 3757519908457612091 (index 53) to leader 1
client write log 2559546613304397802 (index 54) to leader 1
client write log 8548260834253891194 (index 55) to leader 1
flag 30428 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 45
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 39} {3912283465961556194 6 40} {2867274302969995355 6 41} {2867274302969995355 8 42} {6293216752665193501 9 43} {8439874947055339450 9 44} {4031692186013637496 9 45} {5025153440097691614 9 46} {7075518643997617193 9 47} {9141431068269955713 9 48} {7888408805411812839 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 17804 term 9 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 18543 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2071097354565644323 (index 56) to leader 1
flag 90402 term 9 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 28198 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 0 vote for server 1
term 12 server 1 get outdate rpc reply from server 0
flag 43036 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 79237 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 64654 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 76807 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 41090 term 12 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 12 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 82505 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 70194 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 67988 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 64558 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 988 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 16804 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 31124 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 21177 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 51928 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 87091 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 95219 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 1459 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 82155 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 3536 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 17263 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 13822 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84945 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 37256 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 1 not vote for server 2, 任期不够新
term 12 server 2 get outdate rpc reply from server 1
flag 87388 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 45455 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86937 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 68849 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
flag 32704 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 51606 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37297 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 51227 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56}]
------------------------------------------------------
client write log 2071097354565644323 (index 57) to leader 1
flag 21856 term 12 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 60026 term 12 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 12 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91146 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 92673 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
flag 72920 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 68975 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
flag 19228 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 12282 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
flag 11740 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 22728 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
flag 15112 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 18722 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3728647201029856943 (index 58) to leader 1
flag 11216 term 12 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
flag 37142 term 12 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 12 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 12 leaderCommit: 57 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57} {3728647201029856943 12 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
flag 94577 term 12 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 12 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 12 leaderCommit: 58 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 57
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57} {3728647201029856943 12 58}]
------------------------------------------------------
client write log 3087720029884471590 (index 59) to leader 1
client write log 9058541794043634685 (index 60) to leader 1
client write log 7158433070416707016 (index 61) to leader 1
client write log 7004586910803178861 (index 62) to leader 1
client write log 5438058932686251966 (index 63) to leader 1
client write log 6849228192598320782 (index 64) to leader 1
client write log 3911946071080324801 (index 65) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34656 term 12 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 12 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 12 leaderCommit: 58 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 57
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 49} {4990913027692587841 9 50} {3483651124575492169 9 51} {9052948529709437636 9 52} {3757519908457612091 9 53} {2559546613304397802 9 54} {8548260834253891194 9 55} {2071097354565644323 9 56} {2071097354565644323 12 57} {3728647201029856943 12 58} {3087720029884471590 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65}]
------------------------------------------------------
term 12 Server1 start snapshot! index=59
term 12 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=65
-------------------------------------------------------------
flag 75993 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 0  matchIndex[2]: 57
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65}]
------------------------------------------------------
term 12 Server0 start snapshot! index=59
term 12 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=65
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6553184350558154138 (index 66) to leader 1
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
flag 41194 term 12 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 12 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 2138 term 12 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 12 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 server 2 AppendEntries false 领导者任期过期 args.Term 12
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 not vote for server 2, 日志不够新
term 13 server 1 not vote for server 2, 日志不够新
term 12 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 2 vote for server 0
term 15 server 1 vote for server 0
term 15 server 0 get vote from server 2
term 15 server 0 become leader
------------------------------------------------------
term 15 server 0 get outdate rpc reply from server 1
flag 68788 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 50038 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 67->66
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 62893 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 leader 0 nextIndex[2]: 58  matchIndex[2]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
flag 89157 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 89509 term 15 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 15 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 8707 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 61615 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 6752 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 23145 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32370 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 86878 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 7393 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 87939 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 85704 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 64346 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 26603 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 17441 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24458 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 36125 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 84789 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 57225 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 92543 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 6020 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81233 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 14992 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 44320 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 40272 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
flag 44952 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 42262 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66}]
------------------------------------------------------
client write log 6553184350558154138 (index 67) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11350 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
flag 57377 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 12 leaderCommit: 65 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39224 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 30408 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 63084 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 21640 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
flag 94174 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 55916 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
flag 2655 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 89960 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
flag 39697 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 2890 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
flag 85942 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 98852 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 15301 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 4113 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47022 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 42014 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 95191 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 77229 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
flag 14798 term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 21094 term 16 leader 2 nextIndex[1]: 68  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67}]
------------------------------------------------------
flag 35702 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 36937 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
client write log 8060044569044326195 (index 68) to leader 2
flag 80810 term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 89018 term 16 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67} {8060044569044326195 16 68}]
------------------------------------------------------
flag 26924 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 35457 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 96892 term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
flag 47133 term 16 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 16 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 16 leaderCommit: 68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67} {8060044569044326195 16 68}]
------------------------------------------------------
flag 14262 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 6896 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
client write log 7307220712080433705 (index 69) to leader 2
flag 30844 term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
flag 30926 term 16 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 16 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 16 leaderCommit: 68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 59} {9058541794043634685 12 60} {7158433070416707016 12 61} {7004586910803178861 12 62} {5438058932686251966 12 63} {6849228192598320782 12 64} {3911946071080324801 12 65} {6553184350558154138 12 66} {6553184350558154138 15 67} {8060044569044326195 16 68} {7307220712080433705 16 69}]
------------------------------------------------------
term 16 Server2 start snapshot! index=69
term 16 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 1206 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 92487 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 16
------------------------------------------------------
flag 49736 term 16 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 16 leaderCommit: 69 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 16 69}]
------------------------------------------------------
term 16 Server1 start snapshot! index=69
term 16 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 53207 term 15 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 14531 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
!!!!!!connect server 0
client write log 8286053746955625415 (index 70) to leader 2
term 16 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 16
------------------------------------------------------
flag 14061 term 16 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 16 leaderCommit: 69 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 16 rf.commitIndex 69 rf.lastApplied 69
flag 30104 term 16 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 16 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 91729 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73537 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 4534 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
flag 58937 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 18837 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1850 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 38080 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 52019 term 16 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 16 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 17640 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44317 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 66962 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
flag 19642 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 2994 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 16 69} {8286053746955625415 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2068050298738923058 (index 71) to leader 2
flag 89337 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 17584 term 16 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 16 69} {8286053746955625415 16 70} {2068050298738923058 16 71}]
------------------------------------------------------
flag 3214 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
flag 67928 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 16 69} {8286053746955625415 16 70} {2068050298738923058 16 71}]
------------------------------------------------------
client write log 8634024296093131271 (index 72) to leader 2
client write log 2443775974214689791 (index 73) to leader 2
client write log 1555769214135666957 (index 74) to leader 2
client write log 2438193759251212896 (index 75) to leader 2
client write log 5970533689582928140 (index 76) to leader 2
client write log 5107124189312273641 (index 77) to leader 2
client write log 3019979963945275171 (index 78) to leader 2
client write log 4826468103532049397 (index 79) to leader 2
client write log 4136426596140726339 (index 80) to leader 2
client write log 8648683423805048792 (index 81) to leader 2
client write log 7084810279416663293 (index 82) to leader 2
client write log 1983330613292752521 (index 83) to leader 2
client write log 3818091965266730096 (index 84) to leader 2
client write log 5965818229273138422 (index 85) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41383 term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
flag 71266 term 16 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 69} {8286053746955625415 16 70} {2068050298738923058 16 71} {8634024296093131271 16 72} {2443775974214689791 16 73} {1555769214135666957 16 74} {2438193759251212896 16 75} {5970533689582928140 16 76} {5107124189312273641 16 77} {3019979963945275171 16 78} {4826468103532049397 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 11428 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=85
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6218485199804271064 (index 86) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 0 vote for server 2
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 82541 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 97596 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 87->86
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 57791 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
flag 66240 term 18 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 18 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 23009 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 48200 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 93574 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55942 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 18534 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26229 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 1246 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64232 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 71130 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 40902 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 81983 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88923 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 94659 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 21560 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 28012 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 20817 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 24966 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 42359 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 83571 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 42238 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 14843 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 32395 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 86580 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 49579 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 82365 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 69261 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 21128 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3744 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 74427 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
flag 74007 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 50517 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45885 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 49431 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26515 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 76918 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86}]
------------------------------------------------------
client write log 6218485199804271064 (index 87) to leader 2
flag 13875 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 73647 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
flag 22614 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 81145 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
flag 97104 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 44272 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
flag 93518 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 70039 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
flag 45333 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 80962 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:87 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86922 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 72859 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2932884277967340218 (index 88) to leader 2
flag 30647 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 84175 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87} {2932884277967340218 18 88}]
------------------------------------------------------
flag 80269 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 42478 term 18 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87} {2932884277967340218 18 88}]
------------------------------------------------------
client write log 121166763473611261 (index 89) to leader 2
client write log 1522177917211956047 (index 90) to leader 2
client write log 1044526936409416663 (index 91) to leader 2
client write log 8295363375921366433 (index 92) to leader 2
client write log 708052749390871127 (index 93) to leader 2
client write log 146268086127631179 (index 94) to leader 2
client write log 1663842902955549393 (index 95) to leader 2
client write log 8922847138215198868 (index 96) to leader 2
flag 87254 term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 20595 term 18 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 79} {4136426596140726339 16 80} {8648683423805048792 16 81} {7084810279416663293 16 82} {1983330613292752521 16 83} {3818091965266730096 16 84} {5965818229273138422 16 85} {6218485199804271064 16 86} {6218485199804271064 18 87} {2932884277967340218 18 88} {121166763473611261 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96}]
------------------------------------------------------
term 18 Server2 start snapshot! index=89
term 18 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 88  matchIndex[0]: 87
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 91332 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96}]
------------------------------------------------------
term 18 Server1 start snapshot! index=89
term 18 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4995505851199837182 (index 97) to leader 2
term 18 server 2 not vote for server 0, 日志不够新
term 18 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 vote for server 2
term 20 server 0 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
term 20 server 2 get outdate rpc reply from server 0
flag 70093 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 48863 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 88  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 39649 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 18 rf.commitIndex 89 rf.lastApplied 89
flag 57753 term 20 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 20 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 22627 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13145 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 1332 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31961 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 32257 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 74652 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 92954 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27258 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 95477 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 82921 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 77489 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 62682 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 1372 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23726 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 92033 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 65251 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 75117 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 43241 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 28272 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86031 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 91497 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 3175 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 57166 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 65251 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 26516 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17327 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 55402 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 77968 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 20135 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 22057 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 83732 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 26763 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 79813 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
flag 71570 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 21458 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97}]
------------------------------------------------------
client write log 4995505851199837182 (index 98) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63713 term 20 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
flag 44988 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
flag 33036 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 2823 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
flag 17596 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 99171 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
flag 54881 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 83707 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
flag 52550 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 78639 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
flag 90572 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 45783 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
flag 98623 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 56390 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 19600 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 40706 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 99979 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 8748 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
client write log 4361286748613183509 (index 99) to leader 0
flag 13555 term 21 leader 0 nextIndex[1]: 99  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 14585 term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 89} {1522177917211956047 18 90} {1044526936409416663 18 91} {8295363375921366433 18 92} {708052749390871127 18 93} {146268086127631179 18 94} {1663842902955549393 18 95} {8922847138215198868 18 96} {4995505851199837182 18 97} {4995505851199837182 20 98} {4361286748613183509 21 99}]
------------------------------------------------------
term 21 Server0 start snapshot! index=99
term 21 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 66489 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 90024 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 69848 term 21 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 21 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 21 leaderCommit: 99 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 21 99}]
------------------------------------------------------
term 21 Server1 start snapshot! index=99
term 21 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 6612850145491501328 (index 100) to leader 0
client write log 927858380788973981 (index 101) to leader 0
client write log 527035669101753061 (index 102) to leader 0
client write log 7445630263396472972 (index 103) to leader 0
client write log 5580234117382809593 (index 104) to leader 0
client write log 3385515015875929965 (index 105) to leader 0
client write log 1810539351545475570 (index 106) to leader 0
client write log 549291788368280381 (index 107) to leader 0
client write log 6724285789234638298 (index 108) to leader 0
client write log 8871509854160017432 (index 109) to leader 0
client write log 3530699509593869997 (index 110) to leader 0
flag 84725 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 48795 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 25293 term 21 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 21 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 21 leaderCommit: 99 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 99} {6612850145491501328 21 100} {927858380788973981 21 101} {527035669101753061 21 102} {7445630263396472972 21 103} {5580234117382809593 21 104} {3385515015875929965 21 105} {1810539351545475570 21 106} {549291788368280381 21 107} {6724285789234638298 21 108} {8871509854160017432 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=110
-------------------------------------------------------------
flag 72120 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 50592 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 48550 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 Server1 start snapshot! index=109
term 21 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1247747433097416321 (index 99) to leader 2
flag 55728 term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
flag 88513 term 20 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 20 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 20 leaderCommit: 98 
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81089 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78964 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 1939 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 41842 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 76901 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 22447 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 60205 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 49698 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 34263 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 92894 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 16972 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 50806 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 61474 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 771 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 80565 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 68430 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 82530 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 1492 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 32072 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 95004 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 3948 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 111->110
------------------------------------------------------
flag 41356 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 0  matchIndex[2]: 110
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 2 InstallSnapshot fail
rf.commitIndex 110 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 53369 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 24150 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27612 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 87412 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 43940 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 16043 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 74364 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 33446 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8856 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 67533 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 62371 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 44876 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
flag 52250 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 40142 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72619 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 25531 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {3530699509593869997 21 110}]
------------------------------------------------------
client write log 1247747433097416321 (index 111) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18235 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 54444 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 54012 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 25640 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
flag 4697 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 30443 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
flag 31866 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 70276 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
flag 4658 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 56294 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39572 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 76514 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7376934518459823013 (index 112) to leader 0
flag 26456 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 51159 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111} {7376934518459823013 21 112}]
------------------------------------------------------
flag 23279 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
flag 41766 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111} {7376934518459823013 21 112}]
------------------------------------------------------
client write log 7868089628632066253 (index 113) to leader 0
client write log 8546807130704693397 (index 114) to leader 0
client write log 5425413269986714093 (index 115) to leader 0
client write log 693001967466708990 (index 116) to leader 0
client write log 2636225059920187926 (index 117) to leader 0
client write log 2842276916323069880 (index 118) to leader 0
client write log 4590303829760206921 (index 119) to leader 0
client write log 3249330947236531005 (index 120) to leader 0
client write log 5890467919489505273 (index 121) to leader 0
client write log 5726447649556387122 (index 122) to leader 0
client write log 1835609963540181094 (index 123) to leader 0
client write log 6686602627087048556 (index 124) to leader 0
flag 88241 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
flag 32599 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 109} {3530699509593869997 21 110} {1247747433097416321 21 111} {7376934518459823013 21 112} {7868089628632066253 21 113} {8546807130704693397 21 114} {5425413269986714093 21 115} {693001967466708990 21 116} {2636225059920187926 21 117} {2842276916323069880 21 118} {4590303829760206921 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 8758 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4106004093238364741 (index 125) to leader 0
term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 63522 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 82050 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 83546 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 47776 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 87757 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 39668 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 41852 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 93842 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 6878 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 21804 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 32929 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 91030 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 57786 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 73328 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 60710 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 24678 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 2399 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 98754 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1063 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 98604 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 96323 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 15590 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6145 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 54003 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 6399 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 66193 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 25189 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 63977 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76269 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 73916 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 93362 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 7197 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 97298 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 69758 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 21552 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 30045 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
flag 36573 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 21905 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125}]
------------------------------------------------------
client write log 4106004093238364741 (index 126) to leader 0
flag 54850 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 27366 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
flag 3701 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 81832 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
flag 63329 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 33979 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
flag 17421 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 23892 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
flag 1419 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 4636 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
flag 54314 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 57809 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44810 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 17765 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6938813999388208921 (index 127) to leader 0
flag 196 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 79115 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126} {6938813999388208921 23 127}]
------------------------------------------------------
flag 19845 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 26673 term 23 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 23 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126} {6938813999388208921 23 127}]
------------------------------------------------------
term 23 server 2 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 2
client write log 2058735543681490972 (index 128) to leader 0
client write log 153541812524999951 (index 129) to leader 0
client write log 41557785868678492 (index 130) to leader 0
client write log 3284906542523546814 (index 131) to leader 0
client write log 4841707668119515612 (index 132) to leader 0
client write log 3524387619471605867 (index 133) to leader 0
client write log 3947968651172488789 (index 134) to leader 0
flag 60482 term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
flag 34688 term 23 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 23 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 23 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 119} {3249330947236531005 21 120} {5890467919489505273 21 121} {5726447649556387122 21 122} {1835609963540181094 21 123} {6686602627087048556 21 124} {4106004093238364741 21 125} {4106004093238364741 23 126} {6938813999388208921 23 127} {2058735543681490972 23 128} {153541812524999951 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=134
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 5024 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=134
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3001825324629942375 (index 135) to leader 0
term 23 server 2 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 55475 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 64838 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 136->135
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 136->135
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 98311 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
flag 43125 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 7192 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 12679 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 37425 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 4769 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 95891 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 2705 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 93950 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93767 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 77245 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 10613 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 31276 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 20427 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 70144 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 2519 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 58313 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 80371 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 79378 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 99405 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 67318 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 71571 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 81942 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 66974 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 96694 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37514 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 32419 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9251 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 99808 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 26455 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 80342 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 49854 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 78671 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 34233 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 40686 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
flag 83630 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 57265 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135}]
------------------------------------------------------
client write log 3001825324629942375 (index 136) to leader 0
flag 46248 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 69918 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
flag 78978 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 20655 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
flag 33493 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 15581 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
flag 94291 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 47430 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
flag 88231 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 35600 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 2 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 2
flag 27824 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 38574 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
flag 70652 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 18559 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 58157 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 15774 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 55310 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 94609 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 40044 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 20492 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 13825 term 26 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 70199 term 26 leader 2 nextIndex[1]: 137  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136}]
------------------------------------------------------
client write log 3087743324801619342 (index 137) to leader 2
flag 28422 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 58891 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 99726 term 26 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 26 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136} {3087743324801619342 26 137}]
------------------------------------------------------
flag 55396 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 73615 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 44449 term 26 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 26 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136} {3087743324801619342 26 137}]
------------------------------------------------------
client write log 4273977229713727991 (index 138) to leader 2
flag 38474 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 136
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 42742 term 26 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 26 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136} {3087743324801619342 26 137} {4273977229713727991 26 138}]
------------------------------------------------------
flag 86911 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 136
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 47408 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136} {3087743324801619342 26 137} {4273977229713727991 26 138}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7097374961445531788 (index 139) to leader 2
flag 60583 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 136
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 61763 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 136 args.LastIncludedIndex 129
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 129} {41557785868678492 23 130} {3284906542523546814 23 131} {4841707668119515612 23 132} {3524387619471605867 23 133} {3947968651172488789 23 134} {3001825324629942375 23 135} {3001825324629942375 25 136} {3087743324801619342 26 137} {4273977229713727991 26 138} {7097374961445531788 26 139}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 26 Server2 start snapshot! index=139
term 26 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 25593 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 46708 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 28 Server1 start snapshot! index=139
term 28 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 47460 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 26 rf.commitIndex 139 rf.lastApplied 139
flag 90056 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 6134 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 87369 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 45125 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 13424 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 7731 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 28138 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 57446 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
flag 13223 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 85576 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 139}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8239991751824439047 (index 140) to leader 2
flag 88840 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
flag 68647 term 28 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 139 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 26 139} {8239991751824439047 28 140}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91139 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
flag 38486 term 28 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 28 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 28 leaderCommit: 140 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 26 139} {8239991751824439047 28 140}]
------------------------------------------------------
client write log 3693557982887777168 (index 141) to leader 2
client write log 4973411989192094254 (index 142) to leader 2
client write log 3243480476965018781 (index 143) to leader 2
client write log 7205789495418077208 (index 144) to leader 2
client write log 8008047293507946065 (index 145) to leader 2
client write log 6098639699202819960 (index 146) to leader 2
client write log 671336176856456114 (index 147) to leader 2
client write log 8792356265402343713 (index 148) to leader 2
client write log 4490916133435875816 (index 149) to leader 2
client write log 4749631183090922011 (index 150) to leader 2
client write log 1361780712061542960 (index 151) to leader 2
flag 31973 term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 140 
------------------------------------------------------
flag 91889 term 28 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 28 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 28 leaderCommit: 140 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 139} {8239991751824439047 28 140} {3693557982887777168 28 141} {4973411989192094254 28 142} {3243480476965018781 28 143} {7205789495418077208 28 144} {8008047293507946065 28 145} {6098639699202819960 28 146} {671336176856456114 28 147} {8792356265402343713 28 148} {4490916133435875816 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151}]
------------------------------------------------------
term 28 Server2 start snapshot! index=149
term 28 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 5627 term 28 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151}]
------------------------------------------------------
term 28 Server1 start snapshot! index=149
term 28 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3796625457085165830 (index 152) to leader 2
term 28 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 28049 term 28 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 0 vote for server 2
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 66741 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 67861 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 11646 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
rf.lastIncludedIndex 149 rf.lastIncludedTerm 28 rf.commitIndex 149 rf.lastApplied 149
flag 47412 term 30 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 12475 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28835 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 22231 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 88676 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 98243 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 35365 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 16787 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17041 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 47301 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 52881 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 23751 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6473 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 24469 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61978 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 58152 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48499 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 52893 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78588 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 24039 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 3922 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 25982 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82720 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 13148 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59015 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 11259 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 49691 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 13884 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 53590 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 13664 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
flag 75988 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 24939 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152}]
------------------------------------------------------
client write log 3796625457085165830 (index 153) to leader 2
flag 93695 term 30 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 38740 term 30 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 30 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 60665 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 63513 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 6863 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 35545 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 18552 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 36718 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 20168 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 85955 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 90523 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 46328 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
flag 14390 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 53080 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6064692290272843707 (index 154) to leader 2
flag 90109 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
flag 61432 term 30 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 153 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153} {6064692290272843707 30 154}]
------------------------------------------------------
flag 51793 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 7684 term 30 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153} {6064692290272843707 30 154}]
------------------------------------------------------
client write log 4903235101255306235 (index 155) to leader 2
client write log 5954987106399175063 (index 156) to leader 2
client write log 1947096408684520241 (index 157) to leader 2
client write log 467121451958832655 (index 158) to leader 2
client write log 410196274496309782 (index 159) to leader 2
client write log 2736328258445049834 (index 160) to leader 2
client write log 288088615680205280 (index 161) to leader 2
client write log 7496781711748538287 (index 162) to leader 2
client write log 8995252111544366004 (index 163) to leader 2
client write log 2493512780848520780 (index 164) to leader 2
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97935 term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
flag 12302 term 30 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 30 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 30 leaderCommit: 154 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 149} {4749631183090922011 28 150} {1361780712061542960 28 151} {3796625457085165830 28 152} {3796625457085165830 30 153} {6064692290272843707 30 154} {4903235101255306235 30 155} {5954987106399175063 30 156} {1947096408684520241 30 157} {467121451958832655 30 158} {410196274496309782 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164}]
------------------------------------------------------
term 30 Server2 start snapshot! index=159
term 30 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
flag 67197 term 30 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 30 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164}]
------------------------------------------------------
term 30 Server1 start snapshot! index=159
term 30 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7272107925253334928 (index 165) to leader 2
term 30 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 0 vote for server 2
term 32 server 2 get outdate rpc reply from server 0
flag 21660 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 7323 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 166->165
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
flag 50442 term 32 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 30 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 0 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 0
flag 54284 term 32 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 32 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 60661 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 72391 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 3336 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 74635 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 82308 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 13038 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 42723 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22190 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 72439 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71422 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 95596 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39034 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 37732 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 7145 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 3768 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 51976 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 13003 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 62587 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 48459 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 69543 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 46866 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 93185 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 67879 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 79616 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 44893 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 37234 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 84539 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 49758 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 54150 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 45259 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 3333 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
flag 79727 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 53347 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:164 
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=164
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165}]
------------------------------------------------------
client write log 7272107925253334928 (index 166) to leader 2
flag 17929 term 32 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
flag 48755 term 32 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 32 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 30 leaderCommit: 164 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
term 32 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 1
flag 81711 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 1416 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87513 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 98168 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34987 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 36953 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
flag 40797 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 86058 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
flag 21676 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 28446 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
flag 50425 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 56648 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 24087 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 5609 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49405 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 33191 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 80342 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 18630 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 1
term 33 server 0 become leader
------------------------------------------------------
client write log 992980454849867815 (index 167) to leader 0
flag 77010 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 60401 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166} {992980454849867815 33 167}]
------------------------------------------------------
flag 29771 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 97841 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 24818 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 13764 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166} {992980454849867815 33 167}]
------------------------------------------------------
client write log 5219749142155739183 (index 168) to leader 0
client write log 6681054391463962899 (index 169) to leader 0
client write log 3026650836437706607 (index 170) to leader 0
client write log 6321608633892437770 (index 171) to leader 0
client write log 1088824800820723552 (index 172) to leader 0
client write log 3601611699000014563 (index 173) to leader 0
client write log 7305958637576478202 (index 174) to leader 0
client write log 6828934663654427503 (index 175) to leader 0
flag 99489 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 18310 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 15321 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 6042 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 167 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 30 159} {2736328258445049834 30 160} {288088615680205280 30 161} {7496781711748538287 30 162} {8995252111544366004 30 163} {2493512780848520780 30 164} {7272107925253334928 30 165} {7272107925253334928 32 166} {992980454849867815 33 167} {5219749142155739183 33 168} {6681054391463962899 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 Server0 start snapshot! index=169
term 33 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
flag 79355 term 32 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
flag 49737 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 167->166
------------------------------------------------------
flag 82838 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 Server1 start snapshot! index=169
term 33 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3744976670935227805 (index 167) to leader 2
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 166
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 30
------------------------------------------------------
flag 54869 term 32 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 32 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 32 leaderCommit: 166 
------------------------------------------------------
term 33 server 1 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 33 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15732 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 33 rf.commitIndex 169 rf.lastApplied 169
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
flag 15695 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 75692 term 33 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 33 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 7310 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 85217 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 60079 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 50261 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 76232 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 99962 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 92023 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 37823 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
flag 70404 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 175
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 175 args.LastIncludedIndex 169
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 68058 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 97624 term 33 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 33 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5364 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 9517 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55505 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 87508 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 6929 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 7853 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 98216 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 72419 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 84664 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 19523 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 24318 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 12812 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 97046 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 82865 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 72142 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 89621 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72897 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 45467 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 72267 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 92259 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
flag 50983 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 40380 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20643 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 79919 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175}]
------------------------------------------------------
client write log 3744976670935227805 (index 176) to leader 0
flag 47360 term 33 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
flag 50171 term 33 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 33 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28725 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 62567 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
flag 96535 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 49368 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
flag 67162 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 83570 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
flag 52416 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 57258 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
flag 11032 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 13313 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73044 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 60136 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2037159584352234778 (index 177) to leader 0
flag 31088 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
flag 84030 term 33 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 176 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176} {2037159584352234778 33 177}]
------------------------------------------------------
flag 845 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
flag 16288 term 33 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176} {2037159584352234778 33 177}]
------------------------------------------------------
client write log 8676097468291132859 (index 178) to leader 0
client write log 954766971379658058 (index 179) to leader 0
client write log 2321979467124492670 (index 180) to leader 0
client write log 2381375330036921649 (index 181) to leader 0
client write log 1212544026065700931 (index 182) to leader 0
client write log 5940748295508745874 (index 183) to leader 0
client write log 2904046464657434281 (index 184) to leader 0
client write log 8010715473717963311 (index 185) to leader 0
client write log 5918115085074636038 (index 186) to leader 0
client write log 7251836157273444782 (index 187) to leader 0
client write log 8388379494523406006 (index 188) to leader 0
client write log 5799868032159659939 (index 189) to leader 0
flag 67918 term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
flag 47301 term 33 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 33 169} {3026650836437706607 33 170} {6321608633892437770 33 171} {1088824800820723552 33 172} {3601611699000014563 33 173} {7305958637576478202 33 174} {6828934663654427503 33 175} {3744976670935227805 33 176} {2037159584352234778 33 177} {8676097468291132859 33 178} {954766971379658058 33 179} {2321979467124492670 33 180} {2381375330036921649 33 181} {1212544026065700931 33 182} {5940748295508745874 33 183} {2904046464657434281 33 184} {8010715473717963311 33 185} {5918115085074636038 33 186} {7251836157273444782 33 187} {8388379494523406006 33 188} {5799868032159659939 33 189}]
------------------------------------------------------
term 33 Server0 start snapshot! index=179
term 33 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=189
-------------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 13394 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 33 189}]
------------------------------------------------------
term 33 Server2 start snapshot! index=179
term 33 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=189
-------------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1475647928508351335 (index 190) to leader 0
term 33 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 4858 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 60465 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 55302 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 68774 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
term 35 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
flag 56999 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 98791 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 86209 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 70042 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 46217 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 5724 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 15791 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 33137 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 88516 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 88534 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 40750 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 94739 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 2
flag 50837 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 78830 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74551 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 58734 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 8809 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 31157 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 10555 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 40352 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 31091 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 86372 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 88347 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 70490 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 63158 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 65764 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 37732 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 32045 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 20109 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 54623 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 70428 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 66451 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
flag 35546 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 50152 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 33 189} {1475647928508351335 33 190}]
------------------------------------------------------
client write log 1475647928508351335 (index 191) to leader 0
flag 19202 term 35 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
flag 69894 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65109 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 73948 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
flag 43974 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 22581 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
flag 79645 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 42579 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31837 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 13074 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
flag 57670 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 47333 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
flag 5245 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 61172 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2749716190049649712 (index 192) to leader 0
flag 94488 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
flag 32310 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 191 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191} {2749716190049649712 35 192}]
------------------------------------------------------
flag 44141 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
flag 64754 term 35 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191} {2749716190049649712 35 192}]
------------------------------------------------------
client write log 2711079071195269116 (index 193) to leader 0
client write log 4932224072943388810 (index 194) to leader 0
client write log 4937564775862006957 (index 195) to leader 0
client write log 2911559925683379331 (index 196) to leader 0
client write log 1750063746583453423 (index 197) to leader 0
client write log 1102310995190405631 (index 198) to leader 0
flag 47726 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
flag 50947 term 35 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 35 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191} {2749716190049649712 35 192} {2711079071195269116 35 193} {4932224072943388810 35 194} {4937564775862006957 35 195} {2911559925683379331 35 196} {1750063746583453423 35 197} {1102310995190405631 35 198}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7312 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 53060 term 35 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191} {2749716190049649712 35 192} {2711079071195269116 35 193} {4932224072943388810 35 194} {4937564775862006957 35 195} {2911559925683379331 35 196} {1750063746583453423 35 197} {1102310995190405631 35 198}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6498544171128868253 (index 199) to leader 0
flag 60795 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 27019 term 35 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 33 189} {1475647928508351335 33 190} {1475647928508351335 35 191} {2749716190049649712 35 192} {2711079071195269116 35 193} {4932224072943388810 35 194} {4937564775862006957 35 195} {2911559925683379331 35 196} {1750063746583453423 35 197} {1102310995190405631 35 198} {6498544171128868253 35 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 36 Server0 start snapshot! index=199
term 36 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 66140 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 28726 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 10636 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 38 server 1 InstallSnapshot success
------------------------------------------------------
update nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
flag 50647 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 61457 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
flag 24687 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 76569 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
flag 75692 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 43944 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
flag 69644 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 57843 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 0
flag 9487 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 3721 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 77001 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 96285 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 35148 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 33964 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
flag 49502 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 24459 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 9522 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 7738 term 39 leader 2 nextIndex[1]: 200  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
client write log 551255196148036126 (index 200) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94373 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 83230 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 87493 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 81374 term 39 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 35 199} {551255196148036126 39 200}]
------------------------------------------------------
flag 89054 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 2839 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 98284 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 200 
------------------------------------------------------
flag 44994 term 39 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 39 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 39 leaderCommit: 200 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 35 199} {551255196148036126 39 200}]
------------------------------------------------------
client write log 1964621949189252843 (index 201) to leader 2
flag 38563 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 92141 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 67840 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 200 
------------------------------------------------------
flag 89386 term 39 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 39 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 39 leaderCommit: 200 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49412 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 46987 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 8111 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 201 
------------------------------------------------------
flag 9184 term 39 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 39 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 39 leaderCommit: 201 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8773795538745531163 (index 202) to leader 2
flag 29046 term 38 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 26743 term 38 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 38 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20499 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 201 
------------------------------------------------------
flag 39272 term 39 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 39 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 39 leaderCommit: 201 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86000 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 38499 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 203->202
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 202
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
flag 20764 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
term 39 server 0 InstallSnapshot fail
rf.commitIndex 202 args.LastIncludedIndex 199
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 37749 term 39 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 39 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 202 
------------------------------------------------------
flag 21000 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
flag 51762 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 97232 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72895 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 23694 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9130524320928868096 (index 203) to leader 2
flag 99277 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 35545 term 39 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202} {9130524320928868096 39 203}]
------------------------------------------------------
flag 82320 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
flag 29735 term 39 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 39 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202} {9130524320928868096 39 203}]
------------------------------------------------------
client write log 6825866943794062739 (index 204) to leader 2
client write log 9157995675585827035 (index 205) to leader 2
client write log 432634193181627703 (index 206) to leader 2
client write log 2081126859203575786 (index 207) to leader 2
client write log 2760554816300305944 (index 208) to leader 2
client write log 7707747000436491589 (index 209) to leader 2
client write log 2823158729306568182 (index 210) to leader 2
client write log 8243999023241226454 (index 211) to leader 2
client write log 2689990465833598775 (index 212) to leader 2
client write log 3851028757971818015 (index 213) to leader 2
flag 57799 term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
flag 25145 term 39 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 39 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 35 199} {551255196148036126 39 200} {1964621949189252843 39 201} {8773795538745531163 39 202} {9130524320928868096 39 203} {6825866943794062739 39 204} {9157995675585827035 39 205} {432634193181627703 39 206} {2081126859203575786 39 207} {2760554816300305944 39 208} {7707747000436491589 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213}]
------------------------------------------------------
term 39 Server2 start snapshot! index=209
term 39 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 39
------------------------------------------------------
flag 86430 term 39 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213}]
------------------------------------------------------
term 39 Server1 start snapshot! index=209
term 39 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9102375675264819679 (index 214) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 39
------------------------------------------------------
flag 94324 term 39 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 74022 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 819 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 215->214
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 39
------------------------------------------------------
flag 73273 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
term 41 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 39 rf.commitIndex 209 rf.lastApplied 209
flag 60318 term 41 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 41 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 39940 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
flag 68250 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 68101 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
flag 10347 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 6391 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93496 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 47336 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
flag 26468 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 56528 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 79282 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 90649 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
flag 5487 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 48788 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8621833331585877091 (index 215) to leader 2
flag 23319 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 32680 term 41 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214} {8621833331585877091 41 215}]
------------------------------------------------------
flag 73788 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 17716 term 41 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 41 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214} {8621833331585877091 41 215}]
------------------------------------------------------
client write log 3341994858639745292 (index 216) to leader 2
client write log 2992619811235850034 (index 217) to leader 2
client write log 1596471376839987450 (index 218) to leader 2
client write log 7943308569890624217 (index 219) to leader 2
client write log 4046117121330365216 (index 220) to leader 2
client write log 145678766922463642 (index 221) to leader 2
client write log 3110238645125102080 (index 222) to leader 2
client write log 6507844349838050806 (index 223) to leader 2
client write log 3244947822011789720 (index 224) to leader 2
client write log 8853355592968048330 (index 225) to leader 2
client write log 3777474531026663556 (index 226) to leader 2
client write log 6992940808189750500 (index 227) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97805 term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 59844 term 41 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 41 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 39 209} {2823158729306568182 39 210} {8243999023241226454 39 211} {2689990465833598775 39 212} {3851028757971818015 39 213} {9102375675264819679 39 214} {8621833331585877091 41 215} {3341994858639745292 41 216} {2992619811235850034 41 217} {1596471376839987450 41 218} {7943308569890624217 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227}]
------------------------------------------------------
term 41 Server2 start snapshot! index=219
term 41 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
flag 60345 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227}]
------------------------------------------------------
term 41 Server1 start snapshot! index=219
term 41 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5337303287865696682 (index 228) to leader 2
term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
flag 41112 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 42 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 1 vote for server 2
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 7429 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 1484 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 229->228
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 215  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
flag 50505 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 41 rf.commitIndex 219 rf.lastApplied 219
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 51302 term 43 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 43 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 70568 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 20530 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 91221 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87218 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 76114 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13386 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 74306 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 66636 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 52164 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 63477 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 43369 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6772 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 8978 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34610 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 16165 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 80231 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 11547 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 69871 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 60835 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 92791 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 8804 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
flag 8902 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 85629 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 19272 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 66015 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94831 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 74387 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93177 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 27523 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
flag 24592 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 88399 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41608 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 6852 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228}]
------------------------------------------------------
client write log 5337303287865696682 (index 229) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34032 term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 8188 term 43 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 43 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228} {5337303287865696682 43 229}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 41 219} {4046117121330365216 41 220} {145678766922463642 41 221} {3110238645125102080 41 222} {6507844349838050806 41 223} {3244947822011789720 41 224} {8853355592968048330 41 225} {3777474531026663556 41 226} {6992940808189750500 41 227} {5337303287865696682 41 228} {5337303287865696682 43 229}]
------------------------------------------------------
term 43 Server2 start snapshot! index=229
term 43 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18745 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 13997 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 Server1 start snapshot! index=229
term 43 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 43 Server0 start snapshot! index=229
term 43 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 71896 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 86181 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 59259 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 78579 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
flag 75022 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 60766 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 37034 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 97106 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 43 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 51989 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 24400 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44933 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 7694 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 27942 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 69869 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
client write log 2421850881388983404 (index 230) to leader 0
flag 41053 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 90728 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {2421850881388983404 44 230}]
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
flag 92064 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9748 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 53509 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 43 229} {2421850881388983404 44 230}]
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
client write log 9066042034516261948 (index 231) to leader 0
client write log 8668553616056083204 (index 232) to leader 0
client write log 2876987485824249877 (index 233) to leader 0
client write log 6646594371416073257 (index 234) to leader 0
client write log 4991600920672972651 (index 235) to leader 0
client write log 8915557712961673637 (index 236) to leader 0
client write log 8379983870169789781 (index 237) to leader 0
client write log 219378028925551314 (index 238) to leader 0
client write log 139052472885734552 (index 239) to leader 0
client write log 1291595583482520000 (index 240) to leader 0
client write log 2950719060387956196 (index 241) to leader 0
client write log 1872580854765202148 (index 242) to leader 0
client write log 5614886280584267286 (index 243) to leader 0
client write log 4286040279097559344 (index 244) to leader 0
client write log 1588601661401243179 (index 245) to leader 0
------------------------------------------------------
flag 78229 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
flag 51312 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 62132 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 230 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 229} {2421850881388983404 44 230} {9066042034516261948 44 231} {8668553616056083204 44 232} {2876987485824249877 44 233} {6646594371416073257 44 234} {4991600920672972651 44 235} {8915557712961673637 44 236} {8379983870169789781 44 237} {219378028925551314 44 238} {139052472885734552 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
flag 3630 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
term 44 Server0 start snapshot! index=239
term 44 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
flag 9495 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 Server1 start snapshot! index=239
term 44 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
flag 51473 term 43 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 229 
------------------------------------------------------
!!!!!!connect server 2
client write log 3721676097551695695 (index 230) to leader 2
flag 40621 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
rf.lastIncludedIndex 239 rf.lastIncludedTerm 44 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 80886 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 27663 term 44 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63634 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 30964 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 49939 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 58472 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 57547 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 72111 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71675 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 35900 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86872 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 66652 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 33028 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 79080 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43688 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 38432 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 7638 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 44484 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 98379 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 67426 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 10991 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 73656 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 57138 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 24201 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30789 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 16177 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 67498 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 23797 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 49888 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 82233 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 29827 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 40799 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
flag 59885 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 20396 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 246->245
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 61257 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 245
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot fail
rf.commitIndex 245 args.LastIncludedIndex 239
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35327 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 64011 term 44 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245}]
------------------------------------------------------
client write log 3721676097551695695 (index 246) to leader 0
flag 32435 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 494 term 44 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
flag 89370 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 91852 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
flag 30596 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 6249 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
flag 4690 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 28907 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
flag 95050 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 33903 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
flag 75636 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 54536 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 0 get outdate rpc reply from server 2
flag 42028 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 95348 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4551017628086134654 (index 247) to leader 0
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98564 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 58131 term 44 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246} {4551017628086134654 44 247}]
------------------------------------------------------
flag 76444 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 11175 term 44 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 44 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246} {4551017628086134654 44 247}]
------------------------------------------------------
client write log 3412560090537720350 (index 248) to leader 0
client write log 1006004385859803266 (index 249) to leader 0
client write log 4398800996624878558 (index 250) to leader 0
client write log 1993416159810860606 (index 251) to leader 0
client write log 7401019515141166409 (index 252) to leader 0
client write log 8542107676988565299 (index 253) to leader 0
client write log 2901357035749524258 (index 254) to leader 0
flag 88187 term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 43662 term 44 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 44 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 44 239} {1291595583482520000 44 240} {2950719060387956196 44 241} {1872580854765202148 44 242} {5614886280584267286 44 243} {4286040279097559344 44 244} {1588601661401243179 44 245} {3721676097551695695 44 246} {4551017628086134654 44 247} {3412560090537720350 44 248} {1006004385859803266 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254}]
------------------------------------------------------
term 44 Server0 start snapshot! index=249
term 44 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=254
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
flag 95622 term 44 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 44 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254}]
------------------------------------------------------
term 44 Server2 start snapshot! index=249
term 44 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7431140638351990058 (index 255) to leader 0
term 44 server 2 not vote for server 1, 日志不够新
term 44 server 0 not vote for server 1, 日志不够新
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 53649 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 37553 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 247  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
flag 34332 term 46 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 44 rf.commitIndex 249 rf.lastApplied 249
flag 56545 term 46 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 61575 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 54203 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 80172 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 79752 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 52462 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 92895 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 50311 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 77868 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 35558 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 50387 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 95884 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93629 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 38065 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 15337 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 35459 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 98229 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 22456 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 88665 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 14323 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 45442 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 35561 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 39163 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 92626 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 72942 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 95252 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52635 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 95751 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
flag 40365 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 37960 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2135 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 36790 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95736 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 68079 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255}]
------------------------------------------------------
client write log 7431140638351990058 (index 256) to leader 0
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59550 term 46 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 73681 term 46 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 46 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4681 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 14363 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
flag 158 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 73834 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87204 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 96858 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
flag 52234 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 12492 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15415 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 75198 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7215109831179959691 (index 257) to leader 0
flag 50062 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
flag 54950 term 46 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 256 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256} {7215109831179959691 46 257}]
------------------------------------------------------
flag 89451 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 257 
------------------------------------------------------
flag 57141 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 46 leaderCommit: 257 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256} {7215109831179959691 46 257}]
------------------------------------------------------
client write log 5280021992342034276 (index 258) to leader 0
client write log 5834806318595256826 (index 259) to leader 0
client write log 2339329956146405496 (index 260) to leader 0
client write log 1512302618681109258 (index 261) to leader 0
client write log 5151702517822632146 (index 262) to leader 0
client write log 2342036775808213402 (index 263) to leader 0
client write log 7503949093773157705 (index 264) to leader 0
client write log 6094356586968803541 (index 265) to leader 0
flag 28170 term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 46 leaderCommit: 257 
------------------------------------------------------
flag 53194 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 46 leaderCommit: 257 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 44 249} {4398800996624878558 44 250} {1993416159810860606 44 251} {7401019515141166409 44 252} {8542107676988565299 44 253} {2901357035749524258 44 254} {7431140638351990058 44 255} {7431140638351990058 46 256} {7215109831179959691 46 257} {5280021992342034276 46 258} {5834806318595256826 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=265
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 70348 term 46 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 46 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265}]
------------------------------------------------------
term 46 Server2 start snapshot! index=259
term 46 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=265
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6720301499454063173 (index 266) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 64783 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 93514 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 35619 term 48 leader 0 nextIndex[2]: 266  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90327 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 30604 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 85016 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 57829 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 64897 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 20921 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 96415 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 45828 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 74279 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 59310 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 98414 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 52010 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 51091 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 63661 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 69528 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 57831 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 32682 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 11607 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45255 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 63835 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49740 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 34039 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 68714 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 74326 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 84332 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 55217 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 22443 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 43629 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 34984 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 33164 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 93500 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 66385 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 84261 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 24587 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
flag 90426 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 39197 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266}]
------------------------------------------------------
client write log 6720301499454063173 (index 267) to leader 0
flag 87722 term 48 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
flag 94918 term 48 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 48 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 265 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
flag 98252 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 2749 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50600 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 64563 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63802 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 73333 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
flag 55742 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 12725 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
flag 51092 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 38686 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
flag 17808 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 62242 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 74364 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 4607 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 19645 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 19545 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 75235 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 14423 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 61047 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 79277 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 12804 term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 30161 term 49 leader 1 nextIndex[2]: 268  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267}]
------------------------------------------------------
client write log 2079213609562209539 (index 268) to leader 1
flag 70158 term 48 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 17283 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 69694 term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 72982 term 49 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267} {2079213609562209539 49 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 37227 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
flag 35458 term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 97590 term 49 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 49 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267} {2079213609562209539 49 268}]
------------------------------------------------------
client write log 2150102673451391696 (index 269) to leader 1
client write log 2190236407294289269 (index 270) to leader 1
client write log 8146580724637447776 (index 271) to leader 1
client write log 8337091300204216863 (index 272) to leader 1
client write log 664842225796465426 (index 273) to leader 1
client write log 1768991903477333749 (index 274) to leader 1
client write log 8412937806539094056 (index 275) to leader 1
client write log 1711374679606757661 (index 276) to leader 1
client write log 6926489403327944929 (index 277) to leader 1
client write log 8975895729079628010 (index 278) to leader 1
client write log 2136083770309937384 (index 279) to leader 1
client write log 7866841420205388458 (index 280) to leader 1
client write log 8856705816121535534 (index 281) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 78783 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73601 term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 15018 term 49 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 49 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 49 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 259} {2339329956146405496 46 260} {1512302618681109258 46 261} {5151702517822632146 46 262} {2342036775808213402 46 263} {7503949093773157705 46 264} {6094356586968803541 46 265} {6720301499454063173 46 266} {6720301499454063173 48 267} {2079213609562209539 49 268} {2150102673451391696 49 269} {2190236407294289269 49 270} {8146580724637447776 49 271} {8337091300204216863 49 272} {664842225796465426 49 273} {1768991903477333749 49 274} {8412937806539094056 49 275} {1711374679606757661 49 276} {6926489403327944929 49 277} {8975895729079628010 49 278} {2136083770309937384 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281}]
------------------------------------------------------
term 49 Server1 start snapshot! index=269
term 49 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=281
-------------------------------------------------------------
term 49 Server1 start snapshot! index=279
term 49 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 33364 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 77397 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281}]
------------------------------------------------------
term 49 Server2 start snapshot! index=269
term 49 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=281
-------------------------------------------------------------
term 49 Server2 start snapshot! index=279
term 49 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4340728665596116246 (index 282) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 7213 term 48 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 48 leaderCommit: 267 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 14708 term 49 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 49 rf.commitIndex 279 rf.lastApplied 279
flag 3097 term 49 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 49 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 76572 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
flag 50198 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 4836 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
flag 3375 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 23621 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
flag 6130 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 67991 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
flag 199 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 14284 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
flag 71366 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 55327 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70058 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 32582 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5670173408719060168 (index 283) to leader 1
flag 11115 term 49 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
flag 81964 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 282 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282} {5670173408719060168 49 283}]
------------------------------------------------------
flag 31591 term 49 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 49 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
flag 2508 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282} {5670173408719060168 49 283}]
------------------------------------------------------
client write log 7438428782396170087 (index 284) to leader 1
client write log 4212101049296030464 (index 285) to leader 1
client write log 2214116207105839086 (index 286) to leader 1
client write log 8611719986624202999 (index 287) to leader 1
client write log 8417282339896749066 (index 288) to leader 1
client write log 2576302901842299251 (index 289) to leader 1
client write log 1053583225626802608 (index 290) to leader 1
client write log 4574064856553360434 (index 291) to leader 1
flag 31860 term 49 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 49 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
flag 60994 term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 283 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 279} {7866841420205388458 49 280} {8856705816121535534 49 281} {4340728665596116246 49 282} {5670173408719060168 49 283} {7438428782396170087 49 284} {4212101049296030464 49 285} {2214116207105839086 49 286} {8611719986624202999 49 287} {8417282339896749066 49 288} {2576302901842299251 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291}]
------------------------------------------------------
term 49 Server1 start snapshot! index=289
term 49 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61548 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291}]
------------------------------------------------------
term 49 Server0 start snapshot! index=289
term 49 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3750349342749756479 (index 292) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53276 term 49 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 49 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get outdate rpc reply from server 0
flag 37679 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 89405 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 293->292
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42022 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 49 rf.commitIndex 289 rf.lastApplied 289
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38073 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 8660 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 9772 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 86450 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84456 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 51057 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 55519 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 63739 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84257 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 31391 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 94657 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 84915 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6299 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 21954 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15650 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 37363 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 27711 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 89674 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9818 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 80663 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82206 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 18074 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 73770 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 86533 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 60897 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 21083 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 59090 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 20969 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2987 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 85131 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
flag 47388 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 70375 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292}]
------------------------------------------------------
client write log 3750349342749756479 (index 293) to leader 1
flag 32877 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
flag 57876 term 51 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 49 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95228 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 66565 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
flag 61596 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 4728 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
flag 58115 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 5859 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
flag 63301 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 11315 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
flag 71536 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 70268 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3404641330673407967 (index 294) to leader 1
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97425 term 51 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
flag 44974 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 293 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293} {3404641330673407967 51 294}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67833 term 51 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 51 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 41234 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293} {3404641330673407967 51 294}]
------------------------------------------------------
client write log 3565829778175444128 (index 295) to leader 1
client write log 8513938627982386247 (index 296) to leader 1
client write log 1526448822488660288 (index 297) to leader 1
client write log 4759188218222759402 (index 298) to leader 1
client write log 2047561402271860416 (index 299) to leader 1
client write log 2603311044922546866 (index 300) to leader 1
client write log 1862011567664775328 (index 301) to leader 1
client write log 5510181051998952681 (index 302) to leader 1
client write log 4368725100622498508 (index 303) to leader 1
client write log 1440913625991989498 (index 304) to leader 1
client write log 1159166275956469781 (index 305) to leader 1
flag 75381 term 51 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 51 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 51396 term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 49 289} {1053583225626802608 49 290} {4574064856553360434 49 291} {3750349342749756479 49 292} {3750349342749756479 51 293} {3404641330673407967 51 294} {3565829778175444128 51 295} {8513938627982386247 51 296} {1526448822488660288 51 297} {4759188218222759402 51 298} {2047561402271860416 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305}]
------------------------------------------------------
term 51 Server1 start snapshot! index=299
term 51 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21976 term 51 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 51 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305}]
------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5127754721062570619 (index 306) to leader 1
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 33916 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 36996 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
flag 38658 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 45241 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 1613 term 53 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 30210 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 83589 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 28847 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 57119 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 63088 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 44451 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 51577 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 71849 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 93795 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 89276 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 54542 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 99314 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 81524 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 34528 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 94266 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 12902 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 90988 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 63287 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49269 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 21967 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58576 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 54646 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 85013 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 67375 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97762 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 10528 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 15763 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 99825 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5889 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 26421 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 90025 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 9853 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
flag 2480 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 8090 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306}]
------------------------------------------------------
client write log 5127754721062570619 (index 307) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97536 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 47424 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
flag 73872 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 52445 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
flag 71110 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 34920 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
flag 99288 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 11343 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
flag 9169 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 88471 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23060 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 99397 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
flag 68937 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 96069 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 94474 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 60907 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 22448 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 60897 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 80752 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 81890 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 0
term 54 server 2 become leader
------------------------------------------------------
flag 66563 term 54 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 48961 term 54 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307}]
------------------------------------------------------
flag 56771 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 48649 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
client write log 7114831918865875509 (index 308) to leader 2
flag 80784 term 54 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 98157 term 54 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307} {7114831918865875509 54 308}]
------------------------------------------------------
flag 74099 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 6146 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 8724 term 54 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 88124 term 54 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307} {7114831918865875509 54 308}]
------------------------------------------------------
flag 72189 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 45585 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
client write log 3383570454141427921 (index 309) to leader 2
client write log 5010114116608046332 (index 310) to leader 2
client write log 7621215010337400931 (index 311) to leader 2
client write log 5859045881889643864 (index 312) to leader 2
client write log 676913875056401177 (index 313) to leader 2
client write log 1867899377685848793 (index 314) to leader 2
client write log 1719540347973511406 (index 315) to leader 2
client write log 5824647918306617682 (index 316) to leader 2
client write log 610452801854844219 (index 317) to leader 2
flag 13715 term 54 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 93434 term 54 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 299} {2603311044922546866 51 300} {1862011567664775328 51 301} {5510181051998952681 51 302} {4368725100622498508 51 303} {1440913625991989498 51 304} {1159166275956469781 51 305} {5127754721062570619 51 306} {5127754721062570619 53 307} {7114831918865875509 54 308} {3383570454141427921 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 Server2 start snapshot! index=309
term 54 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
flag 46780 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 67124 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
flag 189 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 Server0 start snapshot! index=309
term 54 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
flag 15194 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
flag 21138 term 53 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
!!!!!!connect server 1
client write log 2440635448874616326 (index 308) to leader 1
flag 17143 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 54 rf.commitIndex 309 rf.lastApplied 309
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 30236 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 90980 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 11876 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 86912 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90065 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 87150 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 27905 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 10389 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45857 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 61821 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 13480 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 28185 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 30552 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 30114 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 81879 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 2356 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 35145 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 4587 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 11352 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 81019 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21344 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 97325 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 81764 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 23346 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 318->317
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49250 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 317
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
rf.commitIndex 317 args.LastIncludedIndex 309
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 29399 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 19527 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 2 get outdate rpc reply from server 1
flag 74413 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 71777 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 12899 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 99257 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
flag 79232 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 59716 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59546 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 33485 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21918 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 5377 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317}]
------------------------------------------------------
client write log 2440635448874616326 (index 318) to leader 2
flag 87060 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 41335 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27002 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 79180 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48740 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 45429 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37248 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 60669 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
flag 78446 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 11133 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60547 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 72683 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
flag 12488 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 45686 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9069963541664670542 (index 319) to leader 2
flag 32007 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 49130 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 54 309} {5010114116608046332 54 310} {7621215010337400931 54 311} {5859045881889643864 54 312} {676913875056401177 54 313} {1867899377685848793 54 314} {1719540347973511406 54 315} {5824647918306617682 54 316} {610452801854844219 54 317} {2440635448874616326 54 318} {9069963541664670542 54 319}]
------------------------------------------------------
term 54 Server2 start snapshot! index=319
term 54 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 63117 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 54 319}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 2568518679315321868 (index 320) to leader 2
client write log 337471410385851118 (index 321) to leader 2
client write log 1436081467731241156 (index 322) to leader 2
client write log 4570273275973893957 (index 323) to leader 2
client write log 2353641662612868141 (index 324) to leader 2
client write log 1231275197565150345 (index 325) to leader 2
client write log 4052190064802732181 (index 326) to leader 2
client write log 2068522730709164850 (index 327) to leader 2
client write log 3409320668531978056 (index 328) to leader 2
client write log 6986152873834491259 (index 329) to leader 2
client write log 6030327925410221607 (index 330) to leader 2
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 38792 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 54 319} {2568518679315321868 54 320} {337471410385851118 54 321} {1436081467731241156 54 322} {4570273275973893957 54 323} {2353641662612868141 54 324} {1231275197565150345 54 325} {4052190064802732181 54 326} {2068522730709164850 54 327} {3409320668531978056 54 328} {6986152873834491259 54 329} {6030327925410221607 54 330}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=330
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 48043 term 54 leader 2 nextIndex[1]: 331  matchIndex[1]: 330
term 54 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4134654611109003613 (index 331) to leader 2
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 84693 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 68452 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 332->331
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 319  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 95063 term 56 leader 2 nextIndex[1]: 331  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99295 term 56 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 56 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 40872 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81036 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 37298 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 77358 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 47593 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 40531 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 64401 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81086 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 61366 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 68904 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 38344 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 57562 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 20487 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 1270 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 64720 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 2346 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 82753 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
update nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 55828 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 92004 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75715 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 40652 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 12033 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 49541 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 57856 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 91220 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22107 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 89839 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 88732 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 91474 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63111 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 72864 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 68782 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 58168 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
flag 92952 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 50883 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331}]
------------------------------------------------------
client write log 4134654611109003613 (index 332) to leader 2
flag 72628 term 56 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 87967 term 56 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 56 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
flag 54910 term 56 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
flag 94573 term 56 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45020 term 56 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
flag 69994 term 56 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
flag 26515 term 56 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
flag 3992 term 56 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
flag 86879 term 56 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
flag 40147 term 56 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60795 term 56 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
flag 55059 term 56 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 56 leaderCommit: 332 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {6030327925410221607 54 330} {4134654611109003613 54 331} {4134654611109003613 56 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  83.3  3 1871  788799  332
--- PASS: TestSnapshotInstall2D (83.28s)
PASS
