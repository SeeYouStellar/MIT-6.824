=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 56575 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 75374 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
client write log 2996613191718102236 (index 1) to leader 2
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 89925 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 2482 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 25925 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 82430 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 47806 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42017 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 87460 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48729 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 61547 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16687 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 99433 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77263 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1}]
------------------------------------------------------
flag 67448 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66158 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4883126341183039334 (index 2) to leader 2
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2}]
------------------------------------------------------
flag 30164 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79359 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2}]
------------------------------------------------------
flag 50325 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 60319 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2}]
------------------------------------------------------
client write log 5272773435234690015 (index 3) to leader 2
client write log 8427825934707754043 (index 4) to leader 2
client write log 5374191009847881438 (index 5) to leader 2
client write log 4146174981725942548 (index 6) to leader 2
client write log 2221198851715566598 (index 7) to leader 2
client write log 4579518862199900955 (index 8) to leader 2
flag 48518 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 67760 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8}]
------------------------------------------------------
flag 89216 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1039 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4875562263133818430 (index 9) to leader 2
flag 19976 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 4752 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 2 server 0 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get outdate rpc reply from server 0
flag 1143 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36950 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
flag 10480 term 4 leader 1 nextIndex[0]: 2  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 70935 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 96781 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 16582 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 15372 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 47791 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 58422 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 96380 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 80903 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 43173 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 21261 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 48058 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 97179 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 54652 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 2
flag 77447 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 97040 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 46362 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 15500 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 28665 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 55790 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 85965 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6906 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67873 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40388 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 44747 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98501 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
flag 71302 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 13526 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9}]
------------------------------------------------------
client write log 4875562263133818430 (index 10) to leader 1
flag 45823 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 92121 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {2996613191718102236 1 1} {4883126341183039334 1 2} {5272773435234690015 1 3} {8427825934707754043 1 4} {5374191009847881438 1 5} {4146174981725942548 1 6} {2221198851715566598 1 7} {4579518862199900955 1 8} {4875562263133818430 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 3706 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 67791 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
term 4 server 0 AppendEntries true commitIndex:10 
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 Server0 start snapshot! index=9
term 4 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 80070 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 20920 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
flag 4249 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 95201 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
flag 63032 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 68673 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
flag 57445 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 38744 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
flag 38180 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 81791 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 45757 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 25504 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 89807 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 36473 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 11486 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 83011 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 79381 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 93320 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 vote for server 2
term 5 server 2 get vote from server 0
term 5 server 2 become leader
------------------------------------------------------
flag 47525 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 2976 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4875562263133818430 4 10}]
------------------------------------------------------
client write log 2137195734749553910 (index 11) to leader 2
flag 4657 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 12681 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 288 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 98156 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11}]
------------------------------------------------------
flag 11138 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 20838 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 82939 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 52688 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11}]
------------------------------------------------------
client write log 3933227069954858790 (index 12) to leader 2
client write log 5972602740181441987 (index 13) to leader 2
client write log 3921872693441934865 (index 14) to leader 2
client write log 7513541450599100109 (index 15) to leader 2
client write log 3697740614851618344 (index 16) to leader 2
client write log 1411257442697698252 (index 17) to leader 2
client write log 7913788663298690836 (index 18) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 90162 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 3940 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 82896 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53223 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 19280 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 3523 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4183184747316157822 (index 11) to leader 1
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 38531 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 2 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 5 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10005 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 18215 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 48126 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 21141 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 18396 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 60810 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 4173 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 3985 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 99181 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 10008 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64722 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 9322 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 91788 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 34971 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
flag 93918 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 0  matchIndex[1]: 18
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 1 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
term 5 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 1 not vote for server 0, 任期不够新
term 5 server 0 get outdate rpc reply from server 1
flag 38612 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 80437 term 5 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 5 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 41132 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 21178 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 88832 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 44556 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 27952 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 16642 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31714 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 2625 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41146 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 32449 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 49714 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 32058 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52814 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 79429 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 74817 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 20895 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 88368 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 96518 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4061 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 43567 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
flag 9111 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 48109 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18}]
------------------------------------------------------
client write log 4183184747316157822 (index 19) to leader 2
flag 58093 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 55905 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18} {4183184747316157822 5 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4875562263133818430 4 10} {2137195734749553910 5 11} {3933227069954858790 5 12} {5972602740181441987 5 13} {3921872693441934865 5 14} {7513541450599100109 5 15} {3697740614851618344 5 16} {1411257442697698252 5 17} {7913788663298690836 5 18} {4183184747316157822 5 19}]
------------------------------------------------------
term 5 Server2 start snapshot! index=19
term 5 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 52773 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
flag 29077 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 Server0 start snapshot! index=19
term 5 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 5 Server1 start snapshot! index=19
term 5 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 64501 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 5 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
flag 73782 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
flag 66178 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34277 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
flag 85947 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 42507 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 5 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85932 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
flag 64637 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4565258701553398916 (index 20) to leader 2
flag 73102 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
flag 11579 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 5 19} {4565258701553398916 5 20}]
------------------------------------------------------
flag 15743 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 20 
------------------------------------------------------
flag 87154 term 5 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 5 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 5 leaderCommit: 20 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 5 19} {4565258701553398916 5 20}]
------------------------------------------------------
client write log 4720149276384079761 (index 21) to leader 2
client write log 3393130603656910119 (index 22) to leader 2
client write log 5441835277038543229 (index 23) to leader 2
client write log 8346159789092297321 (index 24) to leader 2
client write log 428532315650340838 (index 25) to leader 2
client write log 3211681976988325833 (index 26) to leader 2
client write log 6237292211566350511 (index 27) to leader 2
client write log 4861683579752874427 (index 28) to leader 2
client write log 5517099807331394009 (index 29) to leader 2
client write log 5235650735942672864 (index 30) to leader 2
client write log 598447906843725645 (index 31) to leader 2
client write log 5812665280519565166 (index 32) to leader 2
flag 89141 term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 20 
------------------------------------------------------
flag 46961 term 5 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 5 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 5 leaderCommit: 20 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 5 19} {4565258701553398916 5 20} {4720149276384079761 5 21} {3393130603656910119 5 22} {5441835277038543229 5 23} {8346159789092297321 5 24} {428532315650340838 5 25} {3211681976988325833 5 26} {6237292211566350511 5 27} {4861683579752874427 5 28} {5517099807331394009 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32}]
------------------------------------------------------
term 5 Server2 start snapshot! index=29
term 5 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 34415 term 5 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 5 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32}]
------------------------------------------------------
term 5 Server1 start snapshot! index=29
term 5 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3768369638128685237 (index 33) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 98146 term 5 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 5 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 5 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 server 1 not vote for server 2, 日志不够新
term 6 server 2 get outdate rpc reply from server 1
term 7 server 1 vote for server 2
term 7 server 0 vote for server 2
term 7 server 2 get vote from server 1
term 7 server 2 become leader
------------------------------------------------------
term 7 server 2 get outdate rpc reply from server 0
flag 3170 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 28400 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 34->33
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 leader 2 nextIndex[0]: 20  matchIndex[0]: 0
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 92959 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 0 InstallSnapshot success
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 5 rf.commitIndex 29 rf.lastApplied 29
flag 56698 term 7 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 7 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 6962 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 73454 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 11909 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26609 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 31804 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 6697 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 54836 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 31138 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 51431 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94690 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 64203 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 39768 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 57140 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 93434 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 6360 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31708 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 61849 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 82418 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 97533 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5863 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 6120 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17488 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 87714 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16043 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 32481 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 52981 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 6613 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 31149 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 22749 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 38472 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 91539 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
flag 68669 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 48682 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33}]
------------------------------------------------------
client write log 3768369638128685237 (index 34) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21510 term 7 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
flag 26998 term 7 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 5 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 69350 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 10752 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 2606 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 50179 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 11858 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 82627 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 16358 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 21047 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 23388 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 91859 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
flag 25443 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 71545 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4439992400924915300 (index 35) to leader 2
flag 35595 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 55771 term 7 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34} {4439992400924915300 7 35}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27990 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 35 
------------------------------------------------------
flag 13364 term 7 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 7 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 7 leaderCommit: 35 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34} {4439992400924915300 7 35}]
------------------------------------------------------
client write log 5081831224846333093 (index 36) to leader 2
client write log 666241052080305650 (index 37) to leader 2
client write log 8447425447561856534 (index 38) to leader 2
client write log 5571932143503793043 (index 39) to leader 2
client write log 7107249838783211002 (index 40) to leader 2
client write log 6948755378983041786 (index 41) to leader 2
client write log 982143622716715529 (index 42) to leader 2
client write log 2623358417866262561 (index 43) to leader 2
client write log 6352075713730177470 (index 44) to leader 2
flag 69274 term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 35 
------------------------------------------------------
flag 94873 term 7 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 7 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 7 leaderCommit: 35 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 5 29} {5235650735942672864 5 30} {598447906843725645 5 31} {5812665280519565166 5 32} {3768369638128685237 5 33} {3768369638128685237 7 34} {4439992400924915300 7 35} {5081831224846333093 7 36} {666241052080305650 7 37} {8447425447561856534 7 38} {5571932143503793043 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44}]
------------------------------------------------------
term 7 Server2 start snapshot! index=39
term 7 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
term 7 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 84190 term 7 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 7 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44}]
------------------------------------------------------
term 7 Server1 start snapshot! index=39
term 7 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2198081900862834783 (index 45) to leader 2
term 7 server 2 not vote for server 0, 日志不够新
term 7 server 1 not vote for server 0, 日志不够新
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get outdate rpc reply from server 0
flag 55812 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 23170 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 46->45
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 15659 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 7 rf.commitIndex 39 rf.lastApplied 39
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 39617 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 93932 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 66248 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 99891 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 71124 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 19938 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 88370 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 57090 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56933 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 95962 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 92327 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 94538 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 3527 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 52114 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19044 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 51326 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 91082 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 45473 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 54888 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 52709 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 52090 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 15609 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 34475 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 79912 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 26824 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 33088 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58668 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 56925 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12233 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 3181 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 48377 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 36698 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
flag 69375 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 62085 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45}]
------------------------------------------------------
client write log 2198081900862834783 (index 46) to leader 2
flag 81732 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
flag 31130 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 7 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 63322 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 23113 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 49629 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 17550 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 7043 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 78728 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 30469 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 60480 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 35121 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 2336 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91756 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 22334 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46}]
------------------------------------------------------
flag 20458 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 80487 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 84266 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 56795 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 14707 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 28492 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 1
term 10 server 0 become leader
------------------------------------------------------
flag 93109 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 53694 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
client write log 195016664246278251 (index 47) to leader 0
flag 90095 term 10 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 33086 term 10 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46} {195016664246278251 10 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 47->46
------------------------------------------------------
flag 2315 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 17119 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 42439 term 10 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46} {195016664246278251 10 47}]
------------------------------------------------------
client write log 3092841322456461204 (index 48) to leader 0
client write log 5604140484306658391 (index 49) to leader 0
client write log 2858235337656312183 (index 50) to leader 0
client write log 4183858042597764194 (index 51) to leader 0
client write log 8238368408177637456 (index 52) to leader 0
client write log 8632427107064770456 (index 53) to leader 0
client write log 5583153105863082135 (index 54) to leader 0
client write log 4758672271889544856 (index 55) to leader 0
client write log 6065233925374037414 (index 56) to leader 0
client write log 3713277113558022081 (index 57) to leader 0
client write log 5851607991100961622 (index 58) to leader 0
client write log 7428821483991257277 (index 59) to leader 0
flag 94706 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 43931 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 79126 term 10 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 7 39} {7107249838783211002 7 40} {6948755378983041786 7 41} {982143622716715529 7 42} {2623358417866262561 7 43} {6352075713730177470 7 44} {2198081900862834783 7 45} {2198081900862834783 9 46} {195016664246278251 10 47} {3092841322456461204 10 48} {5604140484306658391 10 49} {2858235337656312183 10 50} {4183858042597764194 10 51} {8238368408177637456 10 52} {8632427107064770456 10 53} {5583153105863082135 10 54} {4758672271889544856 10 55} {6065233925374037414 10 56} {3713277113558022081 10 57} {5851607991100961622 10 58} {7428821483991257277 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 46
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 4745 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 1087 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=59
-------------------------------------------------------------
term 10 Server1 start snapshot! index=59
term 10 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3704234764748707378 (index 47) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 46
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 98899 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 10 server 1 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42555 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 10 rf.commitIndex 59 rf.lastApplied 59
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 12081 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 6804 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 59744 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 78245 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 66150 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 9912 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49204 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 98800 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 2 not vote for server 0, 日志不够新
term 10 server 0 get outdate rpc reply from server 2
flag 92898 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 84821 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 2645 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 39055 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 32860 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 51858 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90818 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 28862 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33885 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 49786 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 68762 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 87160 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 35652 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 46191 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46116 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 62074 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 67872 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 58850 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 10 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 98016 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 66542 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46728 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 9512 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 28745 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 52247 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 61367 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 31211 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 31422 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 53266 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 61829 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 33917 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
client write log 3704234764748707378 (index 60) to leader 0
flag 56309 term 10 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 34079 term 10 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
flag 80061 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 1605 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
flag 64812 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 18746 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
flag 98888 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 1572 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
term 10 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46929 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 36973 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49405 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 19131 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3704234764748707378 10 60}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6357064308002723379 (index 61) to leader 0
flag 91574 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 6328 term 10 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3704234764748707378 10 60} {6357064308002723379 10 61}]
------------------------------------------------------
flag 76222 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 28717 term 10 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 10 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3704234764748707378 10 60} {6357064308002723379 10 61}]
------------------------------------------------------
client write log 6007250641952059158 (index 62) to leader 0
client write log 8498875577938213015 (index 63) to leader 0
client write log 53462731389549898 (index 64) to leader 0
client write log 6004063209127757845 (index 65) to leader 0
client write log 3943953854519692730 (index 66) to leader 0
client write log 2730216375315889242 (index 67) to leader 0
client write log 2449424238468970639 (index 68) to leader 0
client write log 4935515915039379971 (index 69) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48842 term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 68881 term 10 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 10 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 59} {3704234764748707378 10 60} {6357064308002723379 10 61} {6007250641952059158 10 62} {8498875577938213015 10 63} {53462731389549898 10 64} {6004063209127757845 10 65} {3943953854519692730 10 66} {2730216375315889242 10 67} {2449424238468970639 10 68} {4935515915039379971 10 69}]
------------------------------------------------------
term 10 Server0 start snapshot! index=69
term 10 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 69772 term 10 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 10 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 69}]
------------------------------------------------------
!!!!!!connect server 1
term 10 Server2 start snapshot! index=69
term 10 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 3797496587838666078 (index 70) to leader 0
term 10 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 10471 term 10 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 10 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 0 become leader
------------------------------------------------------
term 12 server 1 vote for server 0
term 12 server 0 get outdate rpc reply from server 1
flag 49325 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 49549 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 22033 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 10 rf.commitIndex 69 rf.lastApplied 69
term 12 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 37093 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 27117 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 90126 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 92800 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 61403 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 42002 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51338 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 8870 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 40439 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 29254 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 79299 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 90757 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 46810 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 66930 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 6225 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 51307 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 76425 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 55094 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 90871 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 66258 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 88021 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 46663 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83975 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 87835 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 98602 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 41417 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 98364 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 17313 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 45858 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 33513 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
flag 24259 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 89064 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 10 69} {3797496587838666078 10 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3797496587838666078 (index 71) to leader 0
flag 91789 term 12 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
flag 48180 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 10 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
flag 34895 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 65915 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
flag 68551 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 48857 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
term 12 server 2 not vote for server 1, 任期不够新
term 12 server 1 get outdate rpc reply from server 2
flag 28989 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 91165 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
flag 27711 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 97085 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95443 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 84575 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7818883850856106133 (index 72) to leader 0
flag 93476 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
flag 61247 term 12 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71} {7818883850856106133 12 72}]
------------------------------------------------------
flag 20207 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
flag 23350 term 12 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71} {7818883850856106133 12 72}]
------------------------------------------------------
client write log 479820108251951035 (index 73) to leader 0
client write log 3487684691516721945 (index 74) to leader 0
client write log 4584124932276930774 (index 75) to leader 0
client write log 7722597174712830351 (index 76) to leader 0
client write log 1264263217947120616 (index 77) to leader 0
client write log 7554788490700006564 (index 78) to leader 0
client write log 5618338503208484393 (index 79) to leader 0
client write log 5967481017518425855 (index 80) to leader 0
client write log 1157056700813129155 (index 81) to leader 0
client write log 5324444350301442550 (index 82) to leader 0
client write log 2460317088493100656 (index 83) to leader 0
flag 25127 term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
flag 38851 term 12 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 12 leaderCommit: 72 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 10 69} {3797496587838666078 10 70} {3797496587838666078 12 71} {7818883850856106133 12 72} {479820108251951035 12 73} {3487684691516721945 12 74} {4584124932276930774 12 75} {7722597174712830351 12 76} {1264263217947120616 12 77} {7554788490700006564 12 78} {5618338503208484393 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 34065 term 12 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 12 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=83
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5963105117014914901 (index 84) to leader 0
term 12 server 2 not vote for server 1, 日志不够新
term 12 server 0 not vote for server 1, 日志不够新
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
flag 75454 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 75669 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 85->84
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 85->84
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 44966 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 79301 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 15657 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 13531 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 59768 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 59666 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 20282 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 52274 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 45257 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 47912 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 84418 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21832 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 25061 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8121 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 26833 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 93248 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 253 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 37142 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 79206 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 50758 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 78217 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 39966 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 85651 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19242 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 15992 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 35529 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 20417 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 85460 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 91937 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 73240 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 61440 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 40651 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 43333 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
flag 63289 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 32134 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84}]
------------------------------------------------------
client write log 5963105117014914901 (index 85) to leader 0
flag 70980 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
flag 30000 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
flag 46701 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 49346 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
flag 76431 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 3661 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
flag 21211 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 86 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
flag 71383 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 53701 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
flag 6460 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 34839 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 484 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 99910 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 68945 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 96907 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 82802 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 57847 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 49494 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 29467 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
client write log 3634188322944060949 (index 86) to leader 1
flag 60080 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 64438 term 15 leader 1 nextIndex[2]: 86  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85} {3634188322944060949 15 86}]
------------------------------------------------------
flag 96303 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 39646 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 99022 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 62618 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85} {3634188322944060949 15 86}]
------------------------------------------------------
client write log 1522168010011143083 (index 87) to leader 1
client write log 2110314261272969801 (index 88) to leader 1
client write log 7740430373318384461 (index 89) to leader 1
client write log 395167796475479183 (index 90) to leader 1
client write log 4969089221682108403 (index 91) to leader 1
client write log 8724563666230499413 (index 92) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
flag 13315 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 55480 term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 61614 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 12 79} {5967481017518425855 12 80} {1157056700813129155 12 81} {5324444350301442550 12 82} {2460317088493100656 12 83} {5963105117014914901 12 84} {5963105117014914901 14 85} {3634188322944060949 15 86} {1522168010011143083 15 87} {2110314261272969801 15 88} {7740430373318384461 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
flag 85800 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 94157 term 15 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 15 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8568696442600004878 (index 93) to leader 1
flag 34463 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 86  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 97730 term 15 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 15 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
term 15 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 17 server 2 vote for server 1
term 17 server 1 get vote from server 2
term 17 server 1 become leader
------------------------------------------------------
term 17 server 0 vote for server 1
term 17 server 1 get outdate rpc reply from server 0
flag 58549 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 41683 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 94->93
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7099 term 17 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 88618 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50242 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 59194 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90970 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 96734 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
flag 61751 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 35662 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
flag 34231 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 87965 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
flag 87381 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 81035 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69617 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 48705 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8694285667062593193 (index 94) to leader 1
flag 56622 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 94964 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93} {8694285667062593193 17 94}]
------------------------------------------------------
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
flag 86318 term 17 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 48780 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 94 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93} {8694285667062593193 17 94}]
------------------------------------------------------
client write log 8221130248275713364 (index 95) to leader 1
client write log 4120273769260267530 (index 96) to leader 1
client write log 5581267257619232251 (index 97) to leader 1
client write log 8188423054963277367 (index 98) to leader 1
client write log 2046483600238607645 (index 99) to leader 1
client write log 7443837138168507430 (index 100) to leader 1
client write log 3742098422531555155 (index 101) to leader 1
client write log 2898552511150987708 (index 102) to leader 1
client write log 6103687055892844738 (index 103) to leader 1
client write log 4725857575877889451 (index 104) to leader 1
flag 73045 term 17 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 17 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 99902 term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 15 leaderCommit: 94 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 89} {395167796475479183 15 90} {4969089221682108403 15 91} {8724563666230499413 15 92} {8568696442600004878 15 93} {8694285667062593193 17 94} {8221130248275713364 17 95} {4120273769260267530 17 96} {5581267257619232251 17 97} {8188423054963277367 17 98} {2046483600238607645 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
flag 13807 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7230737025817644892 (index 105) to leader 1
term 17 server 1 not vote for server 2, 日志不够新
term 17 server 0 not vote for server 2, 日志不够新
term 19 server 0 vote for server 1
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
term 19 server 1 get outdate rpc reply from server 2
flag 64467 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 46658 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 106->105
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 106->105
------------------------------------------------------
flag 87430 term 19 leader 1 nextIndex[0]: 105  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 72101 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 54535 term 19 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32932 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 70463 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 42644 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 87993 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 42614 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 23426 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 85136 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 7531 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94047 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 22843 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63819 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 84692 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 54299 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 43030 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46163 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 47927 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 48221 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 59024 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 38523 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 73573 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 97682 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 52719 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 37338 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 33910 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10370 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 42257 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16462 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 98815 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 97119 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 43379 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 79455 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 27094 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
flag 6650 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 50028 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105}]
------------------------------------------------------
client write log 7230737025817644892 (index 106) to leader 1
flag 64647 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 3930 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
flag 28890 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 51355 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
flag 54616 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 40905 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8578 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 68083 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
flag 50379 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 69206 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73280 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 40753 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
flag 76993 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 89968 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2991000980800085984 (index 107) to leader 1
flag 45755 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 11585 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106} {2991000980800085984 19 107}]
------------------------------------------------------
flag 29510 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 33290 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106} {2991000980800085984 19 107}]
------------------------------------------------------
client write log 5864479837602225351 (index 108) to leader 1
client write log 901048588848906310 (index 109) to leader 1
client write log 6300884263449711784 (index 110) to leader 1
client write log 2145895215304221729 (index 111) to leader 1
client write log 7431757098666563649 (index 112) to leader 1
client write log 4254796796544218225 (index 113) to leader 1
client write log 8594264974015520847 (index 114) to leader 1
flag 39054 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 95909 term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 99} {7443837138168507430 17 100} {3742098422531555155 17 101} {2898552511150987708 17 102} {6103687055892844738 17 103} {4725857575877889451 17 104} {7230737025817644892 17 105} {7230737025817644892 19 106} {2991000980800085984 19 107} {5864479837602225351 19 108} {901048588848906310 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=114
-------------------------------------------------------------
flag 18993 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=114
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6251935214553297048 (index 115) to leader 1
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6032 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 0
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 2
flag 52168 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 76412 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 116->115
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 676 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 107  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 5751 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 95620 term 21 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 33796 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 9725 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 45394 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 4052 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 45657 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 76029 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3330 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 88464 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 60119 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 20214 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23549 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 2907 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90924 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 72550 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73473 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 20682 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get vote from server 0
term 22 server 2 become leader
------------------------------------------------------
flag 66582 term 22 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 45315 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115}]
------------------------------------------------------
flag 95531 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 17856 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
client write log 4182090049695432603 (index 116) to leader 2
flag 19538 term 22 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 64076 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115} {4182090049695432603 22 116}]
------------------------------------------------------
flag 60234 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 20370 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 31853 term 22 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 22 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 116 
------------------------------------------------------
flag 18740 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115} {4182090049695432603 22 116}]
------------------------------------------------------
client write log 918162967156685608 (index 117) to leader 2
client write log 8068591005664560693 (index 118) to leader 2
client write log 4064598040149424974 (index 119) to leader 2
client write log 3199198302724701790 (index 120) to leader 2
client write log 4247982176944269254 (index 121) to leader 2
client write log 228554403879321017 (index 122) to leader 2
client write log 320995534960405561 (index 123) to leader 2
client write log 7289852587031685006 (index 124) to leader 2
client write log 8214422914892273249 (index 125) to leader 2
client write log 3470107503850519258 (index 126) to leader 2
client write log 3891488818046261538 (index 127) to leader 2
flag 29742 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 28148 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24778 term 22 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 22 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 22 leaderCommit: 116 
------------------------------------------------------
flag 94151 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 109} {6300884263449711784 19 110} {2145895215304221729 19 111} {7431757098666563649 19 112} {4254796796544218225 19 113} {8594264974015520847 19 114} {6251935214553297048 19 115} {4182090049695432603 22 116} {918162967156685608 22 117} {8068591005664560693 22 118} {4064598040149424974 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
flag 79814 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 3066 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 27751 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3490344134783208490 (index 116) to leader 1
flag 79094 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 4558 term 21 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 22 server 2 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33939 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
flag 52790 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 35395 term 22 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85585 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 77465 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4630 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 91659 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
flag 45812 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 0  matchIndex[1]: 127
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 1 InstallSnapshot fail
rf.commitIndex 127 args.LastIncludedIndex 119
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 81488 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 33643 term 22 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 10232 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 27586 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 21001 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 34528 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64934 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 88118 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 30008 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 83734 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 61047 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 41615 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 10898 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 33897 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 47406 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 82290 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 3453 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 6142 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 3827 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 14920 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 65789 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 81456 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 19587 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 57277 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 17940 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 53846 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 90139 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 93133 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
flag 25275 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 26833 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127}]
------------------------------------------------------
client write log 3490344134783208490 (index 128) to leader 2
flag 79038 term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
flag 75396 term 22 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 22 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 127 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
flag 5163 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 0  matchIndex[1]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 1 InstallSnapshot fail
rf.commitIndex 127 args.LastIncludedIndex 119
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 1 not vote for server 2, 任期不够新
term 22 server 2 get outdate rpc reply from server 1
flag 97833 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 32345 term 22 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1255 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 60596 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
flag 53420 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 34892 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96975 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 36910 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
flag 15715 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 13158 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
flag 37330 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 60882 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9111580548801541479 (index 129) to leader 2
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83803 term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 66285 term 22 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 22 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 119} {3199198302724701790 22 120} {4247982176944269254 22 121} {228554403879321017 22 122} {320995534960405561 22 123} {7289852587031685006 22 124} {8214422914892273249 22 125} {3470107503850519258 22 126} {3891488818046261538 22 127} {3490344134783208490 22 128} {9111580548801541479 22 129}]
------------------------------------------------------
term 22 Server2 start snapshot! index=129
term 22 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 92522 term 22 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 129}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 8022966151747653348 (index 130) to leader 2
client write log 2391302897858503015 (index 131) to leader 2
client write log 2271087352134905259 (index 132) to leader 2
client write log 7727108441423930021 (index 133) to leader 2
client write log 7815378143079450345 (index 134) to leader 2
client write log 1511663909007958515 (index 135) to leader 2
client write log 2873379680664794407 (index 136) to leader 2
client write log 9154145824274639471 (index 137) to leader 2
client write log 1771439415950034023 (index 138) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 11103 term 22 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 22 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 129 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 22 129} {8022966151747653348 22 130} {2391302897858503015 22 131} {2271087352134905259 22 132} {7727108441423930021 22 133} {7815378143079450345 22 134} {1511663909007958515 22 135} {2873379680664794407 22 136} {9154145824274639471 22 137} {1771439415950034023 22 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 0  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 22769 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 22 129} {8022966151747653348 22 130} {2391302897858503015 22 131} {2271087352134905259 22 132} {7727108441423930021 22 133} {7815378143079450345 22 134} {1511663909007958515 22 135} {2873379680664794407 22 136} {9154145824274639471 22 137} {1771439415950034023 22 138}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3287057757066936901 (index 139) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 0  matchIndex[0]: 128
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
flag 9345 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 129} {8022966151747653348 22 130} {2391302897858503015 22 131} {2271087352134905259 22 132} {7727108441423930021 22 133} {7815378143079450345 22 134} {1511663909007958515 22 135} {2873379680664794407 22 136} {9154145824274639471 22 137} {1771439415950034023 22 138} {3287057757066936901 22 139}]
------------------------------------------------------
term 23 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get outdate rpc reply from server 0
flag 11819 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 26387 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 87040 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
flag 34997 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 78257 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19269 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 12265 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
flag 89932 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 74156 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
flag 75688 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 42956 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2169734167595323841 (index 140) to leader 2
flag 21831 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 74720 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 139} {2169734167595323841 24 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94270 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
flag 87633 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 139} {2169734167595323841 24 140}]
------------------------------------------------------
client write log 2634500406732217507 (index 141) to leader 2
client write log 8979638069370451544 (index 142) to leader 2
client write log 4317640437167225522 (index 143) to leader 2
client write log 7003268089559409541 (index 144) to leader 2
client write log 9132760733241184724 (index 145) to leader 2
client write log 34292183589060181 (index 146) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 929 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
flag 6894 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93814 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 146 
------------------------------------------------------
flag 96352 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8091244665296998878 (index 147) to leader 2
flag 83618 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 146 
------------------------------------------------------
flag 81499 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 not vote for server 0, 日志不够新
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 27 server 2 vote for server 1
term 27 server 0 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 1 get outdate rpc reply from server 0
flag 21750 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 84374 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 148->147
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14343 term 27 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 146 
------------------------------------------------------
flag 10119 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 7379 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 82439 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 17255 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 44294 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
flag 23173 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 34475 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 44841 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 37805 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55323 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 98725 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59150 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 2112 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 18985 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 95225 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 0
flag 5866 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 72536 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 80609 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 54706 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31675 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 63462 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99698 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 6542 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 16680 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 40649 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
flag 80649 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 71901 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147}]
------------------------------------------------------
client write log 8091244665296998878 (index 148) to leader 1
flag 86777 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 60259 term 27 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 99049 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 67427 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 15070 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 40879 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 96557 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 20853 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 63129 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 69999 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 63408 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 96560 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
update nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
flag 3840 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 42355 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 35795 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 41669 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49639 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 20183 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 32259 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 12781 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
flag 84554 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 12803 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 19170 term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 71920 term 28 leader 0 nextIndex[2]: 149  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148}]
------------------------------------------------------
client write log 1278558985261079627 (index 149) to leader 0
flag 79884 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 44203 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 95376 term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 13959 term 28 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 28 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 22 139} {2169734167595323841 24 140} {2634500406732217507 24 141} {8979638069370451544 24 142} {4317640437167225522 24 143} {7003268089559409541 24 144} {9132760733241184724 24 145} {34292183589060181 24 146} {8091244665296998878 24 147} {8091244665296998878 27 148} {1278558985261079627 28 149}]
------------------------------------------------------
term 28 Server0 start snapshot! index=149
term 28 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58156 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 39966 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 2885 term 28 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 28 149}]
------------------------------------------------------
term 28 Server2 start snapshot! index=149
term 28 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 5473192021719615930 (index 150) to leader 0
flag 79984 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 32305 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 90413 term 28 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 83198 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 10043 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 7558 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1544026569860990562 (index 149) to leader 1
flag 23995 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
flag 23218 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 27 leaderCommit: 148 
------------------------------------------------------
term 28 server 0 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 149  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 89121 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 28 rf.commitIndex 149 rf.lastApplied 149
flag 49772 term 28 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 73221 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 85884 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 6928 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 26178 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 33970 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 59484 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 95532 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 78364 term 28 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 91865 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82132 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 41979 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 54888 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 82857 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52864 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 99795 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 63866 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 31515 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 4888 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 4859 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 75017 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 90497 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 14835 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 65800 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73937 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 57272 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 33928 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 75299 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 1237 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 89822 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 95084 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 4069 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 23504 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 69532 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95544 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 48542 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
flag 726 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 74503 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 28 149} {5473192021719615930 28 150}]
------------------------------------------------------
client write log 1544026569860990562 (index 151) to leader 0
flag 25005 term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 40334 term 28 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
flag 18952 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 67026 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
flag 49991 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 82978 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
flag 99284 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 93089 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68637 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 76370 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14970 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 34026 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
term 28 server 1 not vote for server 0, 日志不够新
term 28 server 0 get outdate rpc reply from server 1
flag 18745 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 80787 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5076893728013181489 (index 152) to leader 0
flag 69176 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 17848 term 28 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151} {5076893728013181489 28 152}]
------------------------------------------------------
flag 47953 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
flag 48553 term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151} {5076893728013181489 28 152}]
------------------------------------------------------
client write log 559399869651707803 (index 153) to leader 0
client write log 1026424415630142306 (index 154) to leader 0
client write log 5286283695521833409 (index 155) to leader 0
client write log 5993455490851450187 (index 156) to leader 0
client write log 3089463199316046539 (index 157) to leader 0
client write log 2250149780369067762 (index 158) to leader 0
client write log 1587743452183047376 (index 159) to leader 0
client write log 6611831096642053822 (index 160) to leader 0
client write log 3987944694575933065 (index 161) to leader 0
client write log 5095107148739347260 (index 162) to leader 0
client write log 692525351637254652 (index 163) to leader 0
client write log 5456416076747740248 (index 164) to leader 0
client write log 1647941420480233797 (index 165) to leader 0
client write log 4725196195512265962 (index 166) to leader 0
client write log 4449418181015217092 (index 167) to leader 0
flag 53337 term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
flag 75264 term 28 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 28 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 149} {5473192021719615930 28 150} {1544026569860990562 28 151} {5076893728013181489 28 152} {559399869651707803 28 153} {1026424415630142306 28 154} {5286283695521833409 28 155} {5993455490851450187 28 156} {3089463199316046539 28 157} {2250149780369067762 28 158} {1587743452183047376 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 83895 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9191961328925441221 (index 168) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14664 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 46123 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 77534 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94170 term 30 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 34896 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94722 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 32575 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33184 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 22501 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 21459 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 46440 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63647 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 89354 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13793 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 73272 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 46181 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 55090 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 7897 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 80806 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 92697 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 21521 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 49393 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 47035 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 88251 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 31462 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93546 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 51921 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 6460 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 84527 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 76017 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 19310 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 77904 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 61207 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51754 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 80417 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
flag 71527 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 60986 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168}]
------------------------------------------------------
client write log 9191961328925441221 (index 169) to leader 0
flag 13589 term 30 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 24671 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168} {9191961328925441221 30 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 159} {6611831096642053822 28 160} {3987944694575933065 28 161} {5095107148739347260 28 162} {692525351637254652 28 163} {5456416076747740248 28 164} {1647941420480233797 28 165} {4725196195512265962 28 166} {4449418181015217092 28 167} {9191961328925441221 28 168} {9191961328925441221 30 169}]
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 63883 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 84203 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89342 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 69006 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90297 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 34709 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
flag 55090 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 36863 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
flag 36133 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 96180 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
flag 40297 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 80383 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 30 169}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8820453746806168282 (index 170) to leader 0
flag 77846 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
flag 40370 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {8820453746806168282 30 170}]
------------------------------------------------------
flag 54698 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 65815 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 30 169} {8820453746806168282 30 170}]
------------------------------------------------------
client write log 1535055685102840609 (index 171) to leader 0
client write log 5728999404778270306 (index 172) to leader 0
client write log 4333369460372295177 (index 173) to leader 0
client write log 4450378813009189214 (index 174) to leader 0
client write log 53319762915017482 (index 175) to leader 0
client write log 2933438195933842689 (index 176) to leader 0
client write log 2460144026393877908 (index 177) to leader 0
client write log 3316914271296302394 (index 178) to leader 0
client write log 6922159550191246335 (index 179) to leader 0
client write log 9050737537632525282 (index 180) to leader 0
client write log 5595721009002471415 (index 181) to leader 0
client write log 3143013066891986459 (index 182) to leader 0
client write log 7760905780098602902 (index 183) to leader 0
client write log 7577757808654497965 (index 184) to leader 0
client write log 199145424279780029 (index 185) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34713 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 5635 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 30 169} {8820453746806168282 30 170} {1535055685102840609 30 171} {5728999404778270306 30 172} {4333369460372295177 30 173} {4450378813009189214 30 174} {53319762915017482 30 175} {2933438195933842689 30 176} {2460144026393877908 30 177} {3316914271296302394 30 178} {6922159550191246335 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 74002 term 30 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 1
client write log 875997941846511203 (index 186) to leader 0
term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 26264 term 30 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 15787 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 49979 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 58405 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64831 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 80774 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50352 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 77382 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 76217 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 84136 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23074 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 61674 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 63834 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 78517 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 70795 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 45215 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29734 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 7969 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 22481 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 17122 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 41521 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 25676 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 29997 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 69738 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76783 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 9214 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 78690 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 63185 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 54010 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 34469 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 75827 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 64186 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 87993 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 33035 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
flag 99400 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 15470 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186}]
------------------------------------------------------
client write log 875997941846511203 (index 187) to leader 0
flag 70664 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
flag 17153 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
flag 83993 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 58158 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
flag 81754 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 47367 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39300 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 42162 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
flag 39823 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 29943 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
flag 87221 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 16970 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 9428 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 73650 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 87934 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 27994 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 87901 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 76348 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 72731 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 88239 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
client write log 1084301440067200958 (index 188) to leader 1
flag 15662 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 46073 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187} {1084301440067200958 33 188}]
------------------------------------------------------
flag 42222 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 18893 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 95329 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 14510 term 33 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187} {1084301440067200958 33 188}]
------------------------------------------------------
flag 99764 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 9016 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
client write log 3836846917375251572 (index 189) to leader 1
client write log 5736691168354307299 (index 190) to leader 1
client write log 8177513468981639162 (index 191) to leader 1
client write log 1191007093017017760 (index 192) to leader 1
client write log 5068431461988602968 (index 193) to leader 1
client write log 3288456267151443775 (index 194) to leader 1
flag 40717 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 97634 term 33 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 179} {9050737537632525282 30 180} {5595721009002471415 30 181} {3143013066891986459 30 182} {7760905780098602902 30 183} {7577757808654497965 30 184} {199145424279780029 30 185} {875997941846511203 30 186} {875997941846511203 32 187} {1084301440067200958 33 188} {3836846917375251572 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
flag 57810 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 69083 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 17033 term 33 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194}]
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
flag 25462 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 92134 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
!!!!!!connect server 0
client write log 9071944975536198621 (index 195) to leader 1
term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 27350 term 33 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 189
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 65053 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
term 33 server 0 InstallSnapshot fail
rf.commitIndex 189 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 2636 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 26654 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
flag 92271 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 42737 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
flag 34663 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 89661 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
flag 71858 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 91721 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
flag 10210 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 36371 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
flag 96203 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 91054 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6897348812753584593 (index 196) to leader 1
flag 50319 term 33 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 82644 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195} {6897348812753584593 33 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 197->196
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 196
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 37195 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 server 0 InstallSnapshot fail
rf.commitIndex 195 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
term 33 server 0 not vote for server 1, 日志不够新
term 33 server 1 get outdate rpc reply from server 0
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96369 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 29947 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195} {6897348812753584593 33 196}]
------------------------------------------------------
client write log 5091960641185141382 (index 197) to leader 1
client write log 1101799999311256556 (index 198) to leader 1
client write log 3921933064659859357 (index 199) to leader 1
client write log 1807581724820084195 (index 200) to leader 1
client write log 241410850786854342 (index 201) to leader 1
client write log 5096047206698161887 (index 202) to leader 1
flag 17582 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 51308 term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 33 189} {5736691168354307299 33 190} {8177513468981639162 33 191} {1191007093017017760 33 192} {5068431461988602968 33 193} {3288456267151443775 33 194} {9071944975536198621 33 195} {6897348812753584593 33 196} {5091960641185141382 33 197} {1101799999311256556 33 198} {3921933064659859357 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202}]
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
flag 93928 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 678191104515313641 (index 203) to leader 1
flag 12966 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 49030 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 89684 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 75155 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 196  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 87877 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 16867 term 35 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1514 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 78355 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 29155 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 57063 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 83748 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 87053 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90507 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 29215 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
update nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 54113 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 2509 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39272 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 3063 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 91119 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 31424 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16797 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 54897 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 16561 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 48095 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70847 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 50362 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 27170 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 51459 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 36622 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 87707 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 92147 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 18960 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 92502 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 89565 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 35539 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 33394 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
flag 3373 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 12193 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203}]
------------------------------------------------------
client write log 678191104515313641 (index 204) to leader 1
flag 40518 term 35 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 55451 term 35 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 35 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84500 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 80066 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71854 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 59837 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
flag 30551 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 14100 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
flag 46311 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 40928 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
flag 18214 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 23101 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27226 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 19473 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 795920589524413501 (index 205) to leader 1
flag 5809 term 35 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
flag 53094 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204} {795920589524413501 35 205}]
------------------------------------------------------
flag 76472 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 2577 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204} {795920589524413501 35 205}]
------------------------------------------------------
client write log 8497565122288137520 (index 206) to leader 1
client write log 5370676017018143693 (index 207) to leader 1
client write log 488596071219374833 (index 208) to leader 1
client write log 8325040673133419191 (index 209) to leader 1
client write log 5923640090118000003 (index 210) to leader 1
client write log 2559017978588147216 (index 211) to leader 1
client write log 607845087055041053 (index 212) to leader 1
client write log 529470677073789784 (index 213) to leader 1
client write log 430884691095498046 (index 214) to leader 1
client write log 953264758228278479 (index 215) to leader 1
client write log 1726280772289621561 (index 216) to leader 1
flag 83839 term 35 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 35 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
flag 12320 term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 35 leaderCommit: 205 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 199} {1807581724820084195 33 200} {241410850786854342 33 201} {5096047206698161887 33 202} {678191104515313641 33 203} {678191104515313641 35 204} {795920589524413501 35 205} {8497565122288137520 35 206} {5370676017018143693 35 207} {488596071219374833 35 208} {8325040673133419191 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
flag 60699 term 35 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 35 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216}]
------------------------------------------------------
term 35 Server0 start snapshot! index=209
term 35 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8706166706548505925 (index 217) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 48221 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 9258 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 218->217
------------------------------------------------------
flag 20902 term 37 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 35 rf.commitIndex 209 rf.lastApplied 209
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92678 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 21312 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 10464 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 48158 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 39456 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 99717 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70800 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 38215 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 34278 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 5491 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 47230 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 84167 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41001 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 34442 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 51132 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 41617 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 81138 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 35972 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53811 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 55867 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 38282 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 44321 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85334 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 86405 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 94418 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 18422 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 72711 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 30007 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 84773 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 65588 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 89401 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 68349 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
flag 29092 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 10933 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29493 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 88674 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217}]
------------------------------------------------------
client write log 8706166706548505925 (index 218) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67542 term 37 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 72371 term 37 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 37 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37703 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 25795 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
flag 38485 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 64991 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
flag 85287 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 32845 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
flag 97034 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 97270 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
flag 87561 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 25684 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
flag 89355 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 36944 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 23066 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 17015 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 36161 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 42477 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 20587 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 25717 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 84626 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 19212 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
flag 40368 term 38 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 11832 term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218}]
------------------------------------------------------
client write log 3192183831740491614 (index 219) to leader 2
flag 18673 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 87572 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 35596 term 38 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 22061 term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 209} {5923640090118000003 35 210} {2559017978588147216 35 211} {607845087055041053 35 212} {529470677073789784 35 213} {430884691095498046 35 214} {953264758228278479 35 215} {1726280772289621561 35 216} {8706166706548505925 35 217} {8706166706548505925 37 218} {3192183831740491614 38 219}]
------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 60066 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 66749 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 97673 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 6315319386958243034 (index 220) to leader 2
client write log 7087679087685046979 (index 221) to leader 2
client write log 7638542530260074991 (index 222) to leader 2
client write log 1908232067064222811 (index 223) to leader 2
client write log 3797627688651667005 (index 224) to leader 2
client write log 2349982852310586633 (index 225) to leader 2
client write log 1976638181768814158 (index 226) to leader 2
client write log 638611606422113079 (index 227) to leader 2
client write log 2539693685952352765 (index 228) to leader 2
client write log 5569445227578995390 (index 229) to leader 2
client write log 2840599417322165892 (index 230) to leader 2
flag 406 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 97488 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60574 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 219} {6315319386958243034 38 220} {7087679087685046979 38 221} {7638542530260074991 38 222} {1908232067064222811 38 223} {3797627688651667005 38 224} {2349982852310586633 38 225} {1976638181768814158 38 226} {638611606422113079 38 227} {2539693685952352765 38 228} {5569445227578995390 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=230
-------------------------------------------------------------
flag 25465 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 15289 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 19958 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1058911072885825703 (index 219) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
flag 78259 term 37 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 68551 term 37 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18307 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4440 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 25434 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 84436 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 91386 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7406 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 35662 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9741 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 93401 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 29878 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 9258 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 10286 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 44656 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 54348 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 69528 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 9247 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 52490 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78434 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 43726 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40774 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 42960 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 87334 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 76009 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 6744 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 71752 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 27328 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 43228 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 54985 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 89891 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 60665 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 94384 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 74632 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 99004 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 7130 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 14577 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 22790 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 77413 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
flag 29120 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 77590 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2840599417322165892 38 230}]
------------------------------------------------------
client write log 1058911072885825703 (index 231) to leader 2
flag 13468 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 37225 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30430 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 28189 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 2 get outdate rpc reply from server 1
flag 27210 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 54127 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
flag 62886 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 85252 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
flag 89260 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 94492 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41920 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 36626 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
flag 82879 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 85313 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3727913412095083587 (index 232) to leader 2
flag 97883 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 31484 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231} {3727913412095083587 38 232}]
------------------------------------------------------
flag 83543 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 47557 term 38 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 38 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231} {3727913412095083587 38 232}]
------------------------------------------------------
client write log 351350950484314019 (index 233) to leader 2
client write log 7666003925352432993 (index 234) to leader 2
client write log 7457245330781086034 (index 235) to leader 2
client write log 1299529025997936300 (index 236) to leader 2
client write log 1734814966133838842 (index 237) to leader 2
client write log 482427964318074582 (index 238) to leader 2
client write log 1008070632722770001 (index 239) to leader 2
client write log 5613338598207055310 (index 240) to leader 2
client write log 3093983885020030553 (index 241) to leader 2
client write log 2025231890487825902 (index 242) to leader 2
client write log 8559000639104349260 (index 243) to leader 2
client write log 7660350600270328893 (index 244) to leader 2
client write log 4695211836931621877 (index 245) to leader 2
client write log 4826347071473607803 (index 246) to leader 2
client write log 709496125302944152 (index 247) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16783 term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 612 term 38 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 38 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 229} {2840599417322165892 38 230} {1058911072885825703 38 231} {3727913412095083587 38 232} {351350950484314019 38 233} {7666003925352432993 38 234} {7457245330781086034 38 235} {1299529025997936300 38 236} {1734814966133838842 38 237} {482427964318074582 38 238} {1008070632722770001 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 88903 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1995673885186146411 (index 248) to leader 2
term 38 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 59791 term 38 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 38 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 0
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 1
flag 6075 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 52897 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 78559 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72866 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 28114 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92692 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 21241 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
term 40 server 1 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 1
flag 8172 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 90502 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
flag 98154 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 32897 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
flag 47276 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 56136 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97041 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 6990 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
flag 51592 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 44505 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1867129693648291756 (index 249) to leader 2
flag 37723 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 99000 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 239} {5613338598207055310 38 240} {3093983885020030553 38 241} {2025231890487825902 38 242} {8559000639104349260 38 243} {7660350600270328893 38 244} {4695211836931621877 38 245} {4826347071473607803 38 246} {709496125302944152 38 247} {1995673885186146411 38 248} {1867129693648291756 40 249}]
------------------------------------------------------
term 40 Server2 start snapshot! index=249
term 40 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 60134 term 40 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 249}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 8890768463166272946 (index 250) to leader 2
client write log 381619217382105413 (index 251) to leader 2
client write log 2775415443875246475 (index 252) to leader 2
client write log 3384132653732381751 (index 253) to leader 2
client write log 1744018418442769262 (index 254) to leader 2
client write log 368977723389453185 (index 255) to leader 2
client write log 1505472193378419559 (index 256) to leader 2
client write log 7524716924365346327 (index 257) to leader 2
client write log 2994742425302219871 (index 258) to leader 2
client write log 2943532575663754989 (index 259) to leader 2
client write log 9052166770847150824 (index 260) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 37980 term 40 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 249} {8890768463166272946 40 250} {381619217382105413 40 251} {2775415443875246475 40 252} {3384132653732381751 40 253} {1744018418442769262 40 254} {368977723389453185 40 255} {1505472193378419559 40 256} {7524716924365346327 40 257} {2994742425302219871 40 258} {2943532575663754989 40 259} {9052166770847150824 40 260}]
------------------------------------------------------
term 40 Server2 start snapshot! index=259
term 40 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 30010 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2259024853918010948 (index 261) to leader 2
term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 73976 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 2 get outdate rpc reply from server 0
flag 93374 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 70724 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
term 42 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 84645 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
flag 79996 term 42 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 53646 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
flag 26092 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 30712 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 90121 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 87115 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86721 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 83577 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 56763 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 43110 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
flag 34541 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 18545 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92309 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 39741 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28726 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 73889 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 10044 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 64718 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33904 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 30793 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51897 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 96017 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 22580 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 49401 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 32492 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 51110 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33277 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 27019 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43490 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 10405 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23881 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 88053 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
flag 97073 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 31584 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261}]
------------------------------------------------------
client write log 2259024853918010948 (index 262) to leader 2
flag 3498 term 42 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 80988 term 42 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 42 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
flag 86696 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 67342 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
flag 8717 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 89 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
flag 92139 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 91792 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
flag 83020 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 33022 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
flag 77914 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 6489 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 77268 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 73123 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 68236 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 25472 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 50090 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 48095 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 65868 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 15636 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
flag 5571 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 3480 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262}]
------------------------------------------------------
client write log 1475921052541450292 (index 263) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81378 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 76239 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 39992 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 37888 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263}]
------------------------------------------------------
flag 60778 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 4525 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 54364 term 43 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 68157 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263}]
------------------------------------------------------
client write log 2380671036418219539 (index 264) to leader 1
flag 54711 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 29778 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 33125 term 43 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 42773 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264}]
------------------------------------------------------
flag 97393 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 71268 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 16822 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 92604 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3550251045917811744 (index 265) to leader 1
flag 66217 term 42 leader 2 nextIndex[0]: 263  matchIndex[0]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 29855 term 42 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 42 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39282 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 13478 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23677 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 1668 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
flag 49333 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 71942 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8494 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 4936 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 266->265
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 56065 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 265
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 265 args.LastIncludedIndex 259
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
flag 66843 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 66874 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
flag 9034 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 63091 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5815865389472710197 (index 266) to leader 1
flag 77195 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 9039 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265} {5815865389472710197 43 266}]
------------------------------------------------------
flag 84671 term 43 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 314 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265} {5815865389472710197 43 266}]
------------------------------------------------------
client write log 7633546226568049300 (index 267) to leader 1
client write log 335683088755257793 (index 268) to leader 1
client write log 2476071073532435447 (index 269) to leader 1
client write log 8506278510938201008 (index 270) to leader 1
client write log 1946767601778241894 (index 271) to leader 1
client write log 926745985122117563 (index 272) to leader 1
flag 15461 term 43 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 1950 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 259} {9052166770847150824 40 260} {2259024853918010948 40 261} {2259024853918010948 42 262} {1475921052541450292 43 263} {2380671036418219539 43 264} {3550251045917811744 43 265} {5815865389472710197 43 266} {7633546226568049300 43 267} {335683088755257793 43 268} {2476071073532435447 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272}]
------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 266->265
------------------------------------------------------
flag 28167 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 265
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3123407466915468643 (index 273) to leader 1
flag 81055 term 43 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 43 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 265
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 0
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 2
flag 25486 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 31417 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 1334 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 266  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
Server2 get CondInstallSnapshot!
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2222 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 49996 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 72238 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 38243 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 81901 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 94577 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80181 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 1313 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10922 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 96902 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 54848 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 40026 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92615 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 76404 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 40948 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 32069 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72363 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 88633 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89263 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 11733 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71850 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 9994 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 94102 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 48346 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 55595 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 37025 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 65524 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 95147 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 58400 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 75444 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 58454 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 98910 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
flag 54254 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 89378 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273}]
------------------------------------------------------
client write log 3123407466915468643 (index 274) to leader 1
flag 6999 term 45 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 77596 term 45 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 45 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77408 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 25760 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
flag 97606 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 6755 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
flag 23260 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 67737 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
flag 90113 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 19084 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79720 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 59528 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7658388348643824041 (index 275) to leader 1
flag 35161 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 13969 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274} {7658388348643824041 45 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75546 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 83920 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274} {7658388348643824041 45 275}]
------------------------------------------------------
client write log 6132707695526257810 (index 276) to leader 1
client write log 8564245174714671754 (index 277) to leader 1
client write log 5219318162967588504 (index 278) to leader 1
client write log 6534985041944139832 (index 279) to leader 1
client write log 6351079987698250773 (index 280) to leader 1
client write log 8848770141245228905 (index 281) to leader 1
client write log 2981483594269748035 (index 282) to leader 1
client write log 3092592309186164401 (index 283) to leader 1
client write log 3107281415073972030 (index 284) to leader 1
client write log 3441039442186066552 (index 285) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44235 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
flag 32936 term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 269} {8506278510938201008 43 270} {1946767601778241894 43 271} {926745985122117563 43 272} {3123407466915468643 43 273} {3123407466915468643 45 274} {7658388348643824041 45 275} {6132707695526257810 45 276} {8564245174714671754 45 277} {5219318162967588504 45 278} {6534985041944139832 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285}]
------------------------------------------------------
term 45 Server1 start snapshot! index=279
term 45 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
flag 6 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1272649424720665948 (index 286) to leader 1
flag 69763 term 45 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 45 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 2 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get outdate rpc reply from server 0
flag 67781 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 87119 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 287->286
------------------------------------------------------
term 47 server 0 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 0
flag 31412 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 60358 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 44351 term 47 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 47 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 50932 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 27799 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 48710 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 67290 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8913 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 84405 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 12815 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 93895 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 99809 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 28664 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14549 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 92658 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 69061 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 53191 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32013 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 328 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 23143 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 11497 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 0
flag 3173 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 54283 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 82980 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 15657 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 46897 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 61405 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 6953 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 10230 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9095 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 59239 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
flag 18462 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 97129 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91367 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 85097 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1272649424720665948 (index 287) to leader 1
flag 93304 term 47 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 67008 term 47 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
flag 25051 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 73457 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
flag 59767 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 62334 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
flag 77810 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 23965 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
flag 72301 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 31977 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
flag 14544 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 95207 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
flag 554 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 3585 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 36527 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 20392 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 39469 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 29807 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 47423 term 47 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 83114 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 288->287
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 46599 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 0
term 48 server 2 become leader
------------------------------------------------------
flag 26306 term 48 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 69681 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287}]
------------------------------------------------------
client write log 4859044068404611957 (index 288) to leader 2
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 40984 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 27399 term 48 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 54624 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287} {4859044068404611957 48 288}]
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 69886 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 65023 term 48 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
flag 5397 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287} {4859044068404611957 48 288}]
------------------------------------------------------
client write log 8423399164707000888 (index 289) to leader 2
client write log 6153115604075329940 (index 290) to leader 2
client write log 3144913724253383846 (index 291) to leader 2
client write log 1925000918328173017 (index 292) to leader 2
client write log 6702904542962264684 (index 293) to leader 2
client write log 1410401565936818376 (index 294) to leader 2
client write log 1664898870536381060 (index 295) to leader 2
client write log 2407313071642985534 (index 296) to leader 2
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 47977 term 47 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
flag 17945 term 48 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
flag 8556 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 45 279} {6351079987698250773 45 280} {8848770141245228905 45 281} {2981483594269748035 45 282} {3092592309186164401 45 283} {3107281415073972030 45 284} {3441039442186066552 45 285} {1272649424720665948 45 286} {1272649424720665948 47 287} {4859044068404611957 48 288} {8423399164707000888 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 93948 term 48 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 48 Server0 start snapshot! index=289
term 48 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=296
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8804240841218952106 (index 288) to leader 1
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 287
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94500 term 48 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
term 48 server 0 not vote for server 1, 日志不够新
term 48 server 2 not vote for server 1, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 46650 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 52548 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29651 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 68332 term 50 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 83479 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 81566 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 62130 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 39847 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 80894 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 31236 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 6908 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 72870 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 6820 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 35180 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23398 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 42424 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49716 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 72486 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86113 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 50502 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 20225 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 14387 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 97605 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 18495 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 37446 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 54809 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 82536 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 27389 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 51936 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 24296 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31915 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 44446 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56182 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 35333 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
flag 25266 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 1784 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 89713 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 36043 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296}]
------------------------------------------------------
client write log 8804240841218952106 (index 297) to leader 2
flag 98023 term 50 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
flag 32207 term 50 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 50 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 48 leaderCommit: 296 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 19713 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 38260 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 7247 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 76349 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 63913 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 39409 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 65777 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 30481 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 6635 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 95858 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
flag 10652 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 59262 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 223025707430031940 (index 298) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 79429 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
flag 37136 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297} {223025707430031940 50 298}]
------------------------------------------------------
flag 41508 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 50599 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297} {223025707430031940 50 298}]
------------------------------------------------------
client write log 4644715089165259397 (index 299) to leader 2
client write log 4974997906366454447 (index 300) to leader 2
client write log 1530829355670135200 (index 301) to leader 2
client write log 6176468647120295985 (index 302) to leader 2
client write log 540218854756308437 (index 303) to leader 2
client write log 6940631725830790583 (index 304) to leader 2
client write log 5916405609961800262 (index 305) to leader 2
client write log 7692775617837913562 (index 306) to leader 2
flag 21282 term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 23066 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 289} {6153115604075329940 48 290} {3144913724253383846 48 291} {1925000918328173017 48 292} {6702904542962264684 48 293} {1410401565936818376 48 294} {1664898870536381060 48 295} {2407313071642985534 48 296} {8804240841218952106 50 297} {223025707430031940 50 298} {4644715089165259397 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306}]
------------------------------------------------------
term 50 Server2 start snapshot! index=299
term 50 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 42298 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3640559963973434170 (index 307) to leader 2
term 50 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 64282 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get outdate rpc reply from server 0
flag 79467 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 71341 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 36418 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 46061 term 52 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 51253 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 16567 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 83473 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 63653 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 13068 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 83219 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 79864 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7113 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 52996 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 55984 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 82904 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93506 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 35418 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40716 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 48750 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 72472 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 42404 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 19019 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 88288 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 32911 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 70705 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77970 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 19323 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 21799 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 19216 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 28682 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 37643 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 81558 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 82634 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
flag 86242 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 3033 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
flag 48457 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 66117 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307}]
------------------------------------------------------
client write log 3640559963973434170 (index 308) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5812 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 50500 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26442 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 62216 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
flag 86455 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 20623 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
flag 10255 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 92602 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
flag 78404 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 90381 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15020 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 28143 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2949192942673004919 (index 309) to leader 2
flag 21594 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 64964 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 299} {4974997906366454447 50 300} {1530829355670135200 50 301} {6176468647120295985 50 302} {540218854756308437 50 303} {6940631725830790583 50 304} {5916405609961800262 50 305} {7692775617837913562 50 306} {3640559963973434170 50 307} {3640559963973434170 52 308} {2949192942673004919 52 309}]
------------------------------------------------------
term 52 Server2 start snapshot! index=309
term 52 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 71589 term 52 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 52 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 52 309}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 7963732507385167009 (index 310) to leader 2
client write log 4722577057806834303 (index 311) to leader 2
client write log 1125449934659506580 (index 312) to leader 2
client write log 7156889750637150219 (index 313) to leader 2
client write log 5053381686987041653 (index 314) to leader 2
client write log 1729554922543416653 (index 315) to leader 2
client write log 7239537474487431171 (index 316) to leader 2
client write log 1337870762807408356 (index 317) to leader 2
client write log 4980672544080387355 (index 318) to leader 2
client write log 4063840527998536768 (index 319) to leader 2
client write log 5843833163541640027 (index 320) to leader 2
client write log 3865614033383471811 (index 321) to leader 2
client write log 500898183211771594 (index 322) to leader 2
client write log 326706364845134763 (index 323) to leader 2
term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
flag 66170 term 52 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 52 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 309} {7963732507385167009 52 310} {4722577057806834303 52 311} {1125449934659506580 52 312} {7156889750637150219 52 313} {5053381686987041653 52 314} {1729554922543416653 52 315} {7239537474487431171 52 316} {1337870762807408356 52 317} {4980672544080387355 52 318} {4063840527998536768 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323}]
------------------------------------------------------
term 52 Server2 start snapshot! index=319
term 52 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 36255 term 52 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 3209259316626780842 (index 324) to leader 2
term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 66788 term 52 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
flag 30674 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 68646 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 67770 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
flag 78871 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 57784 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
flag 88897 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 59312 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
flag 23518 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 9603 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
flag 18385 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 51609 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
flag 95146 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 78589 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36661 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 81133 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 13132 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 69077 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 41616 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 86625 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 13531 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 397 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 17135 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 34991 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 0
term 55 server 1 become leader
------------------------------------------------------
flag 6631 term 55 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 11054 term 55 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324}]
------------------------------------------------------
flag 14900 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 35985 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
client write log 1252825745100691633 (index 325) to leader 1
flag 85931 term 55 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 98864 term 55 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325}]
------------------------------------------------------
flag 9613 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 51227 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
flag 63651 term 55 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 55 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
flag 6307 term 55 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325}]
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 324
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 50222 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
client write log 2567659129237339131 (index 326) to leader 1
flag 64035 term 55 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 55 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 55 leaderCommit: 325 
------------------------------------------------------
flag 56641 term 55 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326}]
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 324
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 96323 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 325->324
------------------------------------------------------
flag 5926 term 55 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 55 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326}]
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 324
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 324
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
!!!!!!connect server 2
client write log 2095819321068528315 (index 327) to leader 1
flag 60134 term 55 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 55 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 55 leaderCommit: 326 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 55 server 2 InstallSnapshot fail
rf.commitIndex 324 args.LastIncludedIndex 319
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
flag 71816 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 66598 term 55 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
flag 26075 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 4793 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73936 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 25180 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
flag 69515 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 55861 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89526 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 30625 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
flag 11446 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 37779 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6391857011150515122 (index 328) to leader 1
flag 18679 term 55 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
flag 66139 term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 55 leaderCommit: 327 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327} {6391857011150515122 55 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
flag 40846 term 55 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 327
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327} {6391857011150515122 55 328}]
------------------------------------------------------
client write log 6153586884525546220 (index 329) to leader 1
client write log 6780798758605845346 (index 330) to leader 1
client write log 8933730873501230874 (index 331) to leader 1
client write log 4863492001759070284 (index 332) to leader 1
client write log 5433625473274829335 (index 333) to leader 1
client write log 1969884381231179211 (index 334) to leader 1
client write log 8713548869355951568 (index 335) to leader 1
client write log 6205113534538541571 (index 336) to leader 1
client write log 1196694974187306504 (index 337) to leader 1
client write log 1186048131328686879 (index 338) to leader 1
client write log 6201095199121942123 (index 339) to leader 1
client write log 8768453137419441504 (index 340) to leader 1
client write log 2249756903102499362 (index 341) to leader 1
client write log 7484958513406996062 (index 342) to leader 1
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49802 term 55 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 327
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 319} {5843833163541640027 52 320} {3865614033383471811 52 321} {500898183211771594 52 322} {326706364845134763 52 323} {3209259316626780842 52 324} {1252825745100691633 55 325} {2567659129237339131 55 326} {2095819321068528315 55 327} {6391857011150515122 55 328} {6153586884525546220 55 329} {6780798758605845346 55 330} {8933730873501230874 55 331} {4863492001759070284 55 332} {5433625473274829335 55 333} {1969884381231179211 55 334} {8713548869355951568 55 335} {6205113534538541571 55 336} {1196694974187306504 55 337} {1186048131328686879 55 338} {6201095199121942123 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342}]
------------------------------------------------------
term 55 Server1 start snapshot! index=329
term 55 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=342
-------------------------------------------------------------
term 55 Server1 start snapshot! index=339
term 55 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
flag 99578 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 327
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342}]
------------------------------------------------------
term 55 Server0 start snapshot! index=329
term 55 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=342
-------------------------------------------------------------
term 55 Server0 start snapshot! index=339
term 55 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5038740871370462681 (index 343) to leader 1
flag 76876 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 327
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
term 56 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 2 vote for server 1
term 57 server 1 get vote from server 2
term 57 server 1 become leader
------------------------------------------------------
term 57 server 0 vote for server 1
term 57 server 1 get outdate rpc reply from server 0
flag 67037 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 95588 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 344->343
------------------------------------------------------
flag 66831 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
term 57 server 2 InstallSnapshot success
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 55 rf.commitIndex 339 rf.lastApplied 339
term 57 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 1 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 1
flag 80328 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 1420 term 57 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 57 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29651 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 16623 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83955 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 2661 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 48813 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 17317 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54804 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 71866 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 75473 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 66816 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90330 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 37693 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 76197 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 34750 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 70456 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 86570 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 62027 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 76306 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 1 not vote for server 0, 任期不够新
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 get outdate rpc reply from server 1
flag 65432 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 60095 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99727 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 42099 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 78316 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 61752 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 2 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 2
flag 98545 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 10562 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 78266 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 60886 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40197 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 24255 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
flag 87244 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 99794 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343}]
------------------------------------------------------
client write log 5038740871370462681 (index 344) to leader 1
flag 58269 term 57 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 55620 term 57 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 57 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
flag 25216 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 9256 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
flag 99000 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 5581 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80332 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 21276 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 server 0 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 0
flag 95738 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 65380 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
flag 72998 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 61378 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68021 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
flag 91464 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 57 leaderCommit: 344 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {8768453137419441504 55 340} {2249756903102499362 55 341} {7484958513406996062 55 342} {5038740871370462681 55 343} {5038740871370462681 57 344}]
------------------------------------------------------
  ... Passed --  82.5  3 1885  863627  344
--- PASS: TestSnapshotInstall2D (82.55s)
PASS
