=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 94719 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 88149 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6948862404101750490 (index 1) to leader 0
flag 54942 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 29725 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 19322 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97390 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 3991 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 35284 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 90649 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86239 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 68039 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9521 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 42024 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24922 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
flag 993 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 78531 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6948862404101750490 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6648717559681346509 (index 2) to leader 0
flag 23524 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89440 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2}]
------------------------------------------------------
flag 48174 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 56558 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2}]
------------------------------------------------------
client write log 941967203324977325 (index 3) to leader 0
client write log 7197345567780021655 (index 4) to leader 0
client write log 890779390836154970 (index 5) to leader 0
client write log 6906532017801980774 (index 6) to leader 0
client write log 5355868866742115324 (index 7) to leader 0
client write log 9036834514617534186 (index 8) to leader 0
flag 82855 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 4192 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8}]
------------------------------------------------------
flag 83787 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 32438 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6517312955532275424 (index 9) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 27572 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 35805 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
flag 85833 term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60266 term 3 leader 0 nextIndex[2]: 9  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 44332 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 85624 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 85032 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 13311 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 80816 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86431 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 64015 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 83257 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 93935 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31818 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 81699 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99385 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 20699 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 29487 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 92356 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 49759 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 86764 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 47324 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62429 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36255 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42792 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 67993 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 51851 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60747 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 16570 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 7151 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 86617 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 62315 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 62152 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93297 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 34366 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86660 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
flag 84590 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 70538 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9}]
------------------------------------------------------
client write log 6517312955532275424 (index 10) to leader 0
flag 39698 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 96094 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6948862404101750490 1 1} {6648717559681346509 1 2} {941967203324977325 1 3} {7197345567780021655 1 4} {890779390836154970 1 5} {6906532017801980774 1 6} {5355868866742115324 1 7} {9036834514617534186 1 8} {6517312955532275424 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11874 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 91823 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 Server2 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 22026 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 86611 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
flag 70100 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 30816 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
flag 5849 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 46486 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
flag 1211 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 78561 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
flag 39180 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 18022 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6517312955532275424 3 10}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 91906 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 20820 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 66670 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 38348 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 98319 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 97837 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
client write log 1281512491153109198 (index 11) to leader 2
flag 39585 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 10560 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11}]
------------------------------------------------------
flag 2261 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 9136 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 13130 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 84818 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11}]
------------------------------------------------------
flag 80386 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 67171 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
client write log 1141409997419546430 (index 12) to leader 2
flag 86675 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 3968 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12}]
------------------------------------------------------
flag 89033 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 40081 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 5353 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 54999 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12}]
------------------------------------------------------
flag 43842 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 77599 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
!!!!!!connect server 0
client write log 7316349086629238647 (index 13) to leader 2
flag 36664 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 88876 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59613 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 95523 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
flag 65934 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 63729 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
flag 10072 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 26538 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
flag 86690 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 87570 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
flag 99784 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 77908 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4162158792460804216 (index 14) to leader 2
flag 26584 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 44157 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13} {4162158792460804216 4 14}]
------------------------------------------------------
flag 33464 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 94106 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13} {4162158792460804216 4 14}]
------------------------------------------------------
client write log 7182258832111943095 (index 15) to leader 2
client write log 7638389419167038991 (index 16) to leader 2
client write log 5901098706594953483 (index 17) to leader 2
client write log 8189841421278163146 (index 18) to leader 2
client write log 160271707974676237 (index 19) to leader 2
client write log 6720015610892774310 (index 20) to leader 2
client write log 4290286401641931353 (index 21) to leader 2
flag 55227 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 55022 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 1 9} {6517312955532275424 3 10} {1281512491153109198 4 11} {1141409997419546430 4 12} {7316349086629238647 4 13} {4162158792460804216 4 14} {7182258832111943095 4 15} {7638389419167038991 4 16} {5901098706594953483 4 17} {8189841421278163146 4 18} {160271707974676237 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=21
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 28186 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=21
-------------------------------------------------------------
!!!!!!connect server 0
client write log 73911640146073321 (index 22) to leader 2
term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 78980 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 92644 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 89822 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 23->22
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 27959 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10807 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 46090 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
flag 508 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 56897 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
flag 90121 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 53695 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65859 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 69629 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
flag 22079 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 90291 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 57995 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 8570 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
flag 90511 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 59765 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8763946727443431245 (index 23) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16557 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 14351 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22} {8763946727443431245 6 23}]
------------------------------------------------------
flag 21629 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 3839 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22} {8763946727443431245 6 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7685161138305511510 (index 24) to leader 2
client write log 7600388960223611783 (index 25) to leader 2
client write log 6090805395610176577 (index 26) to leader 2
client write log 6661863631771577907 (index 27) to leader 2
client write log 7377083889674998015 (index 28) to leader 2
client write log 2515744196366244221 (index 29) to leader 2
client write log 9074274866900569641 (index 30) to leader 2
flag 21097 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 61759 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {6720015610892774310 4 20} {4290286401641931353 4 21} {73911640146073321 4 22} {8763946727443431245 6 23} {7685161138305511510 6 24} {7600388960223611783 6 25} {6090805395610176577 6 26} {6661863631771577907 6 27} {7377083889674998015 6 28} {2515744196366244221 6 29} {9074274866900569641 6 30}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 29307 term 6 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5062856572960684031 (index 31) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 0
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 1
flag 4990 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 60489 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 32->31
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 32->31
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 23  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 69633 term 8 leader 2 nextIndex[1]: 31  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 70721 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 93033 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 24168 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 23927 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 56515 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 51645 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 16855 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 6963 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 36478 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 41406 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 19129 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 12390 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 71759 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 55665 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47784 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 26893 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 62522 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 55634 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20723 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 73732 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28892 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 49148 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29126 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 66465 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 99867 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 62497 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 93178 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 36131 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 34714 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 44683 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
flag 22271 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 98839 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93086 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 62 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93028 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 42286 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31}]
------------------------------------------------------
client write log 5062856572960684031 (index 32) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7588 term 8 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 56678 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
flag 97893 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 98508 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
flag 24696 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 2829 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
flag 67771 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 59579 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
flag 55271 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 430 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51326 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 83309 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
flag 28375 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 16982 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 91487 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 91518 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91052 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 52739 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57220 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 95294 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 39036 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 48099 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5148 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 66952 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32}]
------------------------------------------------------
client write log 6405015311288067646 (index 33) to leader 1
flag 27860 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 65893 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 92389 term 9 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 86805 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33}]
------------------------------------------------------
flag 63056 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 90109 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 83602 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 64223 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33}]
------------------------------------------------------
client write log 5459714089866941944 (index 34) to leader 1
flag 27372 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 94895 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 59330 term 9 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 9 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 9 leaderCommit: 33 
------------------------------------------------------
flag 16951 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
flag 20893 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 32
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 20975 term 9 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 9 leaderCommit: 34 
------------------------------------------------------
flag 15669 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6433754050712468462 (index 35) to leader 1
flag 42641 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 32
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97227 term 9 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 9 leaderCommit: 34 
------------------------------------------------------
flag 52703 term 9 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
flag 55770 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 46459 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
flag 33267 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 12426 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68270 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 11227 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
flag 32165 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 9960 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73586 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 42609 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9037606300647035993 (index 36) to leader 1
flag 63725 term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
flag 3064 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35} {9037606300647035993 9 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 36->35
------------------------------------------------------
flag 63834 term 9 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 9 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 35
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35} {9037606300647035993 9 36}]
------------------------------------------------------
client write log 6064203257816680319 (index 37) to leader 1
client write log 246063100551727021 (index 38) to leader 1
client write log 1827206371375246270 (index 39) to leader 1
client write log 7515239421080033362 (index 40) to leader 1
client write log 7205510958881461464 (index 41) to leader 1
client write log 1108705750491503780 (index 42) to leader 1
client write log 8251979439292619729 (index 43) to leader 1
client write log 5613160212453247212 (index 44) to leader 1
flag 61062 term 9 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 9 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 35
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 29} {9074274866900569641 6 30} {5062856572960684031 6 31} {5062856572960684031 8 32} {6405015311288067646 9 33} {5459714089866941944 9 34} {6433754050712468462 9 35} {9037606300647035993 9 36} {6064203257816680319 9 37} {246063100551727021 9 38} {1827206371375246270 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44}]
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
flag 58373 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 35
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4790252188473071264 (index 45) to leader 1
flag 40899 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 35
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 31306 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 58296 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 46->45
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57205 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 36  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87958 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 32756 term 11 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 11 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
term 11 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 37067 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 80472 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4054 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 53390 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 59500 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 34690 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 13782 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 33822 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 62843 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 66196 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 37307 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 58220 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 62822 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 2811 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 87641 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 92137 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11996 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 26576 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 2699 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 96133 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80040 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 57437 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 65029 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 79873 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 54527 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 60236 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 87776 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 39138 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92303 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 25949 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
flag 80223 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 3220 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45}]
------------------------------------------------------
client write log 4790252188473071264 (index 46) to leader 1
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44451 term 11 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 36916 term 11 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
flag 64647 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 9537 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 9415 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 13187 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
flag 52089 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 68127 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
flag 75809 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 80688 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38915 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 4663 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27940 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 47939 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8199224244518325134 (index 47) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24647 term 11 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 68553 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46} {8199224244518325134 11 47}]
------------------------------------------------------
flag 85795 term 11 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 20804 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46} {8199224244518325134 11 47}]
------------------------------------------------------
client write log 3101375841183870045 (index 48) to leader 1
client write log 347103349273540695 (index 49) to leader 1
client write log 4855558409593737086 (index 50) to leader 1
client write log 7270234148794789244 (index 51) to leader 1
client write log 5522075591911222536 (index 52) to leader 1
client write log 7570672958436720012 (index 53) to leader 1
client write log 8884836429360385723 (index 54) to leader 1
flag 26707 term 11 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 57772 term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 39} {7515239421080033362 9 40} {7205510958881461464 9 41} {1108705750491503780 9 42} {8251979439292619729 9 43} {5613160212453247212 9 44} {4790252188473071264 9 45} {4790252188473071264 11 46} {8199224244518325134 11 47} {3101375841183870045 11 48} {347103349273540695 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54}]
------------------------------------------------------
term 11 Server1 start snapshot! index=49
term 11 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
flag 22843 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 8908467582754087753 (index 55) to leader 1
flag 16019 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 0
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 2
flag 41845 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 24993 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 46819 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 11 rf.commitIndex 49 rf.lastApplied 49
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 71885 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 77135 term 13 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 13 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 96159 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 27391 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 23557 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 26993 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8717 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 95396 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 92303 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 14601 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 81383 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 43526 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 15674 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 97960 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 1855 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 98239 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82661 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 64267 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25299 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 22783 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 50591 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 43565 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9491 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 41869 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 53337 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 78016 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4666 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 79134 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 28684 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 83309 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 1666 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 77944 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
flag 27127 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 34023 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55}]
------------------------------------------------------
client write log 8908467582754087753 (index 56) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12382 term 13 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 96055 term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
flag 47525 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 67279 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
flag 16282 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 92476 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 5766 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 71925 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29992 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 52358 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19723 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 57810 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
flag 35602 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 18145 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
term 13 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 67699 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 5093 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 31227 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 13534 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31208 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 5900 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 19722 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 29197 term 14 leader 0 nextIndex[2]: 57  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56}]
------------------------------------------------------
client write log 824435194861828527 (index 57) to leader 0
flag 36066 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 40399 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 43810 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 28587 term 14 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57}]
------------------------------------------------------
flag 24091 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 46007 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 67324 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
flag 84012 term 14 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 14 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 14 leaderCommit: 57 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57}]
------------------------------------------------------
client write log 6866703308257659200 (index 58) to leader 0
flag 53765 term 13 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 743 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
flag 3991 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
flag 85455 term 14 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 14 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 14 leaderCommit: 57 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 56
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 7361 term 13 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
flag 75090 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 58 
------------------------------------------------------
flag 54354 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8093606118260620233 (index 57) to leader 1
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 56
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 56
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37109 term 14 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 58 
------------------------------------------------------
flag 17349 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 89606 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 72840 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 58
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 63282 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 58 args.LastIncludedIndex 49
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 22101 term 14 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 14 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 27085 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 38731 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 62034 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20546 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 48930 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 87448 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 93889 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 79199 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 49996 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36048 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 89001 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 625 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 46310 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 94574 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 41640 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 48290 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 55527 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5662 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 29343 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 42267 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 68107 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51570 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 2684 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98363 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 77833 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 24403 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 15497 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
flag 75571 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 6060 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 51117 term 14 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
flag 17732 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 58
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 83048 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 58 args.LastIncludedIndex 49
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58}]
------------------------------------------------------
client write log 8093606118260620233 (index 59) to leader 0
flag 9722 term 14 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 14 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 47825 term 14 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 14 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 14 leaderCommit: 58 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58} {8093606118260620233 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 49} {4855558409593737086 11 50} {7270234148794789244 11 51} {5522075591911222536 11 52} {7570672958436720012 11 53} {8884836429360385723 11 54} {8908467582754087753 11 55} {8908467582754087753 13 56} {824435194861828527 14 57} {6866703308257659200 14 58} {8093606118260620233 14 59}]
------------------------------------------------------
term 14 Server0 start snapshot! index=59
term 14 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 47886 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
flag 42274 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 Server2 start snapshot! index=59
term 14 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 14 Server1 start snapshot! index=59
term 14 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 14
------------------------------------------------------
flag 2194 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 59 args.LastIncludedIndex 59
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 15014 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
flag 84466 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
flag 12786 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
flag 51586 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
flag 23875 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
flag 76487 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
flag 80155 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
flag 84726 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 14 59}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7077407542868970970 (index 60) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 14
------------------------------------------------------
flag 97480 term 14 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 14 59} {7077407542868970970 14 60}]
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 14
------------------------------------------------------
flag 44119 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 14 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 14 59} {7077407542868970970 14 60}]
------------------------------------------------------
client write log 6580415512217564044 (index 61) to leader 0
client write log 217057028495877070 (index 62) to leader 0
client write log 7782224356151264366 (index 63) to leader 0
client write log 3300695095582671078 (index 64) to leader 0
client write log 4257914055294673081 (index 65) to leader 0
client write log 1611100826061549834 (index 66) to leader 0
client write log 1805892744762950386 (index 67) to leader 0
client write log 8225680257060453150 (index 68) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 14
------------------------------------------------------
flag 43213 term 14 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 14 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68}]
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 14
------------------------------------------------------
flag 42709 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7700838079189897287 (index 69) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 88058 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 82150 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36114 term 16 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 91047 term 16 leader 0 nextIndex[2]: 69  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 90151 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 7619 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42592 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 88207 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 79225 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 20676 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 9875 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 87968 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71239 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 67994 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 66729 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 6758 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 21368 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 29442 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 50052 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 74282 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 71444 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 87677 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 18645 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 95817 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81474 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 35023 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 59171 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 36299 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 3045 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 96711 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 65530 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 10885 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 59389 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 47136 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 56375 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 82394 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 82347 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 56543 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
flag 28701 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 96890 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7700838079189897287 (index 70) to leader 0
flag 18574 term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 13661 term 16 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 59} {7077407542868970970 14 60} {6580415512217564044 14 61} {217057028495877070 14 62} {7782224356151264366 14 63} {3300695095582671078 14 64} {4257914055294673081 14 65} {1611100826061549834 14 66} {1805892744762950386 14 67} {8225680257060453150 14 68} {7700838079189897287 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 Server0 start snapshot! index=69
term 16 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 11708 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 95522 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 Server2 start snapshot! index=69
term 16 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 16 Server1 start snapshot! index=69
term 16 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 77254 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 15656 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
flag 38837 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 2067 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
flag 41164 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 84123 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
flag 37431 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 4270 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
flag 95297 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 66901 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {7700838079189897287 16 70}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 415343316376042524 (index 71) to leader 0
flag 99681 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
flag 91949 term 16 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {7700838079189897287 16 70} {415343316376042524 16 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84500 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
flag 14515 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {7700838079189897287 16 70} {415343316376042524 16 71}]
------------------------------------------------------
client write log 7280738207202687878 (index 72) to leader 0
client write log 1694763907945903363 (index 73) to leader 0
client write log 5651990167088907958 (index 74) to leader 0
client write log 589480309721523198 (index 75) to leader 0
client write log 3826973241546060816 (index 76) to leader 0
client write log 9213440130169012614 (index 77) to leader 0
client write log 2846485274269390200 (index 78) to leader 0
client write log 8959037435197949310 (index 79) to leader 0
client write log 419009943335745782 (index 80) to leader 0
client write log 2198960403022009301 (index 81) to leader 0
client write log 5700102157567789103 (index 82) to leader 0
client write log 8908466452144940949 (index 83) to leader 0
client write log 2509438520324757276 (index 84) to leader 0
client write log 1341034701498650032 (index 85) to leader 0
client write log 6477926273580300749 (index 86) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55589 term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
flag 85424 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 69} {7700838079189897287 16 70} {415343316376042524 16 71} {7280738207202687878 16 72} {1694763907945903363 16 73} {5651990167088907958 16 74} {589480309721523198 16 75} {3826973241546060816 16 76} {9213440130169012614 16 77} {2846485274269390200 16 78} {8959037435197949310 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 23514 term 16 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 16 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5044235373405084889 (index 87) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 45147 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 503 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 88->87
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 71  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 10327 term 18 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
flag 19461 term 18 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 18 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 85856 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50884 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 99794 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 39981 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 20121 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 27621 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 60584 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 29675 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 74842 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 49630 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 94345 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 89536 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 16833 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42105 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 75610 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 52196 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 40168 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25442 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 67530 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 144 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 99535 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 80743 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 27071 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 76249 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 15818 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 59042 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 65460 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 59635 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 20452 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 33844 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 28051 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 45799 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 8655 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
flag 58235 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 97152 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87}]
------------------------------------------------------
client write log 5044235373405084889 (index 88) to leader 0
flag 33414 term 18 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 93531 term 18 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 18 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
flag 9135 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 93871 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
flag 25600 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 562 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31194 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 32530 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
flag 98840 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 60379 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
flag 71849 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 81805 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 8767 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 46442 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 53456 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 46943 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 62681 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 65732 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 44465 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 80502 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 62732 term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 80750 term 19 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88}]
------------------------------------------------------
client write log 8511870618639728614 (index 89) to leader 1
flag 51429 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 98357 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 4668 term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 82186 term 19 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 19 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 79} {419009943335745782 16 80} {2198960403022009301 16 81} {5700102157567789103 16 82} {8908466452144940949 16 83} {2509438520324757276 16 84} {1341034701498650032 16 85} {6477926273580300749 16 86} {5044235373405084889 16 87} {5044235373405084889 18 88} {8511870618639728614 19 89}]
------------------------------------------------------
term 19 Server1 start snapshot! index=89
term 19 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 27307 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 54050 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 37926 term 19 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 19 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 19 89}]
------------------------------------------------------
term 19 Server2 start snapshot! index=89
term 19 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 6450128798607492121 (index 90) to leader 1
client write log 6589002470102625143 (index 91) to leader 1
client write log 1834775645113195869 (index 92) to leader 1
client write log 1990382901963746495 (index 93) to leader 1
client write log 7426718494896833817 (index 94) to leader 1
client write log 4625298181928598901 (index 95) to leader 1
client write log 6700389551458850118 (index 96) to leader 1
client write log 7335105666113670021 (index 97) to leader 1
client write log 8482378741064476633 (index 98) to leader 1
client write log 6446045457277790852 (index 99) to leader 1
flag 89738 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 64376 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 49492 term 19 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 19 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 89 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 19 89} {6450128798607492121 19 90} {6589002470102625143 19 91} {1834775645113195869 19 92} {1990382901963746495 19 93} {7426718494896833817 19 94} {4625298181928598901 19 95} {6700389551458850118 19 96} {7335105666113670021 19 97} {8482378741064476633 19 98} {6446045457277790852 19 99}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 12672 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 27292 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 84577 term 19 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 99 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 19 99}]
------------------------------------------------------
term 19 Server2 start snapshot! index=99
term 19 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1659483662965541620 (index 100) to leader 1
flag 59563 term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
flag 19764 term 18 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 18 leaderCommit: 88 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 55276 term 19 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 99 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 19 rf.commitIndex 99 rf.lastApplied 99
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 44096 term 19 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 18648 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 33152 term 19 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 80297 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
flag 21514 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 69950 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
flag 91791 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 465 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
flag 81167 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 77936 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38808 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 15854 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
flag 83218 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 88080 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {1659483662965541620 19 100}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 839825258040124095 (index 101) to leader 1
flag 14964 term 19 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
flag 22189 term 19 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 19 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {1659483662965541620 19 100} {839825258040124095 19 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 101->100
------------------------------------------------------
flag 26354 term 19 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 100
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {1659483662965541620 19 100} {839825258040124095 19 101}]
------------------------------------------------------
client write log 3890911415971343715 (index 102) to leader 1
client write log 4554045591803381334 (index 103) to leader 1
client write log 8295492374126208819 (index 104) to leader 1
client write log 6752746133884741603 (index 105) to leader 1
client write log 6759675179247762472 (index 106) to leader 1
client write log 4556232698358348370 (index 107) to leader 1
client write log 5078841886245180493 (index 108) to leader 1
client write log 1549260369454712483 (index 109) to leader 1
client write log 3692450716207382546 (index 110) to leader 1
client write log 1795553412031239331 (index 111) to leader 1
client write log 7900082106062822690 (index 112) to leader 1
flag 78853 term 19 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 100
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 99} {1659483662965541620 19 100} {839825258040124095 19 101} {3890911415971343715 19 102} {4554045591803381334 19 103} {8295492374126208819 19 104} {6752746133884741603 19 105} {6759675179247762472 19 106} {4556232698358348370 19 107} {5078841886245180493 19 108} {1549260369454712483 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
flag 39098 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 100
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8332716036843757199 (index 113) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22425 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 100
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 95737 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 58006 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 114->113
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 68132 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 101  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 95935 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 5921 term 21 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 70866 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 68517 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31847 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 72042 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 45218 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 41258 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 97093 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 75912 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
update nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81240 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 91718 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42709 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 15337 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 95189 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 86363 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12115 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 62881 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9368 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 42485 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
flag 48876 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 40938 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 40209 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 62586 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 28266 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 21290 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 77807 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 64746 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 75399 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 95578 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
flag 90472 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 66504 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65297 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 22123 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113}]
------------------------------------------------------
client write log 8332716036843757199 (index 114) to leader 1
flag 13627 term 21 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 94448 term 21 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79208 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 68273 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1343 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 48025 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
flag 89154 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 37931 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5389 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 20336 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
flag 99161 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 63668 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 794180874670315074 (index 115) to leader 1
flag 77963 term 21 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 46352 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114} {794180874670315074 21 115}]
------------------------------------------------------
flag 68181 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 4046 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114} {794180874670315074 21 115}]
------------------------------------------------------
client write log 3669552378904604379 (index 116) to leader 1
client write log 4057278511681592905 (index 117) to leader 1
client write log 7358409974736966722 (index 118) to leader 1
client write log 6632982476847837199 (index 119) to leader 1
client write log 1341621540590805839 (index 120) to leader 1
client write log 1899263596834615505 (index 121) to leader 1
client write log 6120788808815417748 (index 122) to leader 1
client write log 7299762820595068801 (index 123) to leader 1
client write log 1588909091865207301 (index 124) to leader 1
client write log 9004492587823749093 (index 125) to leader 1
client write log 5564882607094049001 (index 126) to leader 1
client write log 1409028849117437213 (index 127) to leader 1
client write log 4811199599708067912 (index 128) to leader 1
client write log 4641798631734556576 (index 129) to leader 1
flag 60275 term 21 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 52963 term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 109} {3692450716207382546 19 110} {1795553412031239331 19 111} {7900082106062822690 19 112} {8332716036843757199 19 113} {8332716036843757199 21 114} {794180874670315074 21 115} {3669552378904604379 21 116} {4057278511681592905 21 117} {7358409974736966722 21 118} {6632982476847837199 21 119} {1341621540590805839 21 120} {1899263596834615505 21 121} {6120788808815417748 21 122} {7299762820595068801 21 123} {1588909091865207301 21 124} {9004492587823749093 21 125} {5564882607094049001 21 126} {1409028849117437213 21 127} {4811199599708067912 21 128} {4641798631734556576 21 129}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=129
-------------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 63525 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 129}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=129
-------------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6514545198960137319 (index 130) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 日志不够新
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 19225 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 46447 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 131->130
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 131->130
------------------------------------------------------
flag 22487 term 23 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 75785 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 89754 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 31402 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 68643 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 84769 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 35903 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 58335 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 42492 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 95813 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 81592 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70938 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 14024 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 33497 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 98386 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52541 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 83310 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 41049 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 98349 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 36839 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 36376 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 7009 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 6598 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 68798 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 5312 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13614 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 57216 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 29648 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 21433 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80998 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 35063 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 1347 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 43015 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 58495 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 10832 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
flag 16966 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 32290 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 21 129} {6514545198960137319 21 130}]
------------------------------------------------------
client write log 6514545198960137319 (index 131) to leader 1
flag 92717 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
flag 84990 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
flag 31261 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 62915 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
flag 96024 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 31631 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49922 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 1290 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
flag 51933 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 87295 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
flag 91500 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 42303 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
flag 95108 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 45080 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 21778 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 74128 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 37939 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 8957 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3077 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 97321 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
client write log 3208330795185489050 (index 132) to leader 2
flag 47666 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 12885 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131} {3208330795185489050 24 132}]
------------------------------------------------------
flag 83468 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 9274 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 29268 term 24 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
flag 41070 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131} {3208330795185489050 24 132}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4492170122465473901 (index 133) to leader 2
client write log 7321762867290769356 (index 134) to leader 2
client write log 2688066121741480985 (index 135) to leader 2
client write log 9106199123265886864 (index 136) to leader 2
client write log 4368095703471067938 (index 137) to leader 2
client write log 7447921820252907927 (index 138) to leader 2
client write log 2264567628655373568 (index 139) to leader 2
client write log 2866224455280919124 (index 140) to leader 2
client write log 6129815838384605385 (index 141) to leader 2
client write log 1233760432247426450 (index 142) to leader 2
client write log 688925840801734928 (index 143) to leader 2
client write log 3046503887025967263 (index 144) to leader 2
client write log 3989311862556559919 (index 145) to leader 2
client write log 8433021107382269231 (index 146) to leader 2
flag 1993 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 59450 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 23636 term 24 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
flag 87315 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 129} {6514545198960137319 21 130} {6514545198960137319 23 131} {3208330795185489050 24 132} {4492170122465473901 24 133} {7321762867290769356 24 134} {2688066121741480985 24 135} {9106199123265886864 24 136} {4368095703471067938 24 137} {7447921820252907927 24 138} {2264567628655373568 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
flag 14900 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 47019 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 1122 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8061542727187972751 (index 132) to leader 1
flag 2408 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 28377 term 23 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52212 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 54476 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 98072 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 4844 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 139 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 35914 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 14176 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 42671 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 16119 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 60613 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 40447 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 80982 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 64581 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 47130 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 82829 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 95587 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 34670 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72401 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 55611 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 12 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 27690 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 54934 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 70730 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 61504 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 146 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 37562 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 69991 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94674 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 35315 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6232 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 24824 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97659 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 59357 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 86888 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 80816 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
flag 82449 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 99507 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 6398 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 146 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146}]
------------------------------------------------------
client write log 8061542727187972751 (index 147) to leader 2
flag 70389 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 71805 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
update nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
flag 13898 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 51272 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
flag 53994 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 22137 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74468 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 91725 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
flag 18311 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 20291 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
flag 36607 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 4952 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32071 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 32791 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2863131064601557696 (index 148) to leader 2
flag 96225 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
flag 87774 term 24 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147} {2863131064601557696 24 148}]
------------------------------------------------------
flag 25811 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 47930 term 24 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 24 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147} {2863131064601557696 24 148}]
------------------------------------------------------
client write log 930175573776583077 (index 149) to leader 2
client write log 7700137473337238944 (index 150) to leader 2
client write log 2829222283140993614 (index 151) to leader 2
client write log 5631207280314392615 (index 152) to leader 2
client write log 4363942789033215584 (index 153) to leader 2
client write log 2701782143823719523 (index 154) to leader 2
client write log 6014528960128356722 (index 155) to leader 2
client write log 4444943503425279365 (index 156) to leader 2
client write log 5245822274760175477 (index 157) to leader 2
client write log 6046277349467754462 (index 158) to leader 2
client write log 4886340608081238596 (index 159) to leader 2
client write log 59210022372063794 (index 160) to leader 2
client write log 7435549579234629860 (index 161) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1488 term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
flag 6838 term 24 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 24 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 24 leaderCommit: 148 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 139} {2866224455280919124 24 140} {6129815838384605385 24 141} {1233760432247426450 24 142} {688925840801734928 24 143} {3046503887025967263 24 144} {3989311862556559919 24 145} {8433021107382269231 24 146} {8061542727187972751 24 147} {2863131064601557696 24 148} {930175573776583077 24 149} {7700137473337238944 24 150} {2829222283140993614 24 151} {5631207280314392615 24 152} {4363942789033215584 24 153} {2701782143823719523 24 154} {6014528960128356722 24 155} {4444943503425279365 24 156} {5245822274760175477 24 157} {6046277349467754462 24 158} {4886340608081238596 24 159} {59210022372063794 24 160} {7435549579234629860 24 161}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=161
-------------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=161
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 93125 term 24 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 24 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=161
-------------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=161
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7142354500911605902 (index 162) to leader 2
term 24 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 31050 term 24 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 24 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 52224 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 82083 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 163->162
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 96585 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
flag 89213 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 15321 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51301 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 74138 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10061 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 26734 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16234 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 42190 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
flag 23149 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 30624 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79611 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 287 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 819067331547759578 (index 163) to leader 2
flag 63468 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 28303 term 26 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162} {819067331547759578 26 163}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33482 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 95999 term 26 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162} {819067331547759578 26 163}]
------------------------------------------------------
client write log 5746825940480123706 (index 164) to leader 2
client write log 2874043908419277531 (index 165) to leader 2
client write log 1072735411867579560 (index 166) to leader 2
client write log 359591995988780564 (index 167) to leader 2
client write log 3603232261938754907 (index 168) to leader 2
client write log 4416700547623491290 (index 169) to leader 2
client write log 7722306061253136971 (index 170) to leader 2
flag 3285 term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 8977 term 26 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 159} {59210022372063794 24 160} {7435549579234629860 24 161} {7142354500911605902 24 162} {819067331547759578 26 163} {5746825940480123706 26 164} {2874043908419277531 26 165} {1072735411867579560 26 166} {359591995988780564 26 167} {3603232261938754907 26 168} {4416700547623491290 26 169} {7722306061253136971 26 170}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 64460 term 26 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 26 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7722306061253136971 26 170}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6384316442636011971 (index 171) to leader 2
term 26 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 77235 term 26 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 26 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 52428 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 70884 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 172->171
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 5407 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 89718 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 43911 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48017 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 91664 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
flag 83806 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 4136 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
flag 47608 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 73217 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
flag 50468 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 27650 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
flag 15385 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 5544 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
flag 18925 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 12698 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 1111 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 5694 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 41951 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 65800 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 78917 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 46250 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 34513 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 74353 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42475 term 29 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 29840 term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171}]
------------------------------------------------------
client write log 7547009362284401627 (index 172) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 172->171
------------------------------------------------------
flag 30237 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 79295 term 29 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 53977 term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171} {7547009362284401627 29 172}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
flag 9197 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 16465 term 29 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 29 leaderCommit: 172 
------------------------------------------------------
flag 29768 term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171} {7547009362284401627 29 172}]
------------------------------------------------------
client write log 8623917249758908380 (index 173) to leader 0
client write log 3748507549340233242 (index 174) to leader 0
client write log 1480606890210681398 (index 175) to leader 0
client write log 9139546551101795595 (index 176) to leader 0
client write log 3438295499355645700 (index 177) to leader 0
client write log 8186972584304985596 (index 178) to leader 0
client write log 4097379027791569888 (index 179) to leader 0
client write log 1008539411121950562 (index 180) to leader 0
client write log 3370319564168306584 (index 181) to leader 0
client write log 371678530223933618 (index 182) to leader 0
client write log 7874154953802930874 (index 183) to leader 0
client write log 6647951448228782076 (index 184) to leader 0
client write log 170684510633935161 (index 185) to leader 0
client write log 4968353609064292834 (index 186) to leader 0
client write log 1132810268914093337 (index 187) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20080 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 67480 term 29 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 29 leaderCommit: 172 
------------------------------------------------------
flag 85907 term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 169} {7722306061253136971 26 170} {6384316442636011971 26 171} {7547009362284401627 29 172} {8623917249758908380 29 173} {3748507549340233242 29 174} {1480606890210681398 29 175} {9139546551101795595 29 176} {3438295499355645700 29 177} {8186972584304985596 29 178} {4097379027791569888 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86888 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 58058 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6784002824535965489 (index 172) to leader 2
flag 51139 term 28 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81167 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 25576 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 91542 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 188->187
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84720 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 64628 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 44266 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 43022 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53831 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 26154 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 59050 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 48765 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 96778 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 25205 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 43420 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 30513 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 31691 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 4917 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75639 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 99525 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 70721 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 14664 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81192 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 98801 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 26300 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 7653 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25598 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 71631 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 5523 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 59711 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 81108 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 48943 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
flag 23074 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 17875 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94715 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 70930 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49756 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 86591 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77671 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 91960 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187}]
------------------------------------------------------
client write log 6784002824535965489 (index 188) to leader 0
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 4580 term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 77301 term 31 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 31 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
flag 26517 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 68844 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 75716 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 36850 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
flag 87431 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 48109 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
flag 63042 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 48020 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6112 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 8487 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7110207893904036852 (index 189) to leader 0
flag 53084 term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 20135 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {1008539411121950562 29 180} {3370319564168306584 29 181} {371678530223933618 29 182} {7874154953802930874 29 183} {6647951448228782076 29 184} {170684510633935161 29 185} {4968353609064292834 29 186} {1132810268914093337 29 187} {6784002824535965489 31 188} {7110207893904036852 31 189}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 53478 term 31 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 5342196721763543728 (index 190) to leader 0
client write log 1252178729121658704 (index 191) to leader 0
client write log 6536676842984175435 (index 192) to leader 0
client write log 4522566699077852137 (index 193) to leader 0
client write log 2584361131411716252 (index 194) to leader 0
client write log 1118437882889225733 (index 195) to leader 0
client write log 3294221249383440782 (index 196) to leader 0
client write log 7004049941814884878 (index 197) to leader 0
client write log 3161604190412088700 (index 198) to leader 0
client write log 3974634810037956281 (index 199) to leader 0
term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 55321 term 31 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 31 189} {5342196721763543728 31 190} {1252178729121658704 31 191} {6536676842984175435 31 192} {4522566699077852137 31 193} {2584361131411716252 31 194} {1118437882889225733 31 195} {3294221249383440782 31 196} {7004049941814884878 31 197} {3161604190412088700 31 198} {3974634810037956281 31 199}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 25603 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 31 199}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3746238525384217550 (index 200) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 56732 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 21882 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 26603 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
flag 40973 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 71989 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 8168 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 88788 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 87435 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 14906 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 57465 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 65246 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64029 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 5196 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 76898 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 42249 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 91116 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 65333 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 61221 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 27945 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 50509 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 37230 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 96976 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 69655 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57374 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 32550 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85393 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 50720 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1884 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 44043 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58401 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 85323 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29757 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 24632 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 23689 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 38179 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83842 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 50330 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
flag 29314 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 72658 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 31 199} {3746238525384217550 31 200}]
------------------------------------------------------
client write log 3746238525384217550 (index 201) to leader 0
flag 23628 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
flag 82496 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
flag 6892 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 27010 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17136 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 22858 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21347 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 50500 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96816 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 30491 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
flag 14749 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 90593 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7461972125780554138 (index 202) to leader 0
flag 18649 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 57731 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201} {7461972125780554138 33 202}]
------------------------------------------------------
flag 80179 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 73689 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201} {7461972125780554138 33 202}]
------------------------------------------------------
client write log 5959441796404072681 (index 203) to leader 0
client write log 2343702743634190759 (index 204) to leader 0
client write log 7729110634571306561 (index 205) to leader 0
client write log 7349904812290853299 (index 206) to leader 0
client write log 837583062975913811 (index 207) to leader 0
client write log 3155447142068744474 (index 208) to leader 0
client write log 2670448392824615529 (index 209) to leader 0
client write log 2148185136763155149 (index 210) to leader 0
client write log 8643763592045597979 (index 211) to leader 0
client write log 1819306588265355450 (index 212) to leader 0
client write log 411943630141595007 (index 213) to leader 0
client write log 1587606014555271934 (index 214) to leader 0
flag 29553 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 82560 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 199} {3746238525384217550 31 200} {3746238525384217550 33 201} {7461972125780554138 33 202} {5959441796404072681 33 203} {2343702743634190759 33 204} {7729110634571306561 33 205} {7349904812290853299 33 206} {837583062975913811 33 207} {3155447142068744474 33 208} {2670448392824615529 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 66297 term 33 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8425978735508293563 (index 215) to leader 0
term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 31252 term 33 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 7661 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 93536 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 33005 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 18877 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 82473 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 79428 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 90998 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39338 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 65083 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 46796 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 54858 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 46834 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 97287 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 32819 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 12234 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 10173 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 8946 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 2894 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 82254 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 44262 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 63602 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 74356 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 62544 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 16128 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 6642 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 1709 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 38037 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81225 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 1726 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 42605 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 486 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 84376 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 63062 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 81053 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 52930 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
flag 88540 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 97327 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215}]
------------------------------------------------------
client write log 8425978735508293563 (index 216) to leader 0
flag 86649 term 35 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 88006 term 35 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 35 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
flag 32792 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 39746 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
flag 97819 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 67006 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18629 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 53529 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1355 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 50853 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
flag 61501 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 23212 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 58067 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 28274 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 68107 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 10408 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 14285 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 80663 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 59674 term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 45643 term 36 leader 1 nextIndex[2]: 217  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216}]
------------------------------------------------------
flag 33476 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 40955 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
client write log 3933622779069411395 (index 217) to leader 1
flag 53976 term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 12220 term 36 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216} {3933622779069411395 36 217}]
------------------------------------------------------
flag 3409 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 55561 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 10079 term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 84696 term 36 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 36 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216} {3933622779069411395 36 217}]
------------------------------------------------------
flag 71955 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 84278 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
client write log 8510284467844686441 (index 218) to leader 1
client write log 2407887557750292471 (index 219) to leader 1
client write log 3199725193706975481 (index 220) to leader 1
client write log 5696968894414838538 (index 221) to leader 1
client write log 652891328268575567 (index 222) to leader 1
client write log 3615770768313195104 (index 223) to leader 1
client write log 8452743381662918873 (index 224) to leader 1
client write log 6862868814204635571 (index 225) to leader 1
client write log 5414556940597286042 (index 226) to leader 1
client write log 5013640675007694013 (index 227) to leader 1
client write log 3446775235834851380 (index 228) to leader 1
client write log 4529971708144299483 (index 229) to leader 1
client write log 2453327699288824188 (index 230) to leader 1
client write log 6750808622211218545 (index 231) to leader 1
client write log 5164437802409959682 (index 232) to leader 1
flag 52598 term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 88650 term 36 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 36 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 33 209} {2148185136763155149 33 210} {8643763592045597979 33 211} {1819306588265355450 33 212} {411943630141595007 33 213} {1587606014555271934 33 214} {8425978735508293563 33 215} {8425978735508293563 35 216} {3933622779069411395 36 217} {8510284467844686441 36 218} {2407887557750292471 36 219} {3199725193706975481 36 220} {5696968894414838538 36 221} {652891328268575567 36 222} {3615770768313195104 36 223} {8452743381662918873 36 224} {6862868814204635571 36 225} {5414556940597286042 36 226} {5013640675007694013 36 227} {3446775235834851380 36 228} {4529971708144299483 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
flag 91969 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 66462 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 70524 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
flag 43266 term 35 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
flag 41121 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 35 leaderCommit: 216 
------------------------------------------------------
!!!!!!connect server 0
client write log 1310013851761024024 (index 233) to leader 1
term 36 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 19813 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
flag 79716 term 36 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 21068 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48785 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 22379 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
flag 45420 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 51465 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
flag 51607 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 1215 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
flag 75068 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 41932 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 233
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 49846 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233}]
------------------------------------------------------
term 36 server 0 InstallSnapshot fail
rf.commitIndex 233 args.LastIncludedIndex 229
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 3232985368319784277 (index 234) to leader 1
flag 43250 term 36 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 47471 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233} {3232985368319784277 36 234}]
------------------------------------------------------
flag 93914 term 36 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 61221 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233} {3232985368319784277 36 234}]
------------------------------------------------------
client write log 4300851867887969948 (index 235) to leader 1
client write log 6840957467754049514 (index 236) to leader 1
client write log 6086509558584739705 (index 237) to leader 1
client write log 1860443240929201445 (index 238) to leader 1
client write log 167609230877740744 (index 239) to leader 1
client write log 1538769021212491079 (index 240) to leader 1
client write log 8623403788042660170 (index 241) to leader 1
client write log 8492567540509692422 (index 242) to leader 1
client write log 2712930152742866065 (index 243) to leader 1
client write log 9193630539377727482 (index 244) to leader 1
flag 94372 term 36 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 57271 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 229} {2453327699288824188 36 230} {6750808622211218545 36 231} {5164437802409959682 36 232} {1310013851761024024 36 233} {3232985368319784277 36 234} {4300851867887969948 36 235} {6840957467754049514 36 236} {6086509558584739705 36 237} {1860443240929201445 36 238} {167609230877740744 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41387 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7165732741826809533 (index 245) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 245->244
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 244
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 InstallSnapshot fail
rf.commitIndex 244 args.LastIncludedIndex 239
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 84580 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 7798 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 246->245
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 246->245
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40172 term 38 leader 1 nextIndex[0]: 245  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33891 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 84315 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 53906 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 89674 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40624 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 10719 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 77603 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 68872 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 32025 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 56029 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 34687 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 61298 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 60306 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 24601 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8803 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 10170 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49378 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 8366 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 46616 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 90697 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 61353 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 12314 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 26018 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 70042 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 9667 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 16819 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 75792 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 64181 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 30960 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 51473 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 16596 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 42889 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
flag 88270 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 4342 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245}]
------------------------------------------------------
client write log 7165732741826809533 (index 246) to leader 1
flag 41045 term 38 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 43173 term 38 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 38 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
flag 29230 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 32898 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
flag 46377 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 75690 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
flag 9883 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 82864 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
flag 80935 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 34040 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
flag 99246 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 3407 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6918345347696535956 (index 247) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17813 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 30534 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246} {6918345347696535956 38 247}]
------------------------------------------------------
flag 89765 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 71926 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246} {6918345347696535956 38 247}]
------------------------------------------------------
client write log 1841645143465828405 (index 248) to leader 1
client write log 7875817093959145054 (index 249) to leader 1
client write log 1127626863340466889 (index 250) to leader 1
client write log 8993669362649645121 (index 251) to leader 1
client write log 1841218460516611351 (index 252) to leader 1
client write log 706217845991508128 (index 253) to leader 1
client write log 6170194784134357569 (index 254) to leader 1
client write log 8798179678864741420 (index 255) to leader 1
client write log 8764817546559971327 (index 256) to leader 1
client write log 593555502973416371 (index 257) to leader 1
client write log 8677801741936992441 (index 258) to leader 1
client write log 828227410967628928 (index 259) to leader 1
flag 40203 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 64743 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 239} {1538769021212491079 36 240} {8623403788042660170 36 241} {8492567540509692422 36 242} {2712930152742866065 36 243} {9193630539377727482 36 244} {7165732741826809533 36 245} {7165732741826809533 38 246} {6918345347696535956 38 247} {1841645143465828405 38 248} {7875817093959145054 38 249} {1127626863340466889 38 250} {8993669362649645121 38 251} {1841218460516611351 38 252} {706217845991508128 38 253} {6170194784134357569 38 254} {8798179678864741420 38 255} {8764817546559971327 38 256} {593555502973416371 38 257} {8677801741936992441 38 258} {828227410967628928 38 259}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 2458 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5458869737537753568 (index 260) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 33018 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 21449 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97844 term 40 leader 1 nextIndex[0]: 260  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 51410 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 25819 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 91161 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 36709 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 35320 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 22614 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 77928 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 50598 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 78490 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 86988 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 42699 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 19396 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 9637 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 85363 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38499 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 28686 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46707 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 29198 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 47460 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 86725 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51751 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 56527 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 30110 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 32742 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 93899 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 4493 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89577 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 75580 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 55432 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 54276 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 14721 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 71056 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
flag 90659 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 69703 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51065 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 63980 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 38 259} {5458869737537753568 38 260}]
------------------------------------------------------
client write log 5458869737537753568 (index 261) to leader 1
flag 65392 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
flag 73909 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27680 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 61706 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
flag 44674 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 82800 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
flag 93420 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 12486 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58464 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 45806 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
flag 98664 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 42120 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
flag 82926 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 37207 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 89516 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 24175 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 44294 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 65936 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 32723 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 99755 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 71768 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 73036 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
flag 41857 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 38606 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261}]
------------------------------------------------------
client write log 1067970614187845510 (index 262) to leader 0
flag 70529 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 82883 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 29518 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 25522 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40966 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 80766 term 40 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 262->261
------------------------------------------------------
flag 44774 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 91266 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262}]
------------------------------------------------------
client write log 3208482038613142252 (index 263) to leader 0
flag 52357 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 261
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 42733 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 262 
------------------------------------------------------
flag 61783 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 58377 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 15830 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
flag 60501 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 74932 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4458839496457765716 (index 262) to leader 1
flag 99180 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 11208 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
term 41 server 0 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73007 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 263 
------------------------------------------------------
flag 7215 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69861 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 34060 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 72115 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 45802 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 64108 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 91390 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 75104 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 13636 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
------------------------------------------------------
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 2512 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 78931 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 90741 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 27246 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 67873 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 92974 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 31481 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 26992 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 26864 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 16976 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 14019 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 95116 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35987 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 59477 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 14692 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 69523 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 98344 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 26037 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60594 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 41650 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 42461 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 40926 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 日志不够新
term 41 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85807 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 99256 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
flag 66650 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 19722 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
flag 5838 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 25517 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72784 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 66113 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263}]
------------------------------------------------------
client write log 4458839496457765716 (index 264) to leader 0
flag 65435 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 21313 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60384 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 53364 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95775 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 23218 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42544 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 89027 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 0  matchIndex[1]: 264
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 24343 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 264 args.LastIncludedIndex 259
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
flag 8496 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 264 
------------------------------------------------------
flag 69308 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
flag 4345 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 86463 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6382864681113590830 (index 265) to leader 0
flag 8748 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 62685 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264} {6382864681113590830 41 265}]
------------------------------------------------------
flag 58030 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 91556 term 41 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264} {6382864681113590830 41 265}]
------------------------------------------------------
client write log 7890717290183878370 (index 266) to leader 0
client write log 8123486409579640740 (index 267) to leader 0
client write log 6864579492575450636 (index 268) to leader 0
client write log 4023136291958504936 (index 269) to leader 0
client write log 7254948925818819072 (index 270) to leader 0
client write log 7355316978801484656 (index 271) to leader 0
client write log 2065079365075655157 (index 272) to leader 0
client write log 533853425114000058 (index 273) to leader 0
client write log 8051157171347372817 (index 274) to leader 0
client write log 5893866368696572974 (index 275) to leader 0
client write log 5636464179885576324 (index 276) to leader 0
client write log 3610089905368250362 (index 277) to leader 0
client write log 2210809956423979175 (index 278) to leader 0
client write log 8747093588327396764 (index 279) to leader 0
client write log 5875539622302024122 (index 280) to leader 0
flag 66536 term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 92485 term 41 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 38 259} {5458869737537753568 38 260} {5458869737537753568 40 261} {1067970614187845510 41 262} {3208482038613142252 41 263} {4458839496457765716 41 264} {6382864681113590830 41 265} {7890717290183878370 41 266} {8123486409579640740 41 267} {6864579492575450636 41 268} {4023136291958504936 41 269} {7254948925818819072 41 270} {7355316978801484656 41 271} {2065079365075655157 41 272} {533853425114000058 41 273} {8051157171347372817 41 274} {5893866368696572974 41 275} {5636464179885576324 41 276} {3610089905368250362 41 277} {2210809956423979175 41 278} {8747093588327396764 41 279} {5875539622302024122 41 280}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=280
-------------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 30950 term 41 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=280
-------------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2729712005629267722 (index 281) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 22698 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 4771 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 282->281
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 25140 term 43 leader 0 nextIndex[2]: 281  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12529 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 74375 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90933 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 42786 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 16933 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 93840 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 82645 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 45476 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 78318 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 37810 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98588 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 94617 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37230 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 92599 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 3706 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 23702 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 88989 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 1982 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 81949 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 21993 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94144 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 14025 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 38201 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 99712 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50501 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 67204 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 12330 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 27647 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 44341 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 69596 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 23864 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 42889 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 66023 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 34070 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281}]
------------------------------------------------------
flag 4114 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 56684 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
client write log 2729712005629267722 (index 282) to leader 0
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7842 term 43 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
flag 24671 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
flag 12618 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 77374 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
flag 66017 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 35501 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
flag 55255 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 76199 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71926 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 10827 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29449 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 52711 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
flag 73257 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 17257 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3405739742831934595 (index 283) to leader 0
flag 34153 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 16568 term 43 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282} {3405739742831934595 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1017 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
flag 98372 term 43 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 43 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282} {3405739742831934595 43 283}]
------------------------------------------------------
client write log 3185202694233078665 (index 284) to leader 0
client write log 2953043764863668654 (index 285) to leader 0
client write log 1357427846276716707 (index 286) to leader 0
client write log 4275219910515509959 (index 287) to leader 0
client write log 4255566078003899038 (index 288) to leader 0
client write log 4242600010615172437 (index 289) to leader 0
client write log 547707874893029309 (index 290) to leader 0
client write log 702275305498386538 (index 291) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43367 term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
flag 61329 term 43 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 43 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 279} {5875539622302024122 41 280} {2729712005629267722 41 281} {2729712005629267722 43 282} {3405739742831934595 43 283} {3185202694233078665 43 284} {2953043764863668654 43 285} {1357427846276716707 43 286} {4275219910515509959 43 287} {4255566078003899038 43 288} {4242600010615172437 43 289} {547707874893029309 43 290} {702275305498386538 43 291}]
------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 73889 term 43 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5737063353623576045 (index 292) to leader 0
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get outdate rpc reply from server 1
flag 47383 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 40175 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 293->292
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 73756 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 43 rf.commitIndex 289 rf.lastApplied 289
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 72756 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 17864 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61402 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 31904 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 53825 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 36115 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 45397 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 40700 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 31310 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 92923 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 76027 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 83029 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 37344 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 1052 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 47160 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 87476 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75049 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 3823 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 20701 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 79205 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 41292 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 42979 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 61182 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 83759 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 16384 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 69266 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 78145 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 65385 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 40260 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 26015 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 79219 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 29326 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 445 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 62707 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
flag 72113 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 3704 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292}]
------------------------------------------------------
client write log 5737063353623576045 (index 293) to leader 0
flag 31333 term 45 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 42938 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 66108 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 26576 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 64102 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 10685 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 35702 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 65004 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 2953 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 29347 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 2182 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 32042 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
flag 43016 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 43795 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 19281 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 49502 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 6965 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 81790 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 27971 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 48377 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
flag 51145 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 57960 term 46 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293}]
------------------------------------------------------
client write log 4702109873071540471 (index 294) to leader 1
flag 65522 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 23030 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 62792 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 47207 term 46 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293} {4702109873071540471 46 294}]
------------------------------------------------------
flag 9022 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 62901 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 82321 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 294 
------------------------------------------------------
flag 43950 term 46 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293} {4702109873071540471 46 294}]
------------------------------------------------------
client write log 4900504641834216957 (index 295) to leader 1
client write log 6914585224382528737 (index 296) to leader 1
client write log 2795335034770227949 (index 297) to leader 1
client write log 8928476230954943635 (index 298) to leader 1
client write log 6829124773367758265 (index 299) to leader 1
client write log 5324400016921364440 (index 300) to leader 1
client write log 644909674388437940 (index 301) to leader 1
client write log 7047990828299024018 (index 302) to leader 1
client write log 8084156784713134867 (index 303) to leader 1
client write log 8454204321175167858 (index 304) to leader 1
client write log 6102904342786134971 (index 305) to leader 1
client write log 423111141042798518 (index 306) to leader 1
client write log 5303306304357829239 (index 307) to leader 1
flag 95744 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 45415 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 76567 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 294 
------------------------------------------------------
flag 45145 term 46 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 43 289} {547707874893029309 43 290} {702275305498386538 43 291} {5737063353623576045 43 292} {5737063353623576045 45 293} {4702109873071540471 46 294} {4900504641834216957 46 295} {6914585224382528737 46 296} {2795335034770227949 46 297} {8928476230954943635 46 298} {6829124773367758265 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307}]
------------------------------------------------------
term 46 Server1 start snapshot! index=299
term 46 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37590 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 27076 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 53786 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307}]
------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3089010952347655885 (index 308) to leader 1
flag 67383 term 45 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
flag 37164 term 45 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 45 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 45 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 14872 term 46 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 46 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 307 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
term 46 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 70031 term 46 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 46 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 31631 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
flag 57396 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 68877 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
flag 46420 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 55550 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 308
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 14665 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 0 InstallSnapshot fail
rf.commitIndex 308 args.LastIncludedIndex 299
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 14291 term 46 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 46 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 23981 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
flag 13877 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 25925 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4183753727814417818 (index 309) to leader 1
flag 79581 term 46 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
flag 36789 term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 46 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 299} {5324400016921364440 46 300} {644909674388437940 46 301} {7047990828299024018 46 302} {8084156784713134867 46 303} {8454204321175167858 46 304} {6102904342786134971 46 305} {423111141042798518 46 306} {5303306304357829239 46 307} {3089010952347655885 46 308} {4183753727814417818 46 309}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 46714 term 46 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 309}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 5171590451349418344 (index 310) to leader 1
client write log 5549149785471923798 (index 311) to leader 1
client write log 9144448827897627681 (index 312) to leader 1
client write log 5917138957375792362 (index 313) to leader 1
client write log 8996344378196971540 (index 314) to leader 1
client write log 5995943538831695450 (index 315) to leader 1
client write log 6924505438481045298 (index 316) to leader 1
client write log 4747805027608941451 (index 317) to leader 1
client write log 1964131748439699211 (index 318) to leader 1
client write log 4097761236538751440 (index 319) to leader 1
flag 43593 term 46 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 46 309} {5171590451349418344 46 310} {5549149785471923798 46 311} {9144448827897627681 46 312} {5917138957375792362 46 313} {8996344378196971540 46 314} {5995943538831695450 46 315} {6924505438481045298 46 316} {4747805027608941451 46 317} {1964131748439699211 46 318} {4097761236538751440 46 319}]
------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33435 term 46 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 46 319}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1235097271427632560 (index 320) to leader 1
term 46 server 0 not vote for server 2, 日志不够新
term 46 server 1 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get outdate rpc reply from server 2
flag 15959 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 88886 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
flag 1314 term 48 leader 1 nextIndex[0]: 320  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49579 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 99217 term 48 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 48 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 8099 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 23088 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78727 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 75574 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 56844 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 92965 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 66353 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 43304 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 32058 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 47819 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 4014 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 43618 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 6612 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 49261 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 14211 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 16102 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56051 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 27798 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 28715 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 43440 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 3373 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 18181 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64821 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 79466 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 55857 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 8154 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70218 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 18133 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
flag 91375 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 36551 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69786 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 49167 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 46 319} {1235097271427632560 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1235097271427632560 (index 321) to leader 1
flag 21499 term 48 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
flag 41429 term 48 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 48 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
flag 40530 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 69638 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
flag 78939 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 36531 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63196 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 32576 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21276 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 60363 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
flag 63312 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 39952 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8650990707620804791 (index 322) to leader 1
flag 12205 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 35859 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321} {8650990707620804791 48 322}]
------------------------------------------------------
flag 86063 term 48 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 24046 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321} {8650990707620804791 48 322}]
------------------------------------------------------
client write log 3092732082216257649 (index 323) to leader 1
client write log 1025625362615432626 (index 324) to leader 1
client write log 7359645013820833101 (index 325) to leader 1
client write log 6806724652235603832 (index 326) to leader 1
client write log 8662828172536306127 (index 327) to leader 1
client write log 2635700726500021755 (index 328) to leader 1
client write log 6072722853901940338 (index 329) to leader 1
flag 51045 term 48 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 8809 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 319} {1235097271427632560 46 320} {1235097271427632560 48 321} {8650990707620804791 48 322} {3092732082216257649 48 323} {1025625362615432626 48 324} {7359645013820833101 48 325} {6806724652235603832 48 326} {8662828172536306127 48 327} {2635700726500021755 48 328} {6072722853901940338 48 329}]
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
flag 74931 term 48 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 48 329}]
------------------------------------------------------
term 48 Server0 start snapshot! index=329
term 48 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
!!!!!!connect server 2
client write log 26184687725849865 (index 330) to leader 1
term 48 server 1 not vote for server 2, 日志不够新
term 48 server 0 not vote for server 2, 日志不够新
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 36715 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 34103 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 331->330
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 331->330
------------------------------------------------------
flag 53157 term 50 leader 1 nextIndex[0]: 330  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 48 rf.commitIndex 329 rf.lastApplied 329
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92056 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 64365 term 50 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 21624 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 39457 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 84889 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 25861 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 23434 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 66021 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 35580 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 10097 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 66320 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 24252 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 98870 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 34185 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 32766 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 72989 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 8803 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 62591 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65733 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 57314 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 31254 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 24140 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 84798 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 46251 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78155 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 37938 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 63762 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 54905 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 40075 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 48498 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64276 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 67142 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
flag 76565 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 82207 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 48 329} {26184687725849865 48 330}]
------------------------------------------------------
client write log 26184687725849865 (index 331) to leader 1
flag 92688 term 50 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
flag 85316 term 50 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 50 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
flag 60299 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 11972 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 0
flag 17647 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 56756 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
flag 76796 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 27944 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
flag 414 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 42490 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17997 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 1701 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50785 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 67336 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 74600 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 66484 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84777 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 87248 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 30697 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 43990 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 0
term 51 server 2 become leader
------------------------------------------------------
flag 45179 term 51 leader 2 nextIndex[0]: 332  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 98264 term 51 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331}]
------------------------------------------------------
flag 33862 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 55198 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
client write log 1405013888388328296 (index 332) to leader 2
flag 86241 term 51 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 40993 term 51 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331} {1405013888388328296 51 332}]
------------------------------------------------------
flag 80901 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 99074 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 32829 term 51 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 43916 term 51 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331} {1405013888388328296 51 332}]
------------------------------------------------------
client write log 2733636004996611191 (index 333) to leader 2
client write log 9218971466358287282 (index 334) to leader 2
client write log 1488510564754526803 (index 335) to leader 2
client write log 2172979537949229420 (index 336) to leader 2
client write log 5214604259076039547 (index 337) to leader 2
client write log 8808173001909115358 (index 338) to leader 2
client write log 7493762757227841253 (index 339) to leader 2
client write log 5294476779515578083 (index 340) to leader 2
client write log 481064926899691763 (index 341) to leader 2
client write log 5216734796872519610 (index 342) to leader 2
client write log 9049619370749183774 (index 343) to leader 2
client write log 7587530959863029095 (index 344) to leader 2
client write log 3550217961352921898 (index 345) to leader 2
client write log 4379288978399596338 (index 346) to leader 2
client write log 4927304968412038066 (index 347) to leader 2
flag 32827 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
flag 61807 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
flag 24091 term 51 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 51 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 80896 term 51 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 48 329} {26184687725849865 48 330} {26184687725849865 50 331} {1405013888388328296 51 332} {2733636004996611191 51 333} {9218971466358287282 51 334} {1488510564754526803 51 335} {2172979537949229420 51 336} {5214604259076039547 51 337} {8808173001909115358 51 338} {7493762757227841253 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 51 Server2 start snapshot! index=339
term 51 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
flag 83247 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 331
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
flag 2057 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5698073569881111612 (index 332) to leader 1
flag 67936 term 50 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 331
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82423 term 51 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 0
term 53 server 2 become leader
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get outdate rpc reply from server 1
flag 42948 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 84873 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 348->347
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38778 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 13800 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 53580 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 9681 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 98330 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 94716 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2089 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 77263 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 22817 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 16675 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26812 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 48409 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 47133 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 97398 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
update nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 45795 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 60438 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 67772 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 87043 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 70597 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 55653 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 8849 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 41547 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 21056 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 53067 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 33333 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 95075 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 79066 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 20747 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 45323 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 53303 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58021 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 71088 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 69004 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 42944 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
flag 95701 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 79437 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347}]
------------------------------------------------------
client write log 5698073569881111612 (index 348) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71909 term 53 leader 2 nextIndex[0]: 348  matchIndex[0]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 14877 term 53 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
flag 49613 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 3801 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
flag 89795 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 73606 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
flag 64430 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 22041 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78895 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 651 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
flag 96406 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 45303 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7424250871545266735 (index 349) to leader 2
flag 52927 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
flag 48451 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 53 leaderCommit: 348 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 339} {5294476779515578083 51 340} {481064926899691763 51 341} {5216734796872519610 51 342} {9049619370749183774 51 343} {7587530959863029095 51 344} {3550217961352921898 51 345} {4379288978399596338 51 346} {4927304968412038066 51 347} {5698073569881111612 53 348} {7424250871545266735 53 349}]
------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 37253 term 53 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 349}]
------------------------------------------------------
term 53 Server1 start snapshot! index=349
term 53 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
client write log 6381318409872147556 (index 350) to leader 2
client write log 2112944742745047878 (index 351) to leader 2
client write log 1512857018272479800 (index 352) to leader 2
client write log 1310905589651807613 (index 353) to leader 2
client write log 4048078024458388324 (index 354) to leader 2
client write log 7869419411689961004 (index 355) to leader 2
client write log 4464917448024250264 (index 356) to leader 2
client write log 2938165274629673289 (index 357) to leader 2
client write log 3394752231337947642 (index 358) to leader 2
client write log 7407189184171636355 (index 359) to leader 2
client write log 411098872382156965 (index 360) to leader 2
client write log 6327131417015997559 (index 361) to leader 2
client write log 983048316661679651 (index 362) to leader 2
client write log 8028984251631345570 (index 363) to leader 2
term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 55973 term 53 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=364
update matchIndex[1]=363
update leader CommitIndex=363
leader log:
[{snapshot 53 349} {6381318409872147556 53 350} {2112944742745047878 53 351} {1512857018272479800 53 352} {1310905589651807613 53 353} {4048078024458388324 53 354} {7869419411689961004 53 355} {4464917448024250264 53 356} {2938165274629673289 53 357} {3394752231337947642 53 358} {7407189184171636355 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363}]
------------------------------------------------------
term 53 Server2 start snapshot! index=359
term 53 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=363
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
flag 27439 term 53 leader 2 nextIndex[1]: 364  matchIndex[1]: 363
term 53 leader 2 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=364
update matchIndex[1]=363
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363}]
------------------------------------------------------
term 53 Server1 start snapshot! index=359
term 53 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=363
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7314667648847688910 (index 364) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get outdate rpc reply from server 0
flag 16231 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 53917 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 365->364
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 365->364
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
flag 20488 term 55 leader 2 nextIndex[1]: 364  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 360 matchIndex[0] 359 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 53 rf.commitIndex 359 rf.lastApplied 359
flag 10314 term 55 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 55 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 66299 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 4855 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 64748 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37445 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 61140 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 6691 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 58482 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4178 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 75536 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 99978 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 48498 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 95870 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 11555 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 11223 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 17358 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 19668 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 55768 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 86353 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 36929 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 21442 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 113 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 60200 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 44737 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 10486 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 29479 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 59295 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 25098 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 1 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 1
flag 68416 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 53318 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62177 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 6947 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 90082 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 15828 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
flag 70397 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 91516 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=363
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364}]
------------------------------------------------------
client write log 7314667648847688910 (index 365) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42488 term 55 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
flag 32829 term 55 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 55 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 363 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
flag 57175 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 79731 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42021 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 55179 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
flag 69474 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 94819 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
flag 99026 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 36836 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
flag 85527 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 24648 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
flag 84378 term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
flag 6362 term 55 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 55 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 55 leaderCommit: 365 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {411098872382156965 53 360} {6327131417015997559 53 361} {983048316661679651 53 362} {8028984251631345570 53 363} {7314667648847688910 53 364} {7314667648847688910 55 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  82.0  3 1872  803045  365
--- PASS: TestSnapshotInstall2D (82.03s)
PASS
