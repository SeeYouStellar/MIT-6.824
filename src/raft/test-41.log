=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 6584 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 73605 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6587298834535044228 (index 1) to leader 1
flag 15166 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 34639 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 52961 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 19319 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 46556 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15610 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 74491 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7821 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 57140 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58019 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 26333 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32350 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
flag 80121 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47505 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6587298834535044228 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5752756868154304423 (index 2) to leader 1
flag 6631 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17092 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2}]
------------------------------------------------------
flag 97341 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 80458 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2}]
------------------------------------------------------
client write log 1419373639045036104 (index 3) to leader 1
client write log 7880156754961087452 (index 4) to leader 1
client write log 6983080510696607495 (index 5) to leader 1
client write log 4562700713685061300 (index 6) to leader 1
client write log 1632951219048317729 (index 7) to leader 1
client write log 5618296777981950815 (index 8) to leader 1
flag 22283 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 84688 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8}]
------------------------------------------------------
flag 23291 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 34218 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2056560102283961056 (index 9) to leader 1
flag 35106 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 21331 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 2 server 2 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 2 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 0 vote for server 1
term 4 server 1 become leader
------------------------------------------------------
term 4 server 1 get outdate rpc reply from server 0
flag 62433 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 9971 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 96328 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60001 term 4 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 87227 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 79295 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 87803 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 4705 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 5552 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40016 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 80486 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2768 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 36216 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 12775 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 40205 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 57635 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 80194 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 75727 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46429 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 48342 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 0
flag 47286 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 52505 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 89027 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 71893 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 77242 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 18367 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 79048 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60362 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
flag 21175 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86983 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9}]
------------------------------------------------------
client write log 2056560102283961056 (index 10) to leader 1
flag 80686 term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 14919 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6587298834535044228 1 1} {5752756868154304423 1 2} {1419373639045036104 1 3} {7880156754961087452 1 4} {6983080510696607495 1 5} {4562700713685061300 1 6} {1632951219048317729 1 7} {5618296777981950815 1 8} {2056560102283961056 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 5256 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 73183 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 Server2 start snapshot! index=9
term 4 Server0 start snapshot! index=9
term 4 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 4 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 43112 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 18241 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
flag 73300 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 97300 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
flag 30123 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 86387 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
flag 20154 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 85419 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
flag 8401 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 70179 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 39957 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 23168 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 4483 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 44194 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 93233 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 37897 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 vote for server 2
term 5 server 2 get vote from server 0
term 5 server 2 become leader
------------------------------------------------------
flag 74473 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 59052 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2056560102283961056 4 10}]
------------------------------------------------------
client write log 7299882940716625598 (index 11) to leader 2
flag 94221 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 90625 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 56847 term 5 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 29737 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11}]
------------------------------------------------------
flag 5305 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 29853 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 20623 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 87472 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
client write log 8801817925204763603 (index 12) to leader 2
client write log 2289808544727584623 (index 13) to leader 2
client write log 1304754975842843750 (index 14) to leader 2
client write log 1237844604732035116 (index 15) to leader 2
client write log 3936466524922202297 (index 16) to leader 2
client write log 8206689974772955793 (index 17) to leader 2
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30439 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 50826 term 5 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 5 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 5 leaderCommit: 11 
------------------------------------------------------
flag 30965 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 52697 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
flag 3580 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 42304 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 10
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54367 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
!!!!!!connect server 1
client write log 3053258670797102148 (index 11) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85502 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 19738 term 5 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 5 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74698 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 74833 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 1 not vote for server 2, 任期不够新
term 5 server 2 get outdate rpc reply from server 1
flag 36534 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 91187 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
flag 99220 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 1 InstallSnapshot fail
rf.commitIndex 17 args.LastIncludedIndex 9
------------------------------------------------------
term 5 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 42535 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 12168 term 5 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 5 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35097 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 28016 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 49424 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 95033 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 40570 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 21928 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 73760 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 49209 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 81698 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 62122 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31882 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 31382 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35690 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 10900 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81246 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 67458 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3372 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 46797 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 21229 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 89932 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 62655 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 28026 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 59076 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 51809 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 1 not vote for server 2, 日志不够新
term 5 server 2 get outdate rpc reply from server 1
flag 93747 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 19589 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 87801 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 89325 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
flag 31545 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 5294 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17}]
------------------------------------------------------
client write log 3053258670797102148 (index 18) to leader 2
flag 34324 term 5 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 76971 term 5 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
flag 67011 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 60128 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
flag 88394 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 96512 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2098 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 67555 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
flag 12753 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 71182 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
flag 4277 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 8975 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
flag 9785 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 63517 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7012733569339923252 (index 19) to leader 2
flag 67696 term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 78560 term 5 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {2056560102283961056 4 10} {7299882940716625598 5 11} {8801817925204763603 5 12} {2289808544727584623 5 13} {1304754975842843750 5 14} {1237844604732035116 5 15} {3936466524922202297 5 16} {8206689974772955793 5 17} {3053258670797102148 5 18} {7012733569339923252 5 19}]
------------------------------------------------------
term 5 Server2 start snapshot! index=19
term 5 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 20427 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 5 19}]
------------------------------------------------------
term 5 Server1 start snapshot! index=19
term 5 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 2160990269750849855 (index 20) to leader 2
client write log 7807016622600576127 (index 21) to leader 2
client write log 6956897743596322070 (index 22) to leader 2
client write log 8198327053602954436 (index 23) to leader 2
client write log 7945944576125174674 (index 24) to leader 2
client write log 6069956161599993700 (index 25) to leader 2
term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 44829 term 5 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 5 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25}]
------------------------------------------------------
term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 49598 term 5 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 5 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5227329283322080220 (index 26) to leader 2
term 5 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 5 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 25323 term 5 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 5 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 5 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 0 vote for server 2
term 7 server 2 get vote from server 0
term 7 server 1 vote for server 2
term 7 server 2 become leader
------------------------------------------------------
term 7 server 2 get outdate rpc reply from server 1
flag 10509 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 38395 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 0
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 27->26
------------------------------------------------------
term 7 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 32944 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 InstallSnapshot success
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 5 rf.commitIndex 19 rf.lastApplied 19
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22696 term 7 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 7 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 52471 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 50679 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 3355 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25766 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 62800 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85272 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 43880 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53611 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 27434 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 24665 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 64165 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 89953 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 28678 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31820 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 93402 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 1636 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 60321 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 6761 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 80047 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65635 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 55538 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76638 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 97379 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 95664 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 56241 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99889 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 60020 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 54287 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 59330 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
flag 274 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 68848 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26}]
------------------------------------------------------
client write log 5227329283322080220 (index 27) to leader 2
flag 34723 term 7 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
flag 98508 term 7 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 7 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 5 leaderCommit: 25 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
flag 92563 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 78756 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
flag 16778 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 96942 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3105 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 31458 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
flag 52528 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 66607 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32114 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 1917 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 7 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
flag 99770 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 75267 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4940080719153484058 (index 28) to leader 2
flag 10712 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
flag 75942 term 7 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 27 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27} {4940080719153484058 7 28}]
------------------------------------------------------
flag 47639 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 28 
------------------------------------------------------
flag 31964 term 7 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 7 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 7 leaderCommit: 28 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27} {4940080719153484058 7 28}]
------------------------------------------------------
client write log 9111163007748904076 (index 29) to leader 2
client write log 5737791862426041451 (index 30) to leader 2
client write log 4380992734666734745 (index 31) to leader 2
client write log 2142692903470148611 (index 32) to leader 2
client write log 9066835446941084626 (index 33) to leader 2
client write log 4766225173887618287 (index 34) to leader 2
client write log 7166394703601239516 (index 35) to leader 2
client write log 2190192934432212181 (index 36) to leader 2
client write log 7081147491566828446 (index 37) to leader 2
client write log 1944855075342475429 (index 38) to leader 2
client write log 2584367241910895308 (index 39) to leader 2
flag 2541 term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 7 leaderCommit: 28 
------------------------------------------------------
flag 40675 term 7 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 7 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 7 leaderCommit: 28 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 5 19} {2160990269750849855 5 20} {7807016622600576127 5 21} {6956897743596322070 5 22} {8198327053602954436 5 23} {7945944576125174674 5 24} {6069956161599993700 5 25} {5227329283322080220 5 26} {5227329283322080220 7 27} {4940080719153484058 7 28} {9111163007748904076 7 29} {5737791862426041451 7 30} {4380992734666734745 7 31} {2142692903470148611 7 32} {9066835446941084626 7 33} {4766225173887618287 7 34} {7166394703601239516 7 35} {2190192934432212181 7 36} {7081147491566828446 7 37} {1944855075342475429 7 38} {2584367241910895308 7 39}]
------------------------------------------------------
term 7 Server2 start snapshot! index=29
term 7 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=39
-------------------------------------------------------------
term 7 Server2 start snapshot! index=39
term 7 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 36332 term 7 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 7 leaderCommit: 39 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 7 39}]
------------------------------------------------------
term 7 Server1 start snapshot! index=29
term 7 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=39
-------------------------------------------------------------
term 7 Server1 start snapshot! index=39
term 7 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 0
client write log 450747396536355419 (index 40) to leader 2
term 7 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 7 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 69693 term 7 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 7 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 7 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 7 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
term 9 server 1 vote for server 2
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 2 get outdate rpc reply from server 0
flag 4961 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 28585 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 28  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 61313 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 7 rf.commitIndex 39 rf.lastApplied 39
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 62433 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 1492 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20962 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 77216 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11139 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 10748 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
flag 22134 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 87419 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8927 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 88289 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
flag 6416 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 60037 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50302 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 15459 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 51394 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 39850 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 59623 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 37717 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 40284 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 89535 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 51088 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 46099 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 1
term 10 server 0 become leader
------------------------------------------------------
flag 151 term 10 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 26242 term 10 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 7 39} {450747396536355419 7 40}]
------------------------------------------------------
client write log 5429031716867405249 (index 41) to leader 0
flag 90114 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 7023 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 11034 term 10 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 10 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 86571 term 10 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 7 39} {450747396536355419 7 40} {5429031716867405249 10 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
flag 63181 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 16693 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 73 term 10 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 10 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 10 leaderCommit: 41 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 7 39} {450747396536355419 7 40} {5429031716867405249 10 41}]
------------------------------------------------------
client write log 3421572412150600121 (index 42) to leader 0
client write log 2207899549556494008 (index 43) to leader 0
client write log 206967876329361813 (index 44) to leader 0
client write log 6534308642194141036 (index 45) to leader 0
client write log 8753997332272678769 (index 46) to leader 0
client write log 41597844285950218 (index 47) to leader 0
client write log 1313525978089863816 (index 48) to leader 0
client write log 1999254159815822557 (index 49) to leader 0
client write log 7851706446858358290 (index 50) to leader 0
client write log 5075665546638700946 (index 51) to leader 0
client write log 4430818639546002723 (index 52) to leader 0
client write log 5071551471527430583 (index 53) to leader 0
client write log 3776824762606569532 (index 54) to leader 0
client write log 2539290625728232121 (index 55) to leader 0
client write log 5771236963298602186 (index 56) to leader 0
flag 84799 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 86105 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 39482 term 10 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 10 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 10 leaderCommit: 41 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 7 39} {450747396536355419 7 40} {5429031716867405249 10 41} {3421572412150600121 10 42} {2207899549556494008 10 43} {206967876329361813 10 44} {6534308642194141036 10 45} {8753997332272678769 10 46} {41597844285950218 10 47} {1313525978089863816 10 48} {1999254159815822557 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=56
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 40
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 91906 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
flag 14678 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=56
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2022974302177307106 (index 41) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 40
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 83290 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 7 leaderCommit: 40 
------------------------------------------------------
term 10 server 1 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37776 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 10 rf.commitIndex 49 rf.lastApplied 49
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26758 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 96164 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23229 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 4346 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 18361 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 38550 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 10381 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 71183 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 18188 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 5944 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
flag 12506 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 88688 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 16166 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 81977 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 43869 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 84880 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72151 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 81647 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 32592 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 56489 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 21439 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 33947 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 80696 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 25034 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
flag 55146 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 56
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 2 InstallSnapshot fail
rf.commitIndex 56 args.LastIncludedIndex 49
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59375 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 11932 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 69057 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 52672 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 66000 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 5170 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37176 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 71464 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 95125 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 31848 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
flag 45466 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 79897 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56}]
------------------------------------------------------
client write log 2022974302177307106 (index 57) to leader 0
flag 57622 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
flag 64570 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 10 leaderCommit: 56 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 26608 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 90100 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 67860 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 59820 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 28067 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 47823 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 80539 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 64882 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 91746 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 49334 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
flag 24741 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 51076 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4872991304049332737 (index 58) to leader 0
flag 18961 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 22084 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57} {4872991304049332737 10 58}]
------------------------------------------------------
flag 96972 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 89022 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57} {4872991304049332737 10 58}]
------------------------------------------------------
client write log 830630154224020919 (index 59) to leader 0
client write log 7706636640013111853 (index 60) to leader 0
client write log 3834966289569333504 (index 61) to leader 0
client write log 1166153060424631800 (index 62) to leader 0
client write log 7493941029837697215 (index 63) to leader 0
client write log 5169807823327006322 (index 64) to leader 0
client write log 3042543199570785253 (index 65) to leader 0
client write log 7452358789745008403 (index 66) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90162 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 97972 term 10 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 10 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 10 49} {7851706446858358290 10 50} {5075665546638700946 10 51} {4430818639546002723 10 52} {5071551471527430583 10 53} {3776824762606569532 10 54} {2539290625728232121 10 55} {5771236963298602186 10 56} {2022974302177307106 10 57} {4872991304049332737 10 58} {830630154224020919 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66}]
------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 58->57
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 9987 term 10 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 10 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2154345175459816444 (index 67) to leader 0
term 10 server 2 not vote for server 1, 日志不够新
term 10 server 0 not vote for server 1, 日志不够新
term 12 server 2 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 1 vote for server 0
term 12 server 0 become leader
------------------------------------------------------
term 12 server 0 get outdate rpc reply from server 1
flag 34622 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 38991 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 12 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 68->67
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 68->67
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 58  matchIndex[1]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 40387 term 12 leader 0 nextIndex[2]: 67  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 InstallSnapshot success
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 10 rf.commitIndex 59 rf.lastApplied 59
flag 81428 term 12 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 12 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 34614 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 39103 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 3760 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61581 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 88613 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 92917 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 73930 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30315 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 24054 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 2057 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 85405 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12783 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 36008 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 66969 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 38192 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 22979 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 1012 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 58860 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 31437 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 23770 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 37586 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 87597 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 60092 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 52667 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 1538 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 4209 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 77522 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 60314 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 82570 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 56783 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 70088 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 69917 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 46194 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
flag 53038 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 97634 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67}]
------------------------------------------------------
client write log 2154345175459816444 (index 68) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84360 term 12 leader 0 nextIndex[1]: 68  matchIndex[1]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
flag 3970 term 12 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 12 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 10 leaderCommit: 66 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 20576 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 37333 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
flag 64660 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 86991 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81311 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 99205 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
flag 57854 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 31100 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
flag 89857 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 22490 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
flag 98096 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 26918 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3070497006456556550 (index 69) to leader 0
flag 95193 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
flag 44737 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 12 leaderCommit: 68 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 10 59} {7706636640013111853 10 60} {3834966289569333504 10 61} {1166153060424631800 10 62} {7493941029837697215 10 63} {5169807823327006322 10 64} {3042543199570785253 10 65} {7452358789745008403 10 66} {2154345175459816444 10 67} {2154345175459816444 12 68} {3070497006456556550 12 69}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 13269 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 Server2 start snapshot! index=69
term 12 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 3303610942177861377 (index 70) to leader 0
client write log 4163421499625894241 (index 71) to leader 0
client write log 8096018714107186625 (index 72) to leader 0
client write log 6171013782833870890 (index 73) to leader 0
client write log 2997657818760649022 (index 74) to leader 0
client write log 6974590565042892691 (index 75) to leader 0
client write log 7430346516938871982 (index 76) to leader 0
client write log 4353206475832064066 (index 77) to leader 0
term 12 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 2881 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77}]
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 18260 term 12 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 12 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1862285973039815168 (index 78) to leader 0
term 12 server 2 not vote for server 1, 日志不够新
term 12 server 0 not vote for server 1, 日志不够新
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46099 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 10542 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 79->78
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 12
------------------------------------------------------
flag 30686 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 12 rf.commitIndex 69 rf.lastApplied 69
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 22687 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 77804 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 68837 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 14856 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 31558 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 3083 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 43259 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 67967 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 53864 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 1791 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 66249 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 5119 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7999 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 15357 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 17431 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 24918 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 46459 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 76236 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 91725 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 71811 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 46812 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 61337 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 92590 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 86567 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34888 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 73427 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 50110 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 84286 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28276 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 99789 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 80706 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 15736 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
flag 92190 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 2643 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=77
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78}]
------------------------------------------------------
client write log 1862285973039815168 (index 79) to leader 0
flag 49055 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
flag 74524 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 77 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78} {1862285973039815168 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 12 69} {3303610942177861377 12 70} {4163421499625894241 12 71} {8096018714107186625 12 72} {6171013782833870890 12 73} {2997657818760649022 12 74} {6974590565042892691 12 75} {7430346516938871982 12 76} {4353206475832064066 12 77} {1862285973039815168 12 78} {1862285973039815168 14 79}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 23402 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 45774 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 750 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 12199 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 34106 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 42741 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 52010 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 85675 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 36506 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 18935 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36794 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 42027 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 84533 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 1756 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 50017 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 44727 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 3586 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 98596 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 64318 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 19497 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
flag 69753 term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 18712 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
client write log 8158664894579561911 (index 80) to leader 1
flag 23087 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 86820 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 84512 term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 14653 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8158664894579561911 15 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45806 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31022 term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 1342 term 15 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 15 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8158664894579561911 15 80}]
------------------------------------------------------
client write log 7073325350439547984 (index 81) to leader 1
client write log 1264567297752648493 (index 82) to leader 1
client write log 8315964011575169534 (index 83) to leader 1
client write log 7645708068157026066 (index 84) to leader 1
client write log 605862347677750324 (index 85) to leader 1
client write log 5014577407737705063 (index 86) to leader 1
client write log 4106915485973348056 (index 87) to leader 1
client write log 1641793065589154903 (index 88) to leader 1
client write log 8779985316447417436 (index 89) to leader 1
client write log 2228553216717326668 (index 90) to leader 1
client write log 1605050130429437803 (index 91) to leader 1
flag 52214 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 44570 term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 1773 term 15 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 15 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 79} {8158664894579561911 15 80} {7073325350439547984 15 81} {1264567297752648493 15 82} {8315964011575169534 15 83} {7645708068157026066 15 84} {605862347677750324 15 85} {5014577407737705063 15 86} {4106915485973348056 15 87} {1641793065589154903 15 88} {8779985316447417436 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
flag 24329 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 42599 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3046679394201768044 (index 92) to leader 1
flag 25978 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 79
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 server 1 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 28571 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 17 server 2 vote for server 1
term 17 server 1 get vote from server 2
term 17 server 1 become leader
------------------------------------------------------
term 17 server 0 vote for server 1
term 17 server 1 get outdate rpc reply from server 0
flag 222 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 46972 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 93->92
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35629 term 17 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 56442 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10838 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 469 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73313 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 49181 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
flag 80301 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 34929 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
flag 96503 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 21442 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
term 17 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8631 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 8577 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9088284298079234503 (index 93) to leader 1
flag 20213 term 17 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 70268 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92} {9088284298079234503 17 93}]
------------------------------------------------------
flag 69469 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 40423 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92} {9088284298079234503 17 93}]
------------------------------------------------------
client write log 3935588462188845788 (index 94) to leader 1
client write log 9070423519120131719 (index 95) to leader 1
client write log 6919370076068289562 (index 96) to leader 1
client write log 8295393377388063304 (index 97) to leader 1
client write log 3985525913853541889 (index 98) to leader 1
client write log 610399267413687796 (index 99) to leader 1
client write log 7900137262734558559 (index 100) to leader 1
client write log 3949020678062967482 (index 101) to leader 1
flag 37088 term 17 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 97099 term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 89} {2228553216717326668 15 90} {1605050130429437803 15 91} {3046679394201768044 15 92} {9088284298079234503 17 93} {3935588462188845788 17 94} {9070423519120131719 17 95} {6919370076068289562 17 96} {8295393377388063304 17 97} {3985525913853541889 17 98} {610399267413687796 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
flag 71725 term 17 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6231411490802043553 (index 102) to leader 1
term 17 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1655 term 17 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 17 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 18 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
term 19 server 1 get outdate rpc reply from server 0
flag 40334 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 18239 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 4134 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58236 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 92349 term 19 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 36031 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 39738 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 6445 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 1673 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 98367 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 63083 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19203 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 13970 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7106 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 42617 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37092 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 24641 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 99286 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 30228 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 6221 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 64221 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23903 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 68553 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 69429 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 97934 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 2886 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 2651 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55707 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 8123 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
flag 76324 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 74917 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81191 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 48553 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25886 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 48072 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
flag 13382 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 92764 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102}]
------------------------------------------------------
client write log 6231411490802043553 (index 103) to leader 1
flag 5334 term 19 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 54204 term 19 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 19 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
term 19 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18519 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 70089 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
flag 94817 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 85252 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
flag 95531 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 20814 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
flag 83676 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 67281 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
flag 19988 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 22995 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2691790603608423367 (index 104) to leader 1
flag 53092 term 19 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 23817 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103} {2691790603608423367 19 104}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91496 term 19 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 15420 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103} {2691790603608423367 19 104}]
------------------------------------------------------
client write log 1070665635775584256 (index 105) to leader 1
client write log 1830641448545818856 (index 106) to leader 1
client write log 4079168558030685787 (index 107) to leader 1
client write log 2026976375743198168 (index 108) to leader 1
client write log 4743577215832696538 (index 109) to leader 1
client write log 7390852556933959831 (index 110) to leader 1
client write log 1183268380607615727 (index 111) to leader 1
client write log 8751065891460353573 (index 112) to leader 1
client write log 7974635788414403447 (index 113) to leader 1
client write log 2576579634396338117 (index 114) to leader 1
client write log 5114816944648358422 (index 115) to leader 1
client write log 2524248577228101841 (index 116) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44854 term 19 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 39146 term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 99} {7900137262734558559 17 100} {3949020678062967482 17 101} {6231411490802043553 17 102} {6231411490802043553 19 103} {2691790603608423367 19 104} {1070665635775584256 19 105} {1830641448545818856 19 106} {4079168558030685787 19 107} {2026976375743198168 19 108} {4743577215832696538 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
flag 44048 term 19 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 19 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4917693597262074585 (index 117) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 81945 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 34793 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 118->117
------------------------------------------------------
flag 68015 term 21 leader 1 nextIndex[0]: 117  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
flag 91503 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 37186 term 21 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 21 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 19074 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 30985 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 21614 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 2755 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 40046 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 47782 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 51052 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 9857 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1064 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 65322 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 23996 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 96649 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 9779 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 31058 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59992 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 14349 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 89335 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 47247 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56626 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 1353 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 8314 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 99988 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 69686 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 32922 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 91311 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 25109 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 81585 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 32427 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 37166 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 61222 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 95568 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 26625 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
flag 34683 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 38031 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117}]
------------------------------------------------------
client write log 4917693597262074585 (index 118) to leader 1
flag 7828 term 21 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 90776 term 21 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 21 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13963 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 93963 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
flag 22812 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 87534 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87997 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 91127 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
flag 43773 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 61236 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20638 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 83197 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
flag 57649 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 40424 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 4882 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 31455 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 60535 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 31629 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 14208 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 64740 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get vote from server 0
term 22 server 2 become leader
------------------------------------------------------
flag 83341 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 77494 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 14523 term 22 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 58442 term 22 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118}]
------------------------------------------------------
client write log 3905850308389971123 (index 119) to leader 2
flag 50524 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 52314 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 71397 term 22 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 22 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 12414 term 22 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {7390852556933959831 19 110} {1183268380607615727 19 111} {8751065891460353573 19 112} {7974635788414403447 19 113} {2576579634396338117 19 114} {5114816944648358422 19 115} {2524248577228101841 19 116} {4917693597262074585 19 117} {4917693597262074585 21 118} {3905850308389971123 22 119}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 57699 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 24732 term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 51924 term 22 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 3005447483542482953 (index 120) to leader 2
client write log 8706143786379460886 (index 121) to leader 2
client write log 7139360352767928479 (index 122) to leader 2
client write log 287950443835977152 (index 123) to leader 2
client write log 3081260426501528066 (index 124) to leader 2
client write log 7594725425325979753 (index 125) to leader 2
client write log 3764538082035009304 (index 126) to leader 2
client write log 218487959126742403 (index 127) to leader 2
client write log 5765601377078574472 (index 128) to leader 2
client write log 4408448433384596054 (index 129) to leader 2
client write log 8562055413367794151 (index 130) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 83644 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 90637 term 22 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 22 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 119} {3005447483542482953 22 120} {8706143786379460886 22 121} {7139360352767928479 22 122} {287950443835977152 22 123} {3081260426501528066 22 124} {7594725425325979753 22 125} {3764538082035009304 22 126} {218487959126742403 22 127} {5765601377078574472 22 128} {4408448433384596054 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 22 Server2 start snapshot! index=129
term 22 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=130
-------------------------------------------------------------
flag 56146 term 21 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 83006 term 22 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=130
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5158476956389896531 (index 119) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 22 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 15296 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 92578 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 131->130
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88310 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 22 rf.commitIndex 129 rf.lastApplied 129
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89130 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 20216 term 24 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 24 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 26973 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 89457 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 31447 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 26186 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43085 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 55239 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 21151 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 17838 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 71567 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 36366 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 41103 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 18217 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 78364 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 47294 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 74248 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 26933 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71337 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 4189 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 7179 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 61470 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41069 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 39075 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80918 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 59603 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65205 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 85447 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 48024 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 130 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 16967 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 92172 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 90805 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 45390 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
flag 58524 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 58153 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {8562055413367794151 22 130}]
------------------------------------------------------
client write log 5158476956389896531 (index 131) to leader 2
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69105 term 24 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
flag 25555 term 24 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 24 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4264 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 42290 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
flag 87916 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 65892 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
flag 53198 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 38460 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67592 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 63771 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
flag 54515 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 93441 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2598432375974001223 (index 132) to leader 2
flag 93627 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
flag 10370 term 24 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 131 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131} {2598432375974001223 24 132}]
------------------------------------------------------
flag 97433 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
flag 63080 term 24 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 24 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131} {2598432375974001223 24 132}]
------------------------------------------------------
client write log 1765821252719303853 (index 133) to leader 2
client write log 43507270826963955 (index 134) to leader 2
client write log 8611648239667411433 (index 135) to leader 2
client write log 1262213802608633763 (index 136) to leader 2
client write log 1678772618535164938 (index 137) to leader 2
client write log 8304970772991908354 (index 138) to leader 2
client write log 4135796179973225967 (index 139) to leader 2
client write log 6820043076493650671 (index 140) to leader 2
client write log 5694966808345740650 (index 141) to leader 2
client write log 5700354496290023903 (index 142) to leader 2
client write log 1750881578937575207 (index 143) to leader 2
client write log 7585183806192601340 (index 144) to leader 2
client write log 6751830992040720636 (index 145) to leader 2
client write log 2458250667456554553 (index 146) to leader 2
flag 14177 term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
flag 57908 term 24 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 24 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 24 leaderCommit: 132 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 22 129} {8562055413367794151 22 130} {5158476956389896531 24 131} {2598432375974001223 24 132} {1765821252719303853 24 133} {43507270826963955 24 134} {8611648239667411433 24 135} {1262213802608633763 24 136} {1678772618535164938 24 137} {8304970772991908354 24 138} {4135796179973225967 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 132  matchIndex[0]: 131
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 33405 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3425454898729338984 (index 147) to leader 2
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 72999 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 45436 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 148->147
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 148->147
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 132  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 29905 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45713 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 42421 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96424 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 38048 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 96094 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 27818 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 24880 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 18379 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 50349 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 40717 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 16269 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 8826 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 89019 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 63787 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 38500 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 46532 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 55371 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 76075 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 45935 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 59906 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 69460 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 10726 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
flag 14728 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 95860 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72743 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 5148 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82682 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 48965 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59878 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 8668 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2937 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 59999 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91365 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 69872 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147}]
------------------------------------------------------
client write log 3425454898729338984 (index 148) to leader 2
flag 33306 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 20389 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
flag 80222 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 37713 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
flag 62832 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 73475 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
flag 28902 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 26838 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14141 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 1896 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
flag 48532 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 38594 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
flag 41047 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 83417 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5898335732912980744 (index 149) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32942 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 85792 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 24 139} {6820043076493650671 24 140} {5694966808345740650 24 141} {5700354496290023903 24 142} {1750881578937575207 24 143} {7585183806192601340 24 144} {6751830992040720636 24 145} {2458250667456554553 24 146} {3425454898729338984 24 147} {3425454898729338984 26 148} {5898335732912980744 26 149}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 17000 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 8812632915034734888 (index 150) to leader 2
client write log 8724554367198857178 (index 151) to leader 2
client write log 6027924533461279060 (index 152) to leader 2
client write log 7986691153622511442 (index 153) to leader 2
client write log 6521393079537996428 (index 154) to leader 2
client write log 1322284419619974857 (index 155) to leader 2
client write log 4085564895732630729 (index 156) to leader 2
client write log 3283745522431788650 (index 157) to leader 2
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 99268 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157}]
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 47006 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6131724125710200578 (index 158) to leader 2
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 27876 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 60785 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 159->158
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 159->158
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 149  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 81476 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
flag 25676 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 40874 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73242 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 47413 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 1924 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 34182 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 14263 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 80357 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 73246 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 21093 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 86480 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 62119 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 71777 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 1808 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 26919 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 1983 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 87032 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 13090 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 28606 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 67557 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 67272 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 87450 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 75440 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 18679 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 81692 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 46804 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 84244 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 32516 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 15675 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 16199 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 64351 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 85257 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
flag 60726 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 1034 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6131724125710200578 (index 159) to leader 2
flag 43325 term 28 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 33212 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158} {6131724125710200578 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {8812632915034734888 26 150} {8724554367198857178 26 151} {6027924533461279060 26 152} {7986691153622511442 26 153} {6521393079537996428 26 154} {1322284419619974857 26 155} {4085564895732630729 26 156} {3283745522431788650 26 157} {6131724125710200578 26 158} {6131724125710200578 28 159}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 77157 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 49771 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 23318 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 994 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 21283 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 4690 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 4162 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 12741 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 50883 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 55627 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
flag 60782 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 12965 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 30320 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 98187 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81853 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 95269 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 9342 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 10959 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 36742 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 95159 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
flag 54366 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 90705 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
client write log 8566829303260082627 (index 160) to leader 1
flag 32671 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 56972 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 65757 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 80239 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8566829303260082627 29 160}]
------------------------------------------------------
flag 56180 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 99283 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 12981 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 160 
------------------------------------------------------
flag 55246 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {8566829303260082627 29 160}]
------------------------------------------------------
client write log 980920658466626047 (index 161) to leader 1
flag 66004 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 80384 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
flag 48269 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 29 leaderCommit: 160 
------------------------------------------------------
flag 1493 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161}]
------------------------------------------------------
flag 22553 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 756 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 53611 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6856726447698853350 (index 162) to leader 1
flag 12069 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63892 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 87305 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16972 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 42901 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
flag 14228 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 95674 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
flag 48367 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 10769 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
flag 29036 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 63175 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
flag 94795 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 52136 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
flag 32271 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 55255 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7347248164199589827 (index 163) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14321 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 95049 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162} {7347248164199589827 29 163}]
------------------------------------------------------
flag 50792 term 29 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 29 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 29 leaderCommit: 163 
------------------------------------------------------
flag 4638 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 163 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162} {7347248164199589827 29 163}]
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6625832637331454732 (index 164) to leader 1
client write log 950444702869983043 (index 165) to leader 1
client write log 8446959094657140672 (index 166) to leader 1
client write log 8339273495262279820 (index 167) to leader 1
client write log 3100719826945760311 (index 168) to leader 1
client write log 395930226324565568 (index 169) to leader 1
client write log 2560013951164707273 (index 170) to leader 1
client write log 9213939260312713547 (index 171) to leader 1
client write log 1640265303792246611 (index 172) to leader 1
client write log 4383997152819455248 (index 173) to leader 1
client write log 8886129412429144736 (index 174) to leader 1
client write log 4861700255804843175 (index 175) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42662 term 29 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 29 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 29 leaderCommit: 163 
------------------------------------------------------
flag 34250 term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 163 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 159} {8566829303260082627 29 160} {980920658466626047 29 161} {6856726447698853350 29 162} {7347248164199589827 29 163} {6625832637331454732 29 164} {950444702869983043 29 165} {8446959094657140672 29 166} {8339273495262279820 29 167} {3100719826945760311 29 168} {395930226324565568 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
flag 26993 term 29 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 29 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1392994791137418222 (index 176) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 36580 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 97796 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 62774 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 163  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 29 rf.commitIndex 169 rf.lastApplied 169
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 93462 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 89182 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 52877 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 59608 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 10989 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 40237 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 6403 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 79810 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 63137 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 71437 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 44253 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 8243 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 33201 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 94607 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 74509 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 64090 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 34629 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 59505 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71451 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 46216 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 83721 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 29342 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 24907 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 13586 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 92624 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 4462 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 47234 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 75822 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 8843 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 97569 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19819 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 53122 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53732 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 46267 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
flag 62255 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 3372 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176}]
------------------------------------------------------
client write log 1392994791137418222 (index 177) to leader 1
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24939 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 76358 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
flag 92589 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 89262 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
flag 60914 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 98632 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
flag 59815 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 37025 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30195 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 76943 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
flag 4814 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 64233 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4296860833844816087 (index 178) to leader 1
flag 46823 term 31 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 29285 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177} {4296860833844816087 31 178}]
------------------------------------------------------
flag 88462 term 31 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 66208 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177} {4296860833844816087 31 178}]
------------------------------------------------------
client write log 49764285930630971 (index 179) to leader 1
client write log 939476947199701530 (index 180) to leader 1
client write log 7454329276255114676 (index 181) to leader 1
client write log 4023315653757376106 (index 182) to leader 1
client write log 4165725738068439660 (index 183) to leader 1
client write log 5401317843411590809 (index 184) to leader 1
client write log 2961418801259982211 (index 185) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70116 term 31 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 93117 term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 169} {2560013951164707273 29 170} {9213939260312713547 29 171} {1640265303792246611 29 172} {4383997152819455248 29 173} {8886129412429144736 29 174} {4861700255804843175 29 175} {1392994791137418222 29 176} {1392994791137418222 31 177} {4296860833844816087 31 178} {49764285930630971 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
flag 26475 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4874532455277717004 (index 186) to leader 1
flag 10414 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 84292 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 55073 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 187->186
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 34402 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 63666 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 90736 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 17246 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 32639 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 60508 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 74838 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 48542 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 95567 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 8936 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 78051 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56166 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 45519 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32802 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 75007 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 57930 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 98391 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1571 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 91347 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87486 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 76495 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 20000 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 61739 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58904 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 222 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 53628 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 22717 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 49935 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 23851 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85437 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 86948 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
flag 8124 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 28158 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4874532455277717004 (index 187) to leader 1
flag 67869 term 33 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 10041 term 33 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 33 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21246 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 84739 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47907 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 86241 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
flag 96280 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 65383 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79738 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 73557 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92263 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 12683 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
flag 52704 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 16955 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 70769 term 33 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 78730 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 188->187
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 19431 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 68269 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 55650 term 34 leader 2 nextIndex[0]: 188  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 35381 term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187}]
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 80642 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
client write log 1336108342512681625 (index 188) to leader 2
flag 99854 term 34 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 31844 term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187} {1336108342512681625 34 188}]
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 77679 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 27094 term 34 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 28109 term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187} {1336108342512681625 34 188}]
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 37684 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
client write log 5851076532518345195 (index 189) to leader 2
client write log 3449319565401694633 (index 190) to leader 2
client write log 9084286905491054028 (index 191) to leader 2
client write log 8437203039423378374 (index 192) to leader 2
client write log 8893210154940622043 (index 193) to leader 2
client write log 5411197640588934440 (index 194) to leader 2
client write log 7756321414949742119 (index 195) to leader 2
client write log 1279179042467387699 (index 196) to leader 2
client write log 1460239253445990336 (index 197) to leader 2
client write log 1088176804522666779 (index 198) to leader 2
flag 89808 term 34 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 34 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
flag 34491 term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 31 179} {939476947199701530 31 180} {7454329276255114676 31 181} {4023315653757376106 31 182} {4165725738068439660 31 183} {5401317843411590809 31 184} {2961418801259982211 31 185} {4874532455277717004 31 186} {4874532455277717004 33 187} {1336108342512681625 34 188} {5851076532518345195 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 99353 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 34 Server2 start snapshot! index=189
term 34 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=198
-------------------------------------------------------------
flag 9697 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=198
-------------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 39068 term 33 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
!!!!!!connect server 1
client write log 8519404846797672948 (index 188) to leader 1
flag 23584 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
term 34 server 1 InstallSnapshot success
------------------------------------------------------
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 34 rf.commitIndex 189 rf.lastApplied 189
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40487 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 61902 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 40398 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 72655 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 199->198
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 44285 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 198
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 198 args.LastIncludedIndex 189
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
flag 83380 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 23697 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 50871 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 67250 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95875 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 71484 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9565 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 23842 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 97733 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 16074 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
flag 4606 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 50701 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97354 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 18275 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 12280 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 63024 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 71100 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 51985 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 26454 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 31464 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26826 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 14936 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91634 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 81694 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91163 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 57724 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 21970 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 71567 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 36240 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 84032 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
flag 83470 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 9579 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198}]
------------------------------------------------------
client write log 8519404846797672948 (index 199) to leader 2
flag 78907 term 34 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
flag 92109 term 34 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 34 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 198 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198} {8519404846797672948 34 199}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 189} {3449319565401694633 34 190} {9084286905491054028 34 191} {8437203039423378374 34 192} {8893210154940622043 34 193} {5411197640588934440 34 194} {7756321414949742119 34 195} {1279179042467387699 34 196} {1460239253445990336 34 197} {1088176804522666779 34 198} {8519404846797672948 34 199}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 98116 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 28300 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
term 34 Server1 start snapshot! index=199
term 34 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 39356 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 82086 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
flag 77911 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 199 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40946 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 46817 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
flag 22925 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 89402 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
flag 84507 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 9976 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5401531064413870703 (index 200) to leader 2
flag 88595 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
flag 64097 term 34 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {5401531064413870703 34 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28574 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 63239 term 34 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {5401531064413870703 34 200}]
------------------------------------------------------
client write log 5369199822622807924 (index 201) to leader 2
client write log 5156117574420294243 (index 202) to leader 2
client write log 1133920592051562192 (index 203) to leader 2
client write log 7205182978889451853 (index 204) to leader 2
client write log 1365052065472532543 (index 205) to leader 2
client write log 7486541887847903930 (index 206) to leader 2
client write log 7024815323655804317 (index 207) to leader 2
client write log 2658475860385860088 (index 208) to leader 2
client write log 5649052557199137747 (index 209) to leader 2
client write log 4007369924749520215 (index 210) to leader 2
client write log 3885231155604082616 (index 211) to leader 2
client write log 973396106844218139 (index 212) to leader 2
flag 29309 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 18436 term 34 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 199} {5401531064413870703 34 200} {5369199822622807924 34 201} {5156117574420294243 34 202} {1133920592051562192 34 203} {7205182978889451853 34 204} {1365052065472532543 34 205} {7486541887847903930 34 206} {7024815323655804317 34 207} {2658475860385860088 34 208} {5649052557199137747 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 89307 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212}]
------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1928263036502689901 (index 213) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 200->199
------------------------------------------------------
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 0 vote for server 2
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 25187 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 38828 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 214->213
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 21804 term 36 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
term 36 server 0 InstallSnapshot success
------------------------------------------------------
update leader CommitIndex=212
Server0 get CondInstallSnapshot!
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
flag 13506 term 36 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 76617 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 18656 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 99425 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61248 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 40911 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 64643 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 42619 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 70031 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 85057 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 92464 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 37857 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6450 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 43231 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 67559 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 91087 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 62145 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 64083 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 33196 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 64890 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 48993 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 23099 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 73417 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 128 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 46463 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 57374 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 70350 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 61966 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72598 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 34105 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 78469 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 41287 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
flag 13185 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 18461 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213}]
------------------------------------------------------
client write log 1928263036502689901 (index 214) to leader 2
flag 83322 term 36 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 43145 term 36 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
flag 82947 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 80971 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62714 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 66468 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
flag 95286 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 58702 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
flag 71159 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 8015 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
flag 20700 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 85245 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4101 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 857 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5087305886348961793 (index 215) to leader 2
flag 62826 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 84819 term 36 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214} {5087305886348961793 36 215}]
------------------------------------------------------
flag 64557 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 19969 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214} {5087305886348961793 36 215}]
------------------------------------------------------
client write log 5873516575958539477 (index 216) to leader 2
client write log 2798323022832904003 (index 217) to leader 2
client write log 2326348287174988648 (index 218) to leader 2
client write log 2401109555442895421 (index 219) to leader 2
client write log 2778734757195438690 (index 220) to leader 2
client write log 6527248948562395798 (index 221) to leader 2
client write log 1834085082026373131 (index 222) to leader 2
client write log 2181307092322334101 (index 223) to leader 2
client write log 6817768737303288475 (index 224) to leader 2
client write log 5522873563538020164 (index 225) to leader 2
client write log 2022737131740872475 (index 226) to leader 2
client write log 6715053649815625244 (index 227) to leader 2
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10122 term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 74479 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 209} {4007369924749520215 34 210} {3885231155604082616 34 211} {973396106844218139 34 212} {1928263036502689901 34 213} {1928263036502689901 36 214} {5087305886348961793 36 215} {5873516575958539477 36 216} {2798323022832904003 36 217} {2326348287174988648 36 218} {2401109555442895421 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=227
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 78541 term 36 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5326823713753277690 (index 228) to leader 2
term 36 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 92804 term 36 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 36 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 26530 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 51800 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 229->228
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 215  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 44424 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
flag 73543 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 84212 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 19944 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 78146 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91555 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 45571 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 16368 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 89147 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 77333 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 59162 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 27341 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 22641 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 81108 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 90714 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 66405 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 26259 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 50306 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 80915 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 76834 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 79331 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 5709 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 37816 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 67700 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 98037 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 56284 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 54301 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 7996 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 66224 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 31562 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 69442 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 61186 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 74332 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
flag 16320 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 29889 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228}]
------------------------------------------------------
client write log 5326823713753277690 (index 229) to leader 2
flag 95081 term 38 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 69568 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228} {5326823713753277690 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {2778734757195438690 36 220} {6527248948562395798 36 221} {1834085082026373131 36 222} {2181307092322334101 36 223} {6817768737303288475 36 224} {5522873563538020164 36 225} {2022737131740872475 36 226} {6715053649815625244 36 227} {5326823713753277690 36 228} {5326823713753277690 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 71558 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 70326 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
[{snapshot 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 35339 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 7850 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
flag 39442 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 43122 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
flag 52988 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 69446 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
flag 35171 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 21573 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 17220 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 24495 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 9506 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 92578 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 17622 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 27492 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
flag 67234 term 39 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 78157 term 39 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
client write log 5390719826705858217 (index 230) to leader 0
flag 70782 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 6575 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 97008 term 39 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 49122 term 39 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {5390719826705858217 39 230}]
------------------------------------------------------
flag 96299 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 44931 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
flag 10947 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 30002 term 39 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {5390719826705858217 39 230}]
------------------------------------------------------
client write log 2952699949663031923 (index 231) to leader 0
client write log 331381074957825211 (index 232) to leader 0
client write log 6829181789798883817 (index 233) to leader 0
client write log 7204660635989430997 (index 234) to leader 0
client write log 4853407869300568483 (index 235) to leader 0
client write log 1916982827954357492 (index 236) to leader 0
client write log 1927586548201332682 (index 237) to leader 0
client write log 3072349137501235015 (index 238) to leader 0
client write log 7901709078668118039 (index 239) to leader 0
client write log 7388191021399765319 (index 240) to leader 0
client write log 1443744233122755914 (index 241) to leader 0
client write log 3719355496414469911 (index 242) to leader 0
flag 5407 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 229
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
flag 34929 term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 229} {5390719826705858217 39 230} {2952699949663031923 39 231} {331381074957825211 39 232} {6829181789798883817 39 233} {7204660635989430997 39 234} {4853407869300568483 39 235} {1916982827954357492 39 236} {1927586548201332682 39 237} {3072349137501235015 39 238} {7901709078668118039 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 Server0 start snapshot! index=239
term 39 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
flag 63148 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 229
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 72431 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 2
client write log 56052906836893908 (index 230) to leader 2
flag 36659 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
flag 47191 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86234 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42638 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 76540 term 39 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 39 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 33570 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 72160 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 48868 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 28557 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 1455 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 40345 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49120 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 60636 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 74572 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 22269 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 23252 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 70903 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
flag 46935 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 90271 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16717 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 90442 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 99845 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 92743 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99834 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 44717 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 2843 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 68458 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 42491 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 99066 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 81824 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 70543 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 76400 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 41139 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 14411 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 70636 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 14956 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 5891 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10850 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 88828 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
flag 5145 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 95093 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242}]
------------------------------------------------------
client write log 56052906836893908 (index 243) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52323 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 11405 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
flag 39469 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 37297 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
flag 45929 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 71414 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
flag 51359 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 66354 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
flag 59930 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 47349 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 28227 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 74742 term 39 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 39 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
flag 21761 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 79769 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4868052638973701841 (index 244) to leader 0
flag 23436 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 62314 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243} {4868052638973701841 39 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61941 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 91438 term 39 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 39 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243} {4868052638973701841 39 244}]
------------------------------------------------------
client write log 4751872574021466651 (index 245) to leader 0
client write log 2844282191198772624 (index 246) to leader 0
client write log 1674486109212584755 (index 247) to leader 0
client write log 8707975725713814673 (index 248) to leader 0
client write log 5487135152712476863 (index 249) to leader 0
client write log 3377942102912167476 (index 250) to leader 0
client write log 9030646319052949869 (index 251) to leader 0
client write log 7001595068769620167 (index 252) to leader 0
client write log 6905341472769007721 (index 253) to leader 0
client write log 7281351102825457020 (index 254) to leader 0
client write log 81769086775673126 (index 255) to leader 0
client write log 9040441256375302722 (index 256) to leader 0
client write log 5146533356977150009 (index 257) to leader 0
client write log 8639988449120946153 (index 258) to leader 0
flag 18742 term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 2609 term 39 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 39 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 239} {7388191021399765319 39 240} {1443744233122755914 39 241} {3719355496414469911 39 242} {56052906836893908 39 243} {4868052638973701841 39 244} {4751872574021466651 39 245} {2844282191198772624 39 246} {1674486109212584755 39 247} {8707975725713814673 39 248} {5487135152712476863 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 29244 term 39 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 39 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7921470227427242728 (index 259) to leader 0
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get outdate rpc reply from server 1
flag 22171 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 54455 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 260->259
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 82386 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2074 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 85712 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29321 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 31134 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 81224 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 84076 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 88747 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 3540 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6046 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 80600 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70738 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 73503 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 33125 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 71932 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73402 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 33218 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 18839 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 40707 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86743 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 74539 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 10967 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 92057 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5583 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 62002 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 47728 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 34327 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 66801 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 22160 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 50205 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 98409 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4672 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 76481 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
flag 35961 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 40394 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259}]
------------------------------------------------------
client write log 7921470227427242728 (index 260) to leader 0
flag 44449 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 58781 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 249} {3377942102912167476 39 250} {9030646319052949869 39 251} {7001595068769620167 39 252} {6905341472769007721 39 253} {7281351102825457020 39 254} {81769086775673126 39 255} {9040441256375302722 39 256} {5146533356977150009 39 257} {8639988449120946153 39 258} {7921470227427242728 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10295 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 7635 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23877 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 31908 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
flag 4988 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 49133 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
flag 13694 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 70075 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 90139 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 50513 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
flag 11524 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 79567 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7921470227427242728 41 260}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3286010625502671916 (index 261) to leader 0
flag 11103 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 80605 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7921470227427242728 41 260} {3286010625502671916 41 261}]
------------------------------------------------------
flag 83303 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 47871 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7921470227427242728 41 260} {3286010625502671916 41 261}]
------------------------------------------------------
client write log 3716595115244431123 (index 262) to leader 0
client write log 5100927463294226999 (index 263) to leader 0
client write log 4620042600917617863 (index 264) to leader 0
client write log 1893871957740570557 (index 265) to leader 0
client write log 7418945496063494390 (index 266) to leader 0
client write log 4738720511775213726 (index 267) to leader 0
client write log 274795674381908022 (index 268) to leader 0
client write log 8710963556935617738 (index 269) to leader 0
client write log 5889606304187203258 (index 270) to leader 0
client write log 7493245570538334695 (index 271) to leader 0
client write log 8238590954893160456 (index 272) to leader 0
client write log 6519193721414294786 (index 273) to leader 0
client write log 205091722163607304 (index 274) to leader 0
client write log 8618880223723716766 (index 275) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 756 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 60749 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 259} {7921470227427242728 41 260} {3286010625502671916 41 261} {3716595115244431123 41 262} {5100927463294226999 41 263} {4620042600917617863 41 264} {1893871957740570557 41 265} {7418945496063494390 41 266} {4738720511775213726 41 267} {274795674381908022 41 268} {8710963556935617738 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 21294 term 41 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 1
client write log 31981632656807725 (index 276) to leader 0
term 41 server 0 not vote for server 1, 日志不够新
term 41 server 2 not vote for server 1, 日志不够新
term 43 server 2 vote for server 0
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 53263 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 61587 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 277->276
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 41880 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
flag 57568 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 50041 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29289 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 91408 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 85208 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 9979 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 96789 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 21206 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 78465 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 4204 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 3948 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 53985 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27752 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 27714 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 5965 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 35016 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 49454 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 26497 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 85450 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 45969 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 79360 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 13134 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 63941 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 90316 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 54547 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 16536 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 68036 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 68240 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 38377 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 55875 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 44087 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 14050 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 1175 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 95820 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
flag 83761 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 73516 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276}]
------------------------------------------------------
client write log 31981632656807725 (index 277) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16280 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
flag 33381 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 40309 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 459 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 4989 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 77232 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
update nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 9556 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 73543 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 22915 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 6124 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 4408 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 53344 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
flag 41007 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 57907 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 40252 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 89623 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 81225 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 73816 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 76697 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 51770 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
flag 83313 term 44 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 1121 term 44 leader 2 nextIndex[1]: 278  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277}]
------------------------------------------------------
client write log 2470426001018750865 (index 278) to leader 2
flag 87549 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 27980 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90789 term 44 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 54797 term 44 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277} {2470426001018750865 44 278}]
------------------------------------------------------
flag 99624 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 94370 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 570 term 44 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 93560 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 44 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277} {2470426001018750865 44 278}]
------------------------------------------------------
flag 21841 term 43 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 94433 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
client write log 4848860284309589175 (index 279) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 278->277
------------------------------------------------------
flag 58383 term 44 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 98850 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 44 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 41 269} {5889606304187203258 41 270} {7493245570538334695 41 271} {8238590954893160456 41 272} {6519193721414294786 41 273} {205091722163607304 41 274} {8618880223723716766 41 275} {31981632656807725 41 276} {31981632656807725 43 277} {2470426001018750865 44 278} {4848860284309589175 44 279}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 277
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 38379 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 278->277
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 23761 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 44 279}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 277
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 16356 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
!!!!!!connect server 0
client write log 466751133337642139 (index 280) to leader 2
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 62985 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 44 rf.commitIndex 279 rf.lastApplied 279
flag 13337 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 62725 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
flag 32314 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 49784 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
flag 85051 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 27175 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
flag 55836 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 62347 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
flag 33254 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 42495 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
flag 58710 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 64959 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
flag 48266 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 30689 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 44 279} {466751133337642139 44 280}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4984455581408482057 (index 281) to leader 2
flag 89131 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 93795 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12231 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
flag 18330 term 44 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 44 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281}]
------------------------------------------------------
client write log 5879804655782910680 (index 282) to leader 2
client write log 7470272407719025897 (index 283) to leader 2
client write log 1872543432469971305 (index 284) to leader 2
client write log 4798852463127217279 (index 285) to leader 2
client write log 4559504732386556758 (index 286) to leader 2
client write log 5896732289508998648 (index 287) to leader 2
client write log 231867001941628711 (index 288) to leader 2
flag 35167 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
flag 14156 term 44 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 44 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288}]
------------------------------------------------------
flag 92334 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 48376 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8865156791341508438 (index 289) to leader 2
flag 60034 term 44 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 81331 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 45 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 47 server 2 vote for server 1
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 1 get outdate rpc reply from server 0
flag 14159 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 68515 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51518 term 47 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 48004 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86512 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 27331 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 35052 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 12257 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99489 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 39910 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 3455 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 4398 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1596 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 39829 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 25988 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 93382 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 63236 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 42154 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 71176 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 45107 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 6127 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 25707 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 17330 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 80371 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80518 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 78298 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23782 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 1479 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5178 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 81953 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
flag 81232 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 63092 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289}]
------------------------------------------------------
client write log 8865156791341508438 (index 290) to leader 1
flag 76074 term 47 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 28968 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 279} {466751133337642139 44 280} {4984455581408482057 44 281} {5879804655782910680 44 282} {7470272407719025897 44 283} {1872543432469971305 44 284} {4798852463127217279 44 285} {4559504732386556758 44 286} {5896732289508998648 44 287} {231867001941628711 44 288} {8865156791341508438 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 90205 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 70216 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
term 47 Server0 start snapshot! index=289
term 47 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 39055 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 61426 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64950 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 42288 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26536 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 22817 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11133 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 74077 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {8865156791341508438 47 290}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9047336522783468154 (index 291) to leader 1
flag 93077 term 47 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
flag 36588 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {8865156791341508438 47 290} {9047336522783468154 47 291}]
------------------------------------------------------
flag 56752 term 47 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 32190 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {8865156791341508438 47 290} {9047336522783468154 47 291}]
------------------------------------------------------
client write log 4408389773246162683 (index 292) to leader 1
client write log 689937765252419314 (index 293) to leader 1
client write log 7948462081646745758 (index 294) to leader 1
client write log 291502644187266599 (index 295) to leader 1
client write log 1328851209659450547 (index 296) to leader 1
client write log 4583807383254151023 (index 297) to leader 1
client write log 1893937332460412097 (index 298) to leader 1
client write log 3770435004284905933 (index 299) to leader 1
client write log 3908147912006484463 (index 300) to leader 1
client write log 6918986840894858287 (index 301) to leader 1
client write log 8325185649622863330 (index 302) to leader 1
client write log 9116908981492063095 (index 303) to leader 1
client write log 6507166597322245846 (index 304) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55885 term 47 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
flag 20636 term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 289} {8865156791341508438 47 290} {9047336522783468154 47 291} {4408389773246162683 47 292} {689937765252419314 47 293} {7948462081646745758 47 294} {291502644187266599 47 295} {1328851209659450547 47 296} {4583807383254151023 47 297} {1893937332460412097 47 298} {3770435004284905933 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304}]
------------------------------------------------------
term 47 Server1 start snapshot! index=299
term 47 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
flag 87244 term 47 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 47 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304}]
------------------------------------------------------
term 47 Server0 start snapshot! index=299
term 47 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5193708964610230392 (index 305) to leader 1
flag 22128 term 47 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 47 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 48 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get outdate rpc reply from server 0
flag 4918 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 83985 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 306->305
------------------------------------------------------
flag 33972 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 291  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 37223 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 87625 term 49 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 49 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2467 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 2208 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 15530 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 62861 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 44662 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 5925 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2146 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 18958 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 92040 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 15042 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8457 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 4900 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 18932 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 57 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 66840 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 29123 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94160 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 89632 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 64975 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 54766 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 82290 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 73993 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 83660 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 86546 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 69176 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 6578 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78620 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 32915 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 82324 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 62348 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
flag 88737 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 7795 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305}]
------------------------------------------------------
client write log 5193708964610230392 (index 306) to leader 1
flag 53203 term 49 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
flag 60887 term 49 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13282 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 52286 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
flag 41236 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 85186 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55725 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 97599 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
flag 94131 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 96030 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
flag 96677 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 3507 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
flag 18907 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 11083 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 68525 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 79839 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 91195 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 21473 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 59717 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 23225 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
flag 74240 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 39799 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306}]
------------------------------------------------------
client write log 7288020060928973735 (index 307) to leader 2
flag 91789 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 15767 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 71890 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 83931 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306} {7288020060928973735 50 307}]
------------------------------------------------------
flag 41811 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 20308 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 69916 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 9604 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306} {7288020060928973735 50 307}]
------------------------------------------------------
client write log 662686534853060502 (index 308) to leader 2
client write log 5773062154455468 (index 309) to leader 2
client write log 9130840631967599159 (index 310) to leader 2
client write log 289386020531274451 (index 311) to leader 2
client write log 4779820565147522475 (index 312) to leader 2
client write log 427960070027411320 (index 313) to leader 2
client write log 881196425131490301 (index 314) to leader 2
client write log 4378650748273412089 (index 315) to leader 2
flag 43575 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 98503 term 49 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 48515 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 40058 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 47 299} {3908147912006484463 47 300} {6918986840894858287 47 301} {8325185649622863330 47 302} {9116908981492063095 47 303} {6507166597322245846 47 304} {5193708964610230392 47 305} {5193708964610230392 49 306} {7288020060928973735 50 307} {662686534853060502 50 308} {5773062154455468 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
term 50 Server2 start snapshot! index=309
term 50 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=315
-------------------------------------------------------------
flag 69379 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33453 term 50 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 50 Server0 start snapshot! index=309
term 50 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2313323043037878044 (index 307) to leader 1
flag 84564 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18217 term 50 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 50 rf.commitIndex 309 rf.lastApplied 309
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 not vote for server 1, 日志不够新
term 50 server 0 not vote for server 1, 日志不够新
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 0 vote for server 2
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 46780 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 83114 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 316->315
------------------------------------------------------
flag 7145 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 80549 term 52 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34174 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 82219 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 652 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 22062 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 26983 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 26126 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 98655 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 54109 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51139 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 73857 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 13517 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 61987 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 95332 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 96003 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33068 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 47032 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 28965 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 53548 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 68535 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 99766 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35633 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 79165 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 39467 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 78858 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
flag 74455 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 87860 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 2848 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 25325 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 14695 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 82892 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
flag 56726 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 6681 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37967 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 5509 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315}]
------------------------------------------------------
client write log 2313323043037878044 (index 316) to leader 2
flag 28316 term 52 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 47323 term 52 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
flag 2098 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 28002 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
flag 94118 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 74980 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98945 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 70418 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
flag 43689 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 97568 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
flag 24939 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 22046 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4684717964563599958 (index 317) to leader 2
flag 25649 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 97853 term 52 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316} {4684717964563599958 52 317}]
------------------------------------------------------
flag 81251 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
flag 50827 term 52 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 52 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316} {4684717964563599958 52 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 727225594873381699 (index 318) to leader 2
client write log 7260322344957633475 (index 319) to leader 2
client write log 8868027013168966219 (index 320) to leader 2
client write log 2371939983556179020 (index 321) to leader 2
client write log 4653720588148265660 (index 322) to leader 2
client write log 1429180996551739098 (index 323) to leader 2
client write log 5662678229102548227 (index 324) to leader 2
client write log 3287627634091122130 (index 325) to leader 2
client write log 6077273463759273526 (index 326) to leader 2
flag 76185 term 52 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
flag 34979 term 52 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 52 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 309} {9130840631967599159 50 310} {289386020531274451 50 311} {4779820565147522475 50 312} {427960070027411320 50 313} {881196425131490301 50 314} {4378650748273412089 50 315} {2313323043037878044 52 316} {4684717964563599958 52 317} {727225594873381699 52 318} {7260322344957633475 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326}]
------------------------------------------------------
term 52 Server2 start snapshot! index=319
term 52 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 80826 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3601370406877794545 (index 327) to leader 2
term 52 server 2 not vote for server 0, 日志不够新
term 52 server 1 not vote for server 0, 日志不够新
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
flag 43223 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 80684 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 328->327
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
term 54 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
flag 26729 term 54 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 83740 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 13824 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 84178 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 84242 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 0
flag 22516 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 13988 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 38219 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 9657 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 70992 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 35128 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 80131 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 4785 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96473 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 14250 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 39040 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 51779 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 32045 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 17074 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 82054 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 16824 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 17492 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 5925 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 33512 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 13971 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 17933 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 36956 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 59960 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 14943 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11604 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 30885 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24658 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 17192 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 73704 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 8204 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327}]
------------------------------------------------------
flag 68772 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 97314 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
client write log 3601370406877794545 (index 328) to leader 2
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45987 term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
flag 78743 term 54 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
flag 9429 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 33679 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38011 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 86212 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86381 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 6851 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
flag 45317 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 61234 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
flag 317 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 37525 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
flag 53017 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 14969 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9190682792679714596 (index 329) to leader 2
flag 28721 term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 38515 term 54 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 54 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 319} {8868027013168966219 52 320} {2371939983556179020 52 321} {4653720588148265660 52 322} {1429180996551739098 52 323} {5662678229102548227 52 324} {3287627634091122130 52 325} {6077273463759273526 52 326} {3601370406877794545 52 327} {3601370406877794545 54 328} {9190682792679714596 54 329}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 95866 term 54 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 329 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 54 329}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3832353742783919732 (index 330) to leader 2
client write log 535051651446504299 (index 331) to leader 2
client write log 2589008602894344637 (index 332) to leader 2
client write log 7799783562890318785 (index 333) to leader 2
client write log 3258272482777071005 (index 334) to leader 2
client write log 8329612401920561075 (index 335) to leader 2
client write log 6074452866433023601 (index 336) to leader 2
client write log 2519946238388378874 (index 337) to leader 2
client write log 1355142744188411536 (index 338) to leader 2
client write log 7266250119844054424 (index 339) to leader 2
client write log 1526351564449734336 (index 340) to leader 2
client write log 2496746035921775410 (index 341) to leader 2
client write log 6279602200141790731 (index 342) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 93842 term 54 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 329 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 329} {3832353742783919732 54 330} {535051651446504299 54 331} {2589008602894344637 54 332} {7799783562890318785 54 333} {3258272482777071005 54 334} {8329612401920561075 54 335} {6074452866433023601 54 336} {2519946238388378874 54 337} {1355142744188411536 54 338} {7266250119844054424 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342}]
------------------------------------------------------
term 54 Server2 start snapshot! index=339
term 54 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 56777 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6353401169874586106 (index 343) to leader 2
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 1 vote for server 2
term 56 server 0 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 2 get outdate rpc reply from server 0
flag 54894 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 40575 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 344->343
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 344->343
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 2416 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
flag 79167 term 56 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 56 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 68676 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 6904 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 64305 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 62037 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 15748 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 37248 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 7119 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 41618 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 2899 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 9296 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 10436 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 33490 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 12547 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 42718 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 56390 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 42394 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 37232 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 92034 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 97476 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 7784 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 16498 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 51500 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 77988 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 87571 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 51338 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 68409 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 81801 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 55145 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 74682 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77416 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 79232 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 93501 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 88964 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
flag 86377 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 16924 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343}]
------------------------------------------------------
client write log 6353401169874586106 (index 344) to leader 2
flag 84499 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 39407 term 56 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
flag 49124 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 7824 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
flag 20436 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 22890 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7144 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 94539 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
flag 72 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 94617 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
flag 76747 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 77412 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
flag 92403 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 88058 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 32867 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 77729 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 67237 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 90475 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 32951 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 19 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 5856 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 87319 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 57 server 0 vote for server 1
term 57 server 1 get vote from server 0
term 57 server 1 become leader
------------------------------------------------------
flag 48148 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 83100 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344}]
------------------------------------------------------
client write log 3303383013400469501 (index 345) to leader 1
flag 57731 term 56 leader 2 nextIndex[0]: 345  matchIndex[0]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 77445 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 15074 term 57 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 14226 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 345->344
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 0  matchIndex[0]: 344
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 81023 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 51821 term 57 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 20772 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345}]
------------------------------------------------------
client write log 5096018302785547528 (index 346) to leader 1
term 56 leader 2 nextIndex[0]: 0  matchIndex[0]: 344
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 19738 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 26913 term 57 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 57 leaderCommit: 345 
------------------------------------------------------
flag 81794 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 345 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346}]
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 0  matchIndex[0]: 344
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 49509 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 39269 term 57 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 57 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 346 
------------------------------------------------------
flag 7248 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3750303684069787328 (index 347) to leader 1
term 56 leader 2 nextIndex[0]: 0  matchIndex[0]: 344
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 21051 term 56 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 56 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 57 server 1 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
term 57 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86172 term 57 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 57 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 57 leaderCommit: 346 
------------------------------------------------------
flag 874 term 57 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21851 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 49374 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
flag 94526 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 36248 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20079 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 72267 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
flag 52001 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 46337 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
flag 36414 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 35785 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
update nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8724124794016989392 (index 348) to leader 1
flag 17250 term 57 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
flag 19082 term 57 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 57 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 57 leaderCommit: 347 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347} {8724124794016989392 57 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 348->347
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53679 term 57 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 57 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 57 leaderCommit: 348 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 0  matchIndex[2]: 347
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347} {8724124794016989392 57 348}]
------------------------------------------------------
client write log 7075113795909853673 (index 349) to leader 1
client write log 1130428581836910285 (index 350) to leader 1
client write log 2890662128600893944 (index 351) to leader 1
client write log 762903508533771978 (index 352) to leader 1
client write log 859637111727357858 (index 353) to leader 1
client write log 5742386565940979925 (index 354) to leader 1
client write log 4334814896703521774 (index 355) to leader 1
client write log 2298701165277704184 (index 356) to leader 1
client write log 8647090610557376772 (index 357) to leader 1
client write log 7498934116640104971 (index 358) to leader 1
client write log 5967452721082611873 (index 359) to leader 1
client write log 4911071138132311375 (index 360) to leader 1
client write log 3604941760153076483 (index 361) to leader 1
flag 92441 term 57 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 57 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 57 leaderCommit: 348 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 0  matchIndex[2]: 347
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 54 339} {1526351564449734336 54 340} {2496746035921775410 54 341} {6279602200141790731 54 342} {6353401169874586106 54 343} {6353401169874586106 56 344} {3303383013400469501 57 345} {5096018302785547528 57 346} {3750303684069787328 57 347} {8724124794016989392 57 348} {7075113795909853673 57 349} {1130428581836910285 57 350} {2890662128600893944 57 351} {762903508533771978 57 352} {859637111727357858 57 353} {5742386565940979925 57 354} {4334814896703521774 57 355} {2298701165277704184 57 356} {8647090610557376772 57 357} {7498934116640104971 57 358} {5967452721082611873 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361}]
------------------------------------------------------
term 57 Server1 start snapshot! index=349
term 57 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=361
-------------------------------------------------------------
term 57 Server1 start snapshot! index=359
term 57 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=361
-------------------------------------------------------------
flag 85613 term 57 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 57 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 0  matchIndex[2]: 347
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361}]
------------------------------------------------------
term 57 Server0 start snapshot! index=349
term 57 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=361
-------------------------------------------------------------
term 57 Server0 start snapshot! index=359
term 57 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=361
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 4514856273107625712 (index 362) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 96751 term 57 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 57 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 0  matchIndex[2]: 347
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 58 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 server 2 vote for server 1
term 59 server 0 vote for server 1
term 59 server 1 get vote from server 2
term 59 server 1 become leader
------------------------------------------------------
term 59 server 1 get outdate rpc reply from server 0
flag 77164 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 45711 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 363->362
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 49829 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 leader 1 nextIndex[2]: 348  matchIndex[2]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 57
------------------------------------------------------
term 59 server 2 InstallSnapshot success
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 57 rf.commitIndex 359 rf.lastApplied 359
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 20024 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 41304 term 59 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 59 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 68437 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 61153 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 21659 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 25115 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 96219 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 18829 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 5620 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 28464 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 32209 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 81820 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 91387 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 24652 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4986 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 28594 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62049 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 57542 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81405 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 6980 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 55829 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 68695 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 not vote for server 2, 任期不够新
term 59 server 2 get outdate rpc reply from server 0
flag 52998 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 12601 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 69189 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 92849 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21515 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 71226 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 1408 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 42416 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 59673 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 62174 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
flag 23343 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 98571 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=363
update matchIndex[2]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=361
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362}]
------------------------------------------------------
client write log 4514856273107625712 (index 363) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43802 term 59 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
flag 11925 term 59 leader 1 nextIndex[2]: 363  matchIndex[2]: 362
term 59 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 57 leaderCommit: 361 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
flag 91825 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 25295 term 59 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59145 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 11194 term 59 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
flag 52211 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 27793 term 59 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
flag 64 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 52255 term 59 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
flag 96104 term 59 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
flag 37155 term 59 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 59 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 59 leaderCommit: 363 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=363
leader log:
[{snapshot 57 359} {4911071138132311375 57 360} {3604941760153076483 57 361} {4514856273107625712 57 362} {4514856273107625712 59 363}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  87.7  3 1977  872923  363
--- PASS: TestSnapshotInstall2D (87.73s)
PASS
