=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 40584 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 38919 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 5134374443737047746 (index 1) to leader 1
flag 81684 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 55555 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
flag 46225 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92114 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
flag 503 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48492 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
flag 53225 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 81360 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
flag 10126 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1259 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
flag 84697 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30614 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5134374443737047746 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2500314529525677401 (index 2) to leader 1
flag 4613 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90988 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5134374443737047746 1 1} {2500314529525677401 1 2}]
------------------------------------------------------
flag 84292 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 52659 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5134374443737047746 1 1} {2500314529525677401 1 2}]
------------------------------------------------------
client write log 6969084990529692371 (index 3) to leader 1
client write log 9103085924351651786 (index 4) to leader 1
client write log 6957474060626454941 (index 5) to leader 1
client write log 5691121316585873565 (index 6) to leader 1
client write log 213439943138730806 (index 7) to leader 1
client write log 6881690186527954410 (index 8) to leader 1
client write log 507600718951267786 (index 9) to leader 1
client write log 7299789196875100931 (index 10) to leader 1
client write log 1728697559577499446 (index 11) to leader 1
flag 22253 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 94253 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {5134374443737047746 1 1} {2500314529525677401 1 2} {6969084990529692371 1 3} {9103085924351651786 1 4} {6957474060626454941 1 5} {5691121316585873565 1 6} {213439943138730806 1 7} {6881690186527954410 1 8} {507600718951267786 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 95498 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11}]
------------------------------------------------------
!!!!!!connect server 2
client write log 340385060591378834 (index 12) to leader 1
term 1 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 65636 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 36105 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 77103 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 54380 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 12247 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 65378 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 56048 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 57088 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 19397 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 62673 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 73704 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 14456 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3604 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 61409 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 15576 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 92850 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 78939 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 23822 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 70697 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 93555 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 72103 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 82382 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 33634 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 62968 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 7699 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 44339 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 70554 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 73457 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 90295 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 42453 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 18509 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 77423 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 12815 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 66820 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 22974 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
flag 59031 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 83821 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12}]
------------------------------------------------------
client write log 340385060591378834 (index 13) to leader 1
flag 15737 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 23832 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 92288 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 37668 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 98586 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 77302 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 48056 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 88039 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 66443 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 6467 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 17472 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 30984 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
flag 7657 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 20325 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 70351 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 70706 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 8665 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 18503 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 12806 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 61021 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 85572 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 30202 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 25100 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 15048 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13}]
------------------------------------------------------
client write log 5694652782691718342 (index 14) to leader 0
flag 31898 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 77647 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 94871 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 85074 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
flag 87197 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 68910 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 22424 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14}]
------------------------------------------------------
client write log 7152937824515454973 (index 15) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7487 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 22369 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 43314 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 40853 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 25359 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 65317 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5722184923041451067 (index 14) to leader 1
flag 72185 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 43046 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 14337 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 13 args.LastIncludedIndex 9
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 59606 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 63096 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60003 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 75151 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36716 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 13955 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45738 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 21380 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 65621 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 61342 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 48062 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 73124 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 82096 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 61066 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 4143 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 8754 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39159 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 68169 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 90122 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 8609 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 49208 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 53480 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91240 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 49962 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 84652 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 91764 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 97093 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 13515 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 32682 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 41239 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 3684 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 90067 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26625 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 44824 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 58300 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 46286 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
flag 8361 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 43544 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15}]
------------------------------------------------------
client write log 5722184923041451067 (index 16) to leader 0
flag 11386 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 22616 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
flag 67461 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 70938 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
flag 46245 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 14549 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
flag 21014 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 96855 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
flag 53353 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 26291 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46037 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 8058 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 1
client write log 1159270785351346740 (index 17) to leader 0
flag 40900 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 74697 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16} {1159270785351346740 4 17}]
------------------------------------------------------
flag 12268 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 59223 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16} {1159270785351346740 4 17}]
------------------------------------------------------
client write log 6395997695812741948 (index 18) to leader 0
client write log 596983864155826030 (index 19) to leader 0
client write log 6361993616975068280 (index 20) to leader 0
client write log 3498625663974987818 (index 21) to leader 0
client write log 4735840762384726399 (index 22) to leader 0
client write log 3252839578588971396 (index 23) to leader 0
client write log 3006550066350170874 (index 24) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50732 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 95518 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {7299789196875100931 1 10} {1728697559577499446 1 11} {340385060591378834 1 12} {340385060591378834 3 13} {5694652782691718342 4 14} {7152937824515454973 4 15} {5722184923041451067 4 16} {1159270785351346740 4 17} {6395997695812741948 4 18} {596983864155826030 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 39403 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2240301650232295578 (index 25) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 36408 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 83873 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 57738 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 26->25
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 82098 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 67848 term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 43431 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
flag 61973 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 4024 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79049 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 96488 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92507 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 3002 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
flag 84453 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 42830 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62554 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 97150 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
flag 24445 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 65948 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1962187070723872995 (index 26) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71733 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 88895 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25} {1962187070723872995 6 26}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84528 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 96354 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25} {1962187070723872995 6 26}]
------------------------------------------------------
client write log 1003019637660990973 (index 27) to leader 0
client write log 6119956205880954147 (index 28) to leader 0
client write log 4823635850775569054 (index 29) to leader 0
client write log 6413465426060079288 (index 30) to leader 0
client write log 1416098560373801954 (index 31) to leader 0
client write log 3790890931251437882 (index 32) to leader 0
flag 13875 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 8435 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 19} {6361993616975068280 4 20} {3498625663974987818 4 21} {4735840762384726399 4 22} {3252839578588971396 4 23} {3006550066350170874 4 24} {2240301650232295578 4 25} {1962187070723872995 6 26} {1003019637660990973 6 27} {6119956205880954147 6 28} {4823635850775569054 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 5433 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8343417285870446282 (index 33) to leader 0
term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 18958 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 57028 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 50300 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 34->33
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 56503 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 73031 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 76860 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63368 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 12774 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 32784 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 4444 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 77140 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 11528 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 64406 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 59147 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79760 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 66363 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 98890 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 48581 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37604 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 49659 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10557 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 74673 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15892 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 76091 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10456 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 90327 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 85748 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 59595 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44913 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 80744 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 63582 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 34301 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 33553 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 76913 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
flag 19550 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 57598 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33}]
------------------------------------------------------
client write log 8343417285870446282 (index 34) to leader 0
flag 54492 term 8 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 19676 term 8 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
flag 28821 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 15510 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
flag 9699 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 90150 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25186 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 12692 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97800 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 58820 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
flag 38560 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 45950 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
flag 36369 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 75872 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88874 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 20603 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 13364 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 68154 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 79951 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 22776 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 74590 term 9 leader 1 nextIndex[0]: 35  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 51288 term 9 leader 1 nextIndex[2]: 35  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1021208457494002545 (index 35) to leader 1
flag 94041 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 72538 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 35->34
------------------------------------------------------
flag 72613 term 9 leader 1 nextIndex[0]: 35  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 33105 term 9 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34} {1021208457494002545 9 35}]
------------------------------------------------------
flag 17211 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 13100 term 9 leader 1 nextIndex[0]: 35  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 30053 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34} {1021208457494002545 9 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
client write log 1274698196958434132 (index 36) to leader 1
client write log 1500861459221003963 (index 37) to leader 1
client write log 3610699501777422130 (index 38) to leader 1
client write log 8152152616909474945 (index 39) to leader 1
client write log 7239307359436697177 (index 40) to leader 1
client write log 4656767998142342092 (index 41) to leader 1
flag 6712 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 31489 term 9 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 29} {6413465426060079288 6 30} {1416098560373801954 6 31} {3790890931251437882 6 32} {8343417285870446282 6 33} {8343417285870446282 8 34} {1021208457494002545 9 35} {1274698196958434132 9 36} {1500861459221003963 9 37} {3610699501777422130 9 38} {8152152616909474945 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41}]
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=41
-------------------------------------------------------------
flag 78272 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 22390 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41}]
------------------------------------------------------
term 9 Server2 start snapshot! index=39
term 9 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8526562112420721648 (index 42) to leader 1
flag 49752 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 92893 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 52752 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 27362 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
flag 71773 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 28935 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
flag 55051 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 7898 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
flag 20766 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 4466 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42351 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 72849 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
flag 72922 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 31133 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88251 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 35958 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2257338554717418443 (index 43) to leader 1
flag 65479 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 78763 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42} {2257338554717418443 9 43}]
------------------------------------------------------
flag 12376 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 72192 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42} {2257338554717418443 9 43}]
------------------------------------------------------
client write log 1940928981528844447 (index 44) to leader 1
client write log 3257612852710471879 (index 45) to leader 1
client write log 8908172651923190427 (index 46) to leader 1
client write log 172586279258353911 (index 47) to leader 1
client write log 6347669903765133080 (index 48) to leader 1
client write log 7803044737334940307 (index 49) to leader 1
client write log 1958019254504936584 (index 50) to leader 1
client write log 3381633106310398844 (index 51) to leader 1
client write log 5145692348640605606 (index 52) to leader 1
client write log 2921844342570273577 (index 53) to leader 1
client write log 1411637767704101094 (index 54) to leader 1
client write log 3763759293859578107 (index 55) to leader 1
flag 34758 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 90538 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 39} {7239307359436697177 9 40} {4656767998142342092 9 41} {8526562112420721648 9 42} {2257338554717418443 9 43} {1940928981528844447 9 44} {3257612852710471879 9 45} {8908172651923190427 9 46} {172586279258353911 9 47} {6347669903765133080 9 48} {7803044737334940307 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=55
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14540 term 9 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6116769861930584502 (index 56) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 90254 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 97715 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96173 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97256 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 40868 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 22789 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 74384 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 92105 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 56991 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 33709 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 11659 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 17142 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 72281 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40092 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 39198 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 45354 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 52913 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61249 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 44684 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 55176 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 24738 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15568 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 82286 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 20286 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 65749 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 78638 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 66936 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3862 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 55238 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50021 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 9568 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 65855 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 14149 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 8484 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 88996 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
flag 99386 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 14868 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56}]
------------------------------------------------------
client write log 6116769861930584502 (index 57) to leader 1
flag 19790 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 86075 term 11 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58787 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 3142 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
flag 79074 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 96877 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
flag 99633 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 23258 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
flag 40474 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 67474 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
flag 4899 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 18671 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7358 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 90203 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3602940258785975711 (index 58) to leader 1
flag 62199 term 11 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
flag 67733 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57} {3602940258785975711 11 58}]
------------------------------------------------------
flag 6264 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 10919 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57} {3602940258785975711 11 58}]
------------------------------------------------------
client write log 6419489528413585228 (index 59) to leader 1
client write log 1846017228933935273 (index 60) to leader 1
client write log 6741464257352312323 (index 61) to leader 1
client write log 2647555941963050257 (index 62) to leader 1
client write log 6135746905931876465 (index 63) to leader 1
client write log 5978286549087455462 (index 64) to leader 1
client write log 4993187501569795930 (index 65) to leader 1
client write log 4906227119366406755 (index 66) to leader 1
client write log 2772243153346864613 (index 67) to leader 1
client write log 3335276317220841097 (index 68) to leader 1
client write log 156190138849402211 (index 69) to leader 1
flag 64086 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 41627 term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 49} {1958019254504936584 9 50} {3381633106310398844 9 51} {5145692348640605606 9 52} {2921844342570273577 9 53} {1411637767704101094 9 54} {3763759293859578107 9 55} {6116769861930584502 9 56} {6116769861930584502 11 57} {3602940258785975711 11 58} {6419489528413585228 11 59} {1846017228933935273 11 60} {6741464257352312323 11 61} {2647555941963050257 11 62} {6135746905931876465 11 63} {5978286549087455462 11 64} {4993187501569795930 11 65} {4906227119366406755 11 66} {2772243153346864613 11 67} {3335276317220841097 11 68} {156190138849402211 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 24225 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1354059540885547681 (index 70) to leader 1
flag 58968 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 0 vote for server 1
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 19282 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 48895 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 71->70
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 62408 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 1436 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 58546 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 89463 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 21452 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 14465 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 61051 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8516 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 10450 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 84278 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 79559 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 47996 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 98438 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53888 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 13391 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16450 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 54282 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 46054 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 5748 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 43789 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 22632 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 35517 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 99050 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19625 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 33190 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 96511 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 92363 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 92282 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 44208 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 68653 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 77358 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
flag 94411 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 23330 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 11 69} {1354059540885547681 11 70}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1354059540885547681 (index 71) to leader 1
flag 50088 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 1829 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85229 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 86758 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
flag 62857 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 98021 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
flag 76838 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 53674 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
flag 21946 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 64090 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
flag 55792 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 15785 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 33052 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 38482 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 14514 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 20003 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 32412 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 62260 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
flag 62766 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 41674 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71}]
------------------------------------------------------
flag 94472 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 56174 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
client write log 2613828030510837239 (index 72) to leader 2
flag 90983 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 29885 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71} {2613828030510837239 14 72}]
------------------------------------------------------
flag 18595 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 73421 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 72->71
------------------------------------------------------
flag 14325 term 14 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 52446 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71} {2613828030510837239 14 72}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 71
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 72153 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
client write log 1523438290751597282 (index 73) to leader 2
client write log 6886786694000807466 (index 74) to leader 2
client write log 3020863216979738588 (index 75) to leader 2
client write log 761657603106851884 (index 76) to leader 2
client write log 2063607164734288387 (index 77) to leader 2
client write log 8639622611627967192 (index 78) to leader 2
client write log 6109337321275311460 (index 79) to leader 2
flag 25554 term 14 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 18280 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {1354059540885547681 11 70} {1354059540885547681 13 71} {2613828030510837239 14 72} {1523438290751597282 14 73} {6886786694000807466 14 74} {3020863216979738588 14 75} {761657603106851884 14 76} {2063607164734288387 14 77} {8639622611627967192 14 78} {6109337321275311460 14 79}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 71
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 61844 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 90281 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 71
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 45379 term 13 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
!!!!!!connect server 1
client write log 8047056751421182442 (index 72) to leader 1
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 72->71
------------------------------------------------------
flag 68418 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 88945 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 99931 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 57224 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 52500 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 2 get outdate rpc reply from server 1
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9444 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 35034 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 241 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 51966 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 24720 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 2976 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 78024 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 92274 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70146 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 34784 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 4210 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 17212 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 7507 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 54289 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 41317 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 85552 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 23924 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 61167 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 11555 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 68072 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
flag 58745 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 77553 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 44532 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50331 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 99693 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 20132 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 72551 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5368 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 96262 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57714 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 40326 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 32547 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 12546 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
client write log 8047056751421182442 (index 80) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 80->79
------------------------------------------------------
flag 69885 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 25134 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 80332 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 17679 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 1325 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 70038 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 64410 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 32495 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 88657 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 43920 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 66617 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 78625 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 17543 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
flag 22629 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 39385 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {8047056751421182442 14 80}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 475247176104634517 (index 81) to leader 2
flag 29442 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 44060 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38471 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 81
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 80 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16053 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 34980 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81}]
------------------------------------------------------
client write log 5774290844690869206 (index 82) to leader 2
client write log 5598414501032313715 (index 83) to leader 2
client write log 3181784954897197537 (index 84) to leader 2
client write log 5180397965532303403 (index 85) to leader 2
client write log 1952597606251765246 (index 86) to leader 2
client write log 594004593932952013 (index 87) to leader 2
client write log 5689942379277561199 (index 88) to leader 2
flag 16372 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 96126 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 80
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 82417 term 14 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7162121388282879220 (index 89) to leader 2
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 80
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 631 term 14 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
flag 92910 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 95535 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 17470 term 16 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 47693 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 50003 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 31195 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 81957 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 63347 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 98281 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 42309 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 64338 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 14561 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60527 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 42890 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 72276 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 33902 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 82079 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 58361 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 39901 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 32271 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 13319 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 59699 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 91049 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 70451 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 71677 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 21350 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 17428 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 83609 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 93028 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 31227 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 64084 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 96537 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15443 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 49834 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
flag 75841 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 34977 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89}]
------------------------------------------------------
client write log 7162121388282879220 (index 90) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77572 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 74476 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {8047056751421182442 14 80} {475247176104634517 14 81} {5774290844690869206 14 82} {5598414501032313715 14 83} {3181784954897197537 14 84} {5180397965532303403 14 85} {1952597606251765246 14 86} {594004593932952013 14 87} {5689942379277561199 14 88} {7162121388282879220 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 414 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 35575 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 Server1 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 36706 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 56089 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
flag 33707 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 90619 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
flag 85113 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 76472 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33259 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 24509 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7162121388282879220 16 90}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2450095611899578879 (index 91) to leader 2
flag 79345 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 54132 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7162121388282879220 16 90} {2450095611899578879 16 91}]
------------------------------------------------------
flag 67422 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 8680 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7162121388282879220 16 90} {2450095611899578879 16 91}]
------------------------------------------------------
client write log 4277652229838386132 (index 92) to leader 2
client write log 1195167690385338165 (index 93) to leader 2
client write log 2962131101215993634 (index 94) to leader 2
client write log 840955737934958888 (index 95) to leader 2
client write log 3198229494722739271 (index 96) to leader 2
client write log 7087229999795343265 (index 97) to leader 2
client write log 61222383700991175 (index 98) to leader 2
client write log 681354886047490799 (index 99) to leader 2
client write log 8700525016660895673 (index 100) to leader 2
client write log 5282849207509608315 (index 101) to leader 2
client write log 5960990450749703490 (index 102) to leader 2
client write log 6239796394668229050 (index 103) to leader 2
client write log 1264169321377472965 (index 104) to leader 2
flag 42591 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 98438 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 14 89} {7162121388282879220 16 90} {2450095611899578879 16 91} {4277652229838386132 16 92} {1195167690385338165 16 93} {2962131101215993634 16 94} {840955737934958888 16 95} {3198229494722739271 16 96} {7087229999795343265 16 97} {61222383700991175 16 98} {681354886047490799 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=104
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 18301 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=104
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7691241333289083597 (index 105) to leader 2
term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 59956 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 0 vote for server 2
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 22723 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 85142 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 106->105
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 24436 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 35511 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 24810 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
flag 63890 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 39928 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
flag 31105 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 62759 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
flag 13013 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 65672 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
flag 88146 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 11053 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
flag 95979 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 15221 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 32140 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 55384 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72229 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 34863 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 51329 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 45403 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
flag 79689 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
flag 41704 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 61990 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105}]
------------------------------------------------------
client write log 932672297246551519 (index 106) to leader 1
flag 12916 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 42426 term 19 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 71315 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106}]
------------------------------------------------------
flag 96217 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 98018 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 18931 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106}]
------------------------------------------------------
client write log 4257660953905143591 (index 107) to leader 1
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93543 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 47698 term 19 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 19 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 59286 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107}]
------------------------------------------------------
flag 60248 term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 10294 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 92537 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8348748473957505282 (index 108) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 106->105
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48045 term 19 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 19 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 30546 term 19 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
flag 44733 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 39183 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
flag 62640 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 108
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 108 args.LastIncludedIndex 99
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
flag 37906 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 40898 term 19 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 19 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10120 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 58746 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
flag 90140 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 77878 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
flag 41039 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 2105 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9030949394743739369 (index 109) to leader 1
flag 48040 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
flag 80967 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8700525016660895673 16 100} {5282849207509608315 16 101} {5960990450749703490 16 102} {6239796394668229050 16 103} {1264169321377472965 16 104} {7691241333289083597 16 105} {932672297246551519 19 106} {4257660953905143591 19 107} {8348748473957505282 19 108} {9030949394743739369 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 99164 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 4835639441824161255 (index 110) to leader 1
client write log 6684647736376059932 (index 111) to leader 1
client write log 3351691625056973466 (index 112) to leader 1
client write log 9138694435142989308 (index 113) to leader 1
client write log 2629836601446071595 (index 114) to leader 1
client write log 1457432702939772194 (index 115) to leader 1
client write log 5307621785716197654 (index 116) to leader 1
client write log 5893526833625271998 (index 117) to leader 1
client write log 6711615500086257372 (index 118) to leader 1
client write log 3279926545804529710 (index 119) to leader 1
client write log 4267242175623514301 (index 120) to leader 1
client write log 4871259174114085565 (index 121) to leader 1
client write log 3649111024907594031 (index 122) to leader 1
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 20234 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 109} {4835639441824161255 19 110} {6684647736376059932 19 111} {3351691625056973466 19 112} {9138694435142989308 19 113} {2629836601446071595 19 114} {1457432702939772194 19 115} {5307621785716197654 19 116} {5893526833625271998 19 117} {6711615500086257372 19 118} {3279926545804529710 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75607 term 19 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 19 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6872473979713237712 (index 123) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 88314 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 22318 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 124->123
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 124->123
------------------------------------------------------
flag 46513 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 99144 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 5733 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 457 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 65241 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 94654 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 33887 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24233 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 62291 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 77487 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 42113 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 59914 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 88076 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35816 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 9879 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92125 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 4775 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 31858 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 89676 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 60885 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 30169 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3722 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 1715 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51428 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 76299 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 36882 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 53826 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 79364 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 85098 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72223 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 71492 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69684 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 23809 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97976 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 85187 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
flag 41894 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 68717 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123}]
------------------------------------------------------
client write log 6872473979713237712 (index 124) to leader 1
flag 42343 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 73056 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58489 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 90753 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97317 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 29918 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
flag 87024 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 81296 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
flag 3153 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 63213 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
flag 92649 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 91031 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
flag 57424 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 59925 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1564186058920488053 (index 125) to leader 1
flag 80653 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 68790 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124} {1564186058920488053 21 125}]
------------------------------------------------------
flag 9360 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 80303 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124} {1564186058920488053 21 125}]
------------------------------------------------------
client write log 1178792770704980277 (index 126) to leader 1
client write log 1658980512983770821 (index 127) to leader 1
client write log 5206908197759531422 (index 128) to leader 1
client write log 2373542793390180483 (index 129) to leader 1
client write log 1425942233888917615 (index 130) to leader 1
client write log 1162796229733998750 (index 131) to leader 1
client write log 7145984524273631162 (index 132) to leader 1
client write log 8964421803132496524 (index 133) to leader 1
client write log 4854354926233292071 (index 134) to leader 1
client write log 4692070231060876256 (index 135) to leader 1
client write log 2068141244053840478 (index 136) to leader 1
client write log 9069173930416179144 (index 137) to leader 1
flag 22541 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 79022 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 119} {4267242175623514301 19 120} {4871259174114085565 19 121} {3649111024907594031 19 122} {6872473979713237712 19 123} {6872473979713237712 21 124} {1564186058920488053 21 125} {1178792770704980277 21 126} {1658980512983770821 21 127} {5206908197759531422 21 128} {2373542793390180483 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
flag 97517 term 21 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 21 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4252701601657175638 (index 138) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 2, 日志不够新
term 21 server 1 not vote for server 2, 日志不够新
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 0
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 2
flag 96532 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 53849 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 139->138
------------------------------------------------------
flag 31008 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 125  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56166 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 22817 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 54325 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 98576 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 45760 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 36597 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 25494 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 50564 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 984 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 27672 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 67340 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 23721 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 30671 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 77184 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76612 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 60850 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 89100 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 95832 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 27521 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 28618 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 21707 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 62942 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 36973 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 53249 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15988 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 6214 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 35175 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 82483 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
flag 56920 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 77460 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34153 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 63179 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2150 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 33597 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87742 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 22253 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138}]
------------------------------------------------------
client write log 4252701601657175638 (index 139) to leader 1
flag 79399 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 28736 term 23 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138} {4252701601657175638 23 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {1425942233888917615 21 130} {1162796229733998750 21 131} {7145984524273631162 21 132} {8964421803132496524 21 133} {4854354926233292071 21 134} {4692070231060876256 21 135} {2068141244053840478 21 136} {9069173930416179144 21 137} {4252701601657175638 21 138} {4252701601657175638 23 139}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13003 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 99326 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 66740 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 46004 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 73652 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 50401 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 33328 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 37926 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 1857 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 38681 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 2 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 2
!!!!!!diconnect server 1
flag 49988 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 35630 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 77072 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 54875 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 86629 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 5884 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 15599 term 23 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 61624 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
flag 39357 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 80617 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 82812 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
client write log 7435188138085501296 (index 140) to leader 0
flag 47445 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 58060 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7435188138085501296 24 140}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 33114 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
flag 32859 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 16186 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {7435188138085501296 24 140}]
------------------------------------------------------
client write log 2773102205448056226 (index 141) to leader 0
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 66671 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 6510 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 68855 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 82526 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 139
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
!!!!!!connect server 1
client write log 1058873753996279357 (index 140) to leader 1
term 23 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 49986 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 52144 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 7622 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 13918 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 33050 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 65292 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 45432 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 64944 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34200 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 21997 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 21056 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 57598 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 99493 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 86046 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 1
flag 25127 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 46189 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 5865 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 46555 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 66102 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 88385 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
leader 0 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 69923 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 83953 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 66219 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 53261 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 141
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 83591 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 141 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 82395 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 84121 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 31797 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 8374 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33494 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 86763 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 23739 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 40229 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 4641 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 70314 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87423 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 40280 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
flag 45745 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 87262 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1058873753996279357 (index 142) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82622 term 24 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 96767 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 61915 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 63362 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 40882 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 64540 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 76716 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 88574 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 2149 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 80103 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 21751 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 83760 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
flag 22417 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 57265 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7901825449388714622 (index 143) to leader 0
flag 15849 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 56041 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142} {7901825449388714622 24 143}]
------------------------------------------------------
flag 18305 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 28283 term 24 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142} {7901825449388714622 24 143}]
------------------------------------------------------
client write log 5024183766592396685 (index 144) to leader 0
client write log 3679553320174433111 (index 145) to leader 0
client write log 8020852316225333445 (index 146) to leader 0
client write log 3642462527079624361 (index 147) to leader 0
client write log 8025393189504458345 (index 148) to leader 0
client write log 446302261920402555 (index 149) to leader 0
client write log 555524340895314731 (index 150) to leader 0
client write log 4233475076694896826 (index 151) to leader 0
flag 80726 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 477 term 24 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 139} {7435188138085501296 24 140} {2773102205448056226 24 141} {1058873753996279357 24 142} {7901825449388714622 24 143} {5024183766592396685 24 144} {3679553320174433111 24 145} {8020852316225333445 24 146} {3642462527079624361 24 147} {8025393189504458345 24 148} {446302261920402555 24 149} {555524340895314731 24 150} {4233475076694896826 24 151}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 94159 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7169339901451242038 (index 152) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 29786 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 17455 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 54232 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 74242 term 26 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 1144 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34913 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 80482 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10399 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 26832 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82327 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 59461 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 5264 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 87371 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 12213 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 28967 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71537 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 86162 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83854 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 47192 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57534 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 84805 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22605 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 97029 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 41154 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 35950 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 92693 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 33508 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 19106 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 8444 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 80622 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 86569 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 96302 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 4643 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 13671 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 33732 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
flag 73253 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 57716 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32273 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 56447 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152}]
------------------------------------------------------
client write log 7169339901451242038 (index 153) to leader 0
flag 24386 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 99134 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
flag 49380 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 9046 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
flag 76287 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 63905 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
flag 92067 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 40865 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
flag 9458 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 19061 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
flag 18893 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 53903 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7750372033069593909 (index 154) to leader 0
flag 30632 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 72042 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153} {7750372033069593909 26 154}]
------------------------------------------------------
flag 83585 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 55671 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153} {7750372033069593909 26 154}]
------------------------------------------------------
client write log 4591739243030159690 (index 155) to leader 0
client write log 3810517934140018829 (index 156) to leader 0
client write log 6581088144992601713 (index 157) to leader 0
client write log 6606562181339598463 (index 158) to leader 0
client write log 2907707648327869766 (index 159) to leader 0
client write log 7370449931123903447 (index 160) to leader 0
client write log 3600903321626364890 (index 161) to leader 0
client write log 5525222238255282792 (index 162) to leader 0
client write log 4994035970269698840 (index 163) to leader 0
client write log 7455172659592064964 (index 164) to leader 0
client write log 463100823831651812 (index 165) to leader 0
client write log 1578007992674707963 (index 166) to leader 0
client write log 4087704105063358879 (index 167) to leader 0
flag 26969 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 98666 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 149} {555524340895314731 24 150} {4233475076694896826 24 151} {7169339901451242038 24 152} {7169339901451242038 26 153} {7750372033069593909 26 154} {4591739243030159690 26 155} {3810517934140018829 26 156} {6581088144992601713 26 157} {6606562181339598463 26 158} {2907707648327869766 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 18280 term 26 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 26 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3136238047817022709 (index 168) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 94755 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 13290 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 47145 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
flag 19159 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 49052 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70300 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 16740 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57414 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 97604 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59948 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 1152 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 78928 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 74360 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 62788 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 92703 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 27951 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 40034 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 47696 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 68586 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 3811 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 96081 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 28511 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 17629 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 42056 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 27942 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 970 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 29789 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 72708 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 98999 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 78665 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 37788 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 7175 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 11380 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 21824 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 47638 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 87045 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 61152 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
flag 24029 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 31396 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168}]
------------------------------------------------------
client write log 3136238047817022709 (index 169) to leader 0
flag 29292 term 28 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 95922 term 28 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 28 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168} {3136238047817022709 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {7370449931123903447 26 160} {3600903321626364890 26 161} {5525222238255282792 26 162} {4994035970269698840 26 163} {7455172659592064964 26 164} {463100823831651812 26 165} {1578007992674707963 26 166} {4087704105063358879 26 167} {3136238047817022709 26 168} {3136238047817022709 28 169}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97413 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 49589 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 80045 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 64488 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 96249 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 45860 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 39946 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 2142 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
flag 58607 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 58841 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 5681 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 61946 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 94646 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 88771 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79126 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 5688 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
flag 37027 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 30612 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
client write log 1810132082285822317 (index 170) to leader 1
flag 88109 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 9999 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 54084 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 56844 term 29 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {1810132082285822317 29 170}]
------------------------------------------------------
flag 95635 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 70078 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 39147 term 29 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {1810132082285822317 29 170}]
------------------------------------------------------
client write log 8697229834598789771 (index 171) to leader 1
client write log 1624521269556427708 (index 172) to leader 1
client write log 4412802915202358092 (index 173) to leader 1
client write log 4326085552980042014 (index 174) to leader 1
client write log 7470687389548909393 (index 175) to leader 1
client write log 5296118414268415555 (index 176) to leader 1
client write log 1263448418845220197 (index 177) to leader 1
client write log 246535463256252917 (index 178) to leader 1
client write log 2241794029344618161 (index 179) to leader 1
client write log 3302736495086847569 (index 180) to leader 1
client write log 8867682100391711413 (index 181) to leader 1
client write log 805176837817904262 (index 182) to leader 1
client write log 4895873134763570519 (index 183) to leader 1
client write log 569914830159297593 (index 184) to leader 1
client write log 3915625913179423913 (index 185) to leader 1
flag 87012 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 2581 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 93027 term 29 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 29 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 28 169} {1810132082285822317 29 170} {8697229834598789771 29 171} {1624521269556427708 29 172} {4412802915202358092 29 173} {4326085552980042014 29 174} {7470687389548909393 29 175} {5296118414268415555 29 176} {1263448418845220197 29 177} {246535463256252917 29 178} {2241794029344618161 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
flag 10398 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 40243 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 25541 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5569312657942855202 (index 186) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19711 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 43476 term 28 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 23841 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
flag 3142 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 1466 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 37617 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 47015 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
flag 86713 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 34227 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
flag 45535 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 42325 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
flag 84996 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 58708 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
flag 15279 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 88288 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
flag 14972 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 70201 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8233713545229769440 (index 187) to leader 1
flag 44428 term 29 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 85238 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186} {8233713545229769440 29 187}]
------------------------------------------------------
flag 77942 term 29 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 78155 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186} {8233713545229769440 29 187}]
------------------------------------------------------
client write log 5943171562392723368 (index 188) to leader 1
client write log 2221744287356030837 (index 189) to leader 1
client write log 8603795054211183280 (index 190) to leader 1
client write log 5579056577023713138 (index 191) to leader 1
client write log 8065197115743465395 (index 192) to leader 1
client write log 6382115702617381821 (index 193) to leader 1
client write log 5721581820647049313 (index 194) to leader 1
client write log 6119772632803722230 (index 195) to leader 1
client write log 276285862280145178 (index 196) to leader 1
client write log 4182708621603300308 (index 197) to leader 1
client write log 4786271105402678672 (index 198) to leader 1
client write log 4210914330307621204 (index 199) to leader 1
client write log 1364791745128648775 (index 200) to leader 1
client write log 5847247185817139403 (index 201) to leader 1
flag 34924 term 29 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 64212 term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 179} {3302736495086847569 29 180} {8867682100391711413 29 181} {805176837817904262 29 182} {4895873134763570519 29 183} {569914830159297593 29 184} {3915625913179423913 29 185} {5569312657942855202 29 186} {8233713545229769440 29 187} {5943171562392723368 29 188} {2221744287356030837 29 189} {8603795054211183280 29 190} {5579056577023713138 29 191} {8065197115743465395 29 192} {6382115702617381821 29 193} {5721581820647049313 29 194} {6119772632803722230 29 195} {276285862280145178 29 196} {4182708621603300308 29 197} {4786271105402678672 29 198} {4210914330307621204 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=201
-------------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
flag 3852 term 29 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=201
-------------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2323698440983825405 (index 202) to leader 1
flag 52885 term 29 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 15798 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 5797 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 203->202
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57050 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 187  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 24782 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 76865 term 31 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 37960 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 31054 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77939 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 41945 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16121 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 39646 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 24211 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 12716 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 80903 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 86363 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39235 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 33756 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63380 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 6593 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 49244 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 81559 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69626 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 96772 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67224 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 59112 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 20750 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 53341 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 42966 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 39431 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98383 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 2143 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 67317 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 63757 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 48792 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 89032 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
flag 93702 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 39008 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202}]
------------------------------------------------------
client write log 2323698440983825405 (index 203) to leader 1
flag 9876 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 25080 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53028 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 17877 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
flag 52435 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 72911 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
flag 16923 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 87774 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52358 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 19003 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
flag 47529 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 97040 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8601757804788509581 (index 204) to leader 1
flag 6584 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 63924 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203} {8601757804788509581 31 204}]
------------------------------------------------------
flag 81949 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 99515 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203} {8601757804788509581 31 204}]
------------------------------------------------------
client write log 6739174255780454265 (index 205) to leader 1
client write log 1735754017000444289 (index 206) to leader 1
client write log 4938170969684254766 (index 207) to leader 1
client write log 6551324427369288317 (index 208) to leader 1
client write log 1136998639728598799 (index 209) to leader 1
client write log 8043179780589646825 (index 210) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54790 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 5172 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 199} {1364791745128648775 29 200} {5847247185817139403 29 201} {2323698440983825405 29 202} {2323698440983825405 31 203} {8601757804788509581 31 204} {6739174255780454265 31 205} {1735754017000444289 31 206} {4938170969684254766 31 207} {6551324427369288317 31 208} {1136998639728598799 31 209} {8043179780589646825 31 210}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
flag 79084 term 31 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3769206314583995638 (index 211) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 12261 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 28531 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 212->211
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 52000 term 33 leader 1 nextIndex[0]: 211  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 58942 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 33755 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18550 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 87519 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 59437 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 53837 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 60760 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 66118 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 79747 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 13892 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 29054 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 60974 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91525 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 9641 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9732 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 27265 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 82354 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 23561 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 68679 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 14010 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62340 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 17065 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 36305 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 9096 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65529 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 29809 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 99051 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 75793 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81775 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 63920 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 1555 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 79765 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 35251 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 46505 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
flag 74426 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 61811 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211}]
------------------------------------------------------
client write log 3769206314583995638 (index 212) to leader 1
flag 85406 term 33 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 23819 term 33 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 20829 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 41307 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 34704 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 66619 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 82185 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 58727 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 59996 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 28857 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 22095 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 33496 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
flag 49454 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 13427 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 20152 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 69024 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 10526 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 52476 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 49613 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 26872 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 40028 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 8059 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 36878 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 20840 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212}]
------------------------------------------------------
client write log 1314072694224029873 (index 213) to leader 2
flag 43819 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 29433 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 94930 term 34 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 88657 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212} {1314072694224029873 34 213}]
------------------------------------------------------
flag 67161 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 66267 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 62590 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 64624 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212} {1314072694224029873 34 213}]
------------------------------------------------------
client write log 8802143590042580031 (index 214) to leader 2
client write log 5393909389793802903 (index 215) to leader 2
client write log 9060127728772981069 (index 216) to leader 2
client write log 571489385658857569 (index 217) to leader 2
client write log 5206795993895566646 (index 218) to leader 2
client write log 3115886225543745015 (index 219) to leader 2
client write log 8792953598885023368 (index 220) to leader 2
client write log 7907184837544687532 (index 221) to leader 2
client write log 455841958229067270 (index 222) to leader 2
client write log 6613709229910833165 (index 223) to leader 2
client write log 3496046556182283455 (index 224) to leader 2
client write log 2051235983504576426 (index 225) to leader 2
client write log 8299365402510849630 (index 226) to leader 2
client write log 2024130252520566611 (index 227) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47526 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 46144 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 17515 term 34 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 97464 term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 209} {8043179780589646825 31 210} {3769206314583995638 31 211} {3769206314583995638 33 212} {1314072694224029873 34 213} {8802143590042580031 34 214} {5393909389793802903 34 215} {9060127728772981069 34 216} {571489385658857569 34 217} {5206795993895566646 34 218} {3115886225543745015 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=227
-------------------------------------------------------------
flag 11789 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 13177 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 35712 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5585057121607752642 (index 213) to leader 1
flag 60599 term 33 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 12761 term 33 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10544 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 29800 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 74199 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 88918 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 5192 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 14808 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 68571 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 47847 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 72234 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 228->227
------------------------------------------------------
flag 74802 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 227
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 227 args.LastIncludedIndex 219
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25586 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 54820 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 62892 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 67926 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 95885 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 40564 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 73936 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 14959 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 38202 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 4412 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 43070 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 69019 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 40976 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 38542 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 29635 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 69516 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 55508 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 19433 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 65879 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 24947 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 32551 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 22268 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 93237 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 80664 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39363 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 13472 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
flag 93278 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 3783 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227}]
------------------------------------------------------
client write log 5585057121607752642 (index 228) to leader 2
flag 44363 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 2485 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
flag 67961 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 3380 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48802 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 5956 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75465 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 98517 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55228 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 83457 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
flag 92924 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 39217 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 443510543364496964 (index 229) to leader 2
flag 3540 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 76485 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 219} {8792953598885023368 34 220} {7907184837544687532 34 221} {455841958229067270 34 222} {6613709229910833165 34 223} {3496046556182283455 34 224} {2051235983504576426 34 225} {8299365402510849630 34 226} {2024130252520566611 34 227} {5585057121607752642 34 228} {443510543364496964 34 229}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 57350 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
client write log 911084666813626962 (index 230) to leader 2
client write log 5278422055571886406 (index 231) to leader 2
client write log 7670696621482702850 (index 232) to leader 2
client write log 2106756775284357050 (index 233) to leader 2
client write log 3677374608346750579 (index 234) to leader 2
client write log 3163401255108078001 (index 235) to leader 2
client write log 6847950763819341985 (index 236) to leader 2
client write log 902975796238730462 (index 237) to leader 2
client write log 7152508214678184363 (index 238) to leader 2
client write log 8160673200727559803 (index 239) to leader 2
client write log 5265920093175169800 (index 240) to leader 2
client write log 3742872941052677871 (index 241) to leader 2
client write log 4706930099739006269 (index 242) to leader 2
client write log 4859179157903578144 (index 243) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 229
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 87236 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 229} {911084666813626962 34 230} {5278422055571886406 34 231} {7670696621482702850 34 232} {2106756775284357050 34 233} {3677374608346750579 34 234} {3163401255108078001 34 235} {6847950763819341985 34 236} {902975796238730462 34 237} {7152508214678184363 34 238} {8160673200727559803 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243}]
------------------------------------------------------
term 34 Server2 start snapshot! index=239
term 34 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 7431 term 34 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243}]
------------------------------------------------------
term 34 Server1 start snapshot! index=239
term 34 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9119187693365463456 (index 244) to leader 2
term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 67724 term 34 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 91623 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 16350 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 245->244
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 229  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 10252 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
flag 92022 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 11478 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
flag 77936 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 44908 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
flag 30281 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 44182 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90946 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 4973 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
flag 5907 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 10109 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
flag 6739 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 4203 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2414236876266657447 (index 245) to leader 2
flag 10912 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
flag 57857 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244} {2414236876266657447 36 245}]
------------------------------------------------------
flag 73370 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 71901 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244} {2414236876266657447 36 245}]
------------------------------------------------------
client write log 7124035536347137467 (index 246) to leader 2
client write log 5697511982090527934 (index 247) to leader 2
client write log 3089288137881091543 (index 248) to leader 2
client write log 6230876198230683879 (index 249) to leader 2
client write log 859404122324507699 (index 250) to leader 2
client write log 5026170134018988692 (index 251) to leader 2
client write log 3084260587590455243 (index 252) to leader 2
client write log 5310750252890698778 (index 253) to leader 2
client write log 4118446568890925589 (index 254) to leader 2
client write log 6632014509058451373 (index 255) to leader 2
client write log 9038219379108914531 (index 256) to leader 2
flag 75078 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 67177 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 34 239} {5265920093175169800 34 240} {3742872941052677871 34 241} {4706930099739006269 34 242} {4859179157903578144 34 243} {9119187693365463456 34 244} {2414236876266657447 36 245} {7124035536347137467 36 246} {5697511982090527934 36 247} {3089288137881091543 36 248} {6230876198230683879 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 56979 term 36 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 36 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9216955412380450307 (index 257) to leader 2
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 80368 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 61769 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 42463 term 38 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
flag 99331 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 74658 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 86843 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 68919 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 2439 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 62265 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 75271 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 66822 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 48456 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 35124 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 71437 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 78212 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52003 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 91054 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 68559 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 10244 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 37258 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 2567 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 70394 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 93643 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2049 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 78882 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 78851 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 16345 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 94692 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 58244 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29796 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 7471 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
flag 60499 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 31270 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4092 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 4446 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 7714 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 16753 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 51179 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 18812 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257}]
------------------------------------------------------
client write log 9216955412380450307 (index 258) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52806 term 38 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 79021 term 38 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 38 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78854 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 12833 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
flag 97767 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 8096 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
flag 28153 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 49262 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
flag 62398 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 1048 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
flag 98647 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 9155 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
flag 94466 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 93959 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 27082 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 85015 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 65369 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 80623 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 46535 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 58703 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 0
term 39 server 1 become leader
------------------------------------------------------
flag 83767 term 39 leader 1 nextIndex[0]: 259  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 21236 term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258}]
------------------------------------------------------
client write log 23021878390088098 (index 259) to leader 1
flag 34227 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 46612 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 78924 term 39 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 39 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 74797 term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 249} {859404122324507699 36 250} {5026170134018988692 36 251} {3084260587590455243 36 252} {5310750252890698778 36 253} {4118446568890925589 36 254} {6632014509058451373 36 255} {9038219379108914531 36 256} {9216955412380450307 36 257} {9216955412380450307 38 258} {23021878390088098 39 259}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 47333 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 36135 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 71573 term 39 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 7981887954051490595 (index 260) to leader 1
flag 18210 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 87598 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 41478 term 39 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7981887954051490595 39 260}]
------------------------------------------------------
flag 19040 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 94973 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 90077 term 39 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 39 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {7981887954051490595 39 260}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2467698580644683223 (index 261) to leader 1
flag 97298 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
flag 29782 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 38 leaderCommit: 258 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39000 term 39 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 39 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46070 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 97855 term 39 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69270 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 1096 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
flag 43427 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 65142 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 72494 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 31446 term 39 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
flag 96415 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 37169 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33975 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 91486 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1294401240026959417 (index 262) to leader 1
flag 98253 term 39 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 14283 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261} {1294401240026959417 39 262}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77365 term 39 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 39 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 87269 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261} {1294401240026959417 39 262}]
------------------------------------------------------
client write log 8978991038696083677 (index 263) to leader 1
client write log 8910848659871688822 (index 264) to leader 1
client write log 8493751756207286481 (index 265) to leader 1
client write log 5518588866255637919 (index 266) to leader 1
client write log 3698399735177400860 (index 267) to leader 1
client write log 5776293830803973381 (index 268) to leader 1
client write log 7471667450026769591 (index 269) to leader 1
client write log 1613453424279947037 (index 270) to leader 1
client write log 369372202884090214 (index 271) to leader 1
client write log 7819986662772228812 (index 272) to leader 1
client write log 6179058773748203882 (index 273) to leader 1
client write log 6306666697276732020 (index 274) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98262 term 39 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 39 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 9992 term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 259} {7981887954051490595 39 260} {2467698580644683223 39 261} {1294401240026959417 39 262} {8978991038696083677 39 263} {8910848659871688822 39 264} {8493751756207286481 39 265} {5518588866255637919 39 266} {3698399735177400860 39 267} {5776293830803973381 39 268} {7471667450026769591 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
flag 77093 term 39 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 39 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274}]
------------------------------------------------------
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2313683333445633039 (index 275) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 16727 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 60577 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25987 term 41 leader 1 nextIndex[0]: 275  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10428 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 68774 term 41 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 41 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21680 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 77510 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 10746 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 55871 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 44371 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 76580 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 11505 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 87442 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 32507 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 56967 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81977 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 3558 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 28281 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 81840 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 26926 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 75989 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 37463 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 81000 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96604 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 79520 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 83978 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 23363 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75381 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 857 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 82632 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 44756 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 61544 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 97919 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17462 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 7562 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79659 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 12002 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
flag 42574 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 55637 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275}]
------------------------------------------------------
client write log 2313683333445633039 (index 276) to leader 1
flag 52528 term 41 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
flag 28309 term 41 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 41 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 39 leaderCommit: 274 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
flag 96427 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 29788 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
flag 37310 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 48056 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
flag 92764 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 43325 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12507 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 30403 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35024 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 29327 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 28562 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 30964 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1111257649518601443 (index 277) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1068 term 41 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 75776 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276} {1111257649518601443 41 277}]
------------------------------------------------------
flag 4085 term 41 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 3065 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276} {1111257649518601443 41 277}]
------------------------------------------------------
client write log 8651245605881608804 (index 278) to leader 1
client write log 663024215086948387 (index 279) to leader 1
client write log 4074167814376053810 (index 280) to leader 1
client write log 3322095565823617414 (index 281) to leader 1
client write log 3235534148591601175 (index 282) to leader 1
client write log 4033064110675694041 (index 283) to leader 1
client write log 664327023552153028 (index 284) to leader 1
client write log 1400871272317028912 (index 285) to leader 1
client write log 4127325007487843160 (index 286) to leader 1
client write log 7153161764724023825 (index 287) to leader 1
client write log 192317654524639034 (index 288) to leader 1
client write log 7070012716212931602 (index 289) to leader 1
client write log 1524426233955150883 (index 290) to leader 1
client write log 633628814686925851 (index 291) to leader 1
client write log 2990897295844941814 (index 292) to leader 1
flag 47874 term 41 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 27891 term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 39 269} {1613453424279947037 39 270} {369372202884090214 39 271} {7819986662772228812 39 272} {6179058773748203882 39 273} {6306666697276732020 39 274} {2313683333445633039 39 275} {2313683333445633039 41 276} {1111257649518601443 41 277} {8651245605881608804 41 278} {663024215086948387 41 279} {4074167814376053810 41 280} {3322095565823617414 41 281} {3235534148591601175 41 282} {4033064110675694041 41 283} {664327023552153028 41 284} {1400871272317028912 41 285} {4127325007487843160 41 286} {7153161764724023825 41 287} {192317654524639034 41 288} {7070012716212931602 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292}]
------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=292
-------------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81361 term 41 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 41 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292}]
------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=292
-------------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8009550581702074158 (index 293) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 26303 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 46968 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 294->293
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
flag 45625 term 43 leader 1 nextIndex[0]: 293  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 277  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 27866 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 70354 term 43 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 43999 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 29136 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 39385 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 1034 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 1210 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 48879 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75725 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 71137 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 25076 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 65348 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 36252 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 41327 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 2734 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 20963 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 15780 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 86291 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 31468 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 3637 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37575 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 92741 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 27847 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 67931 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53274 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 22099 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 68272 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 43956 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 95509 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 4991 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 25863 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 88248 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
flag 75558 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 8236 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90674 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 35459 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293}]
------------------------------------------------------
client write log 8009550581702074158 (index 294) to leader 1
flag 77564 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 47142 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
update nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
flag 37340 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 31030 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
flag 66849 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 3410 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
flag 69193 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 35063 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
flag 2603 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 23914 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35740 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 21729 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
flag 60113 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 5836 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294}]
------------------------------------------------------
!!!!!!diconnect server 1
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 59368 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 65945 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 31496 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 76633 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33961 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 69843 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 295->294
------------------------------------------------------
flag 57863 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
client write log 4728687356900216017 (index 295) to leader 0
flag 13319 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 35396 term 44 leader 0 nextIndex[2]: 295  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295}]
------------------------------------------------------
flag 34280 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 18451 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 19225 term 44 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295}]
------------------------------------------------------
client write log 4276579578626559826 (index 296) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24503 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 59748 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 80240 term 44 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 48664 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 76050 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
flag 53771 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5875663832971833017 (index 295) to leader 1
flag 45673 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82222 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
flag 32337 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 296
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 72071 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 295 args.LastIncludedIndex 289
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2593 term 44 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 59687 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 29760 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 37381 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 41490 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 41706 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 67545 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 92472 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 5831 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 34542 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 54866 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 88215 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 18474 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 72894 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34826 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 47042 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85372 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 24253 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 42789 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 87084 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67225 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 65988 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 35187 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 80385 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 12388 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 31585 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 296
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 49744 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 296 args.LastIncludedIndex 289
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 86037 term 44 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 14541 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 12983 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 31613 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 53337 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 98035 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
flag 528 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 94691 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296}]
------------------------------------------------------
client write log 5875663832971833017 (index 297) to leader 0
flag 78972 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 10962 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21856 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 86027 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
flag 39176 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 56610 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
flag 72388 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 36181 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
flag 69822 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 19204 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
flag 19259 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 31315 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
flag 3661 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 72198 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4751901636141938008 (index 298) to leader 0
flag 78969 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 76419 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297} {4751901636141938008 44 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87156 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
flag 53183 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297} {4751901636141938008 44 298}]
------------------------------------------------------
client write log 5786114960875768931 (index 299) to leader 0
client write log 5336552670020980324 (index 300) to leader 0
client write log 1328693504946505934 (index 301) to leader 0
client write log 2648273703324624647 (index 302) to leader 0
client write log 1705720679289993808 (index 303) to leader 0
client write log 5685680385915759531 (index 304) to leader 0
client write log 2100748372159284680 (index 305) to leader 0
client write log 5291474922185628574 (index 306) to leader 0
client write log 8577609112109799977 (index 307) to leader 0
client write log 1659790249402603073 (index 308) to leader 0
client write log 5721956680551965488 (index 309) to leader 0
client write log 1609988694676093527 (index 310) to leader 0
flag 53843 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
flag 12683 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 41 289} {1524426233955150883 41 290} {633628814686925851 41 291} {2990897295844941814 41 292} {8009550581702074158 41 293} {8009550581702074158 43 294} {4728687356900216017 44 295} {4276579578626559826 44 296} {5875663832971833017 44 297} {4751901636141938008 44 298} {5786114960875768931 44 299} {5336552670020980324 44 300} {1328693504946505934 44 301} {2648273703324624647 44 302} {1705720679289993808 44 303} {5685680385915759531 44 304} {2100748372159284680 44 305} {5291474922185628574 44 306} {8577609112109799977 44 307} {1659790249402603073 44 308} {5721956680551965488 44 309} {1609988694676093527 44 310}]
------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=310
-------------------------------------------------------------
term 44 Server0 start snapshot! index=309
term 44 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 44518 term 44 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 44 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=310
-------------------------------------------------------------
term 44 Server2 start snapshot! index=309
term 44 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 3844175389950916374 (index 311) to leader 0
term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 67363 term 44 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 44 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 13601 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 85895 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 312->311
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 56230 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28613 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 95921 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 29235 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 28085 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 65729 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 58355 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 90246 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 68980 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68273 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 31255 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 79091 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 54267 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 55708 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 48426 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12478 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 53617 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 80326 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 54772 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 2
flag 82768 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 45314 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 77684 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 84731 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71568 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 93994 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 15167 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 62125 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 48916 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 16526 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
flag 83724 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 90529 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 1
flag 10382 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 3673 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3844175389950916374 (index 312) to leader 0
flag 88051 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 427 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68935 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 59336 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
flag 57373 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 65350 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
flag 23717 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 88040 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2065 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 62173 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
flag 21767 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 82997 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
flag 64910 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 12904 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4112861291857925128 (index 313) to leader 0
flag 30801 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 83826 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312} {4112861291857925128 46 313}]
------------------------------------------------------
flag 64865 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 313 
------------------------------------------------------
flag 7218 term 46 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 46 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 46 leaderCommit: 313 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312} {4112861291857925128 46 313}]
------------------------------------------------------
client write log 2690394738414918576 (index 314) to leader 0
client write log 3721826244439331044 (index 315) to leader 0
client write log 5380109626297539862 (index 316) to leader 0
client write log 8533476741132793124 (index 317) to leader 0
client write log 5729433477515565766 (index 318) to leader 0
client write log 5840002907303616695 (index 319) to leader 0
client write log 838476184741720316 (index 320) to leader 0
client write log 586684425285160910 (index 321) to leader 0
client write log 2528817789350609576 (index 322) to leader 0
client write log 5357485350480791420 (index 323) to leader 0
flag 22981 term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 313 
------------------------------------------------------
flag 22538 term 46 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 46 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 46 leaderCommit: 313 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 44 309} {1609988694676093527 44 310} {3844175389950916374 44 311} {3844175389950916374 46 312} {4112861291857925128 46 313} {2690394738414918576 46 314} {3721826244439331044 46 315} {5380109626297539862 46 316} {8533476741132793124 46 317} {5729433477515565766 46 318} {5840002907303616695 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=323
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 32565 term 46 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 46 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3533568546414130103 (index 324) to leader 0
term 46 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 69491 term 46 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 46 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get outdate rpc reply from server 1
flag 71218 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 24633 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 63503 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15132 term 48 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 48 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 45908 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 43324 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 86567 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85035 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 37275 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 30922 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 46886 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 57348 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 20008 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 658 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 25951 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 15817 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 88653 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 18115 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 12468 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 42955 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 36098 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 42569 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 5283 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 67827 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 88450 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 88553 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 59109 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 16823 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 19780 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 54846 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 41177 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83438 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 51246 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 42201 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 98911 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
flag 83322 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 80295 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324}]
------------------------------------------------------
client write log 3533568546414130103 (index 325) to leader 0
flag 53303 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
flag 42203 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 46 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 25171 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 77229 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 19190 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 85676 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 28722 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 4559 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 74329 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 84325 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 48802 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 81314 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
flag 37284 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 5773 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
term 48 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25235 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 83583 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 30242 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 18901 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 42716 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 41614 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 33231 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 42392 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
flag 42010 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 2495 term 49 leader 2 nextIndex[1]: 326  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325}]
------------------------------------------------------
client write log 4871940257148235091 (index 326) to leader 2
flag 46236 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 81369 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 79131 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 17606 term 49 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326}]
------------------------------------------------------
flag 87252 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 58130 term 48 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 326->325
------------------------------------------------------
flag 91370 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
flag 73190 term 49 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 49 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 326 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326}]
------------------------------------------------------
client write log 7171249172990353220 (index 327) to leader 2
flag 71463 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 leader 0 nextIndex[2]: 0  matchIndex[2]: 325
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 62397 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
flag 75043 term 49 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 49 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 326 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17004 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 leader 0 nextIndex[2]: 0  matchIndex[2]: 325
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 58956 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 327 
------------------------------------------------------
flag 99514 term 49 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 49 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 49 leaderCommit: 327 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8024728393819961528 (index 328) to leader 2
flag 82454 term 48 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 48 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 leader 0 nextIndex[2]: 0  matchIndex[2]: 325
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6043 term 49 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 327 
------------------------------------------------------
flag 59560 term 49 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 49 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 49 leaderCommit: 327 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
flag 17072 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 90986 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
flag 6439 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 86652 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
flag 19270 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 13516 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66554 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 82747 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 79194 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 69164 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 783442279682328113 (index 329) to leader 2
flag 64552 term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
flag 52779 term 49 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 49 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 319} {838476184741720316 46 320} {586684425285160910 46 321} {2528817789350609576 46 322} {5357485350480791420 46 323} {3533568546414130103 46 324} {3533568546414130103 48 325} {4871940257148235091 49 326} {7171249172990353220 49 327} {8024728393819961528 49 328} {783442279682328113 49 329}]
------------------------------------------------------
term 49 Server2 start snapshot! index=329
term 49 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 16813 term 49 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 329 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 49 329}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 3555946116108861063 (index 330) to leader 2
client write log 5448249570419837906 (index 331) to leader 2
client write log 126366863249280881 (index 332) to leader 2
client write log 8693029907214681867 (index 333) to leader 2
client write log 634298392352033733 (index 334) to leader 2
client write log 2680696309824963905 (index 335) to leader 2
client write log 4992682886689184465 (index 336) to leader 2
client write log 2192474752033121857 (index 337) to leader 2
client write log 2497946424094609963 (index 338) to leader 2
client write log 2153983068380346736 (index 339) to leader 2
client write log 402152288260972011 (index 340) to leader 2
client write log 2478701912266722919 (index 341) to leader 2
client write log 6934901459748016750 (index 342) to leader 2
client write log 7064298737122910375 (index 343) to leader 2
client write log 4916592011448987823 (index 344) to leader 2
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 63374 term 49 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 329 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 329} {3555946116108861063 49 330} {5448249570419837906 49 331} {126366863249280881 49 332} {8693029907214681867 49 333} {634298392352033733 49 334} {2680696309824963905 49 335} {4992682886689184465 49 336} {2192474752033121857 49 337} {2497946424094609963 49 338} {2153983068380346736 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344}]
------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 98213 term 49 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 49 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 0
client write log 902039689198662122 (index 345) to leader 2
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 9271 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 90961 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 80815 term 51 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
flag 92052 term 51 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 55390 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 96955 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 324 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 12127 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 51635 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8079 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 2264 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 48609 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 64961 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 16858 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 91731 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 84731 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 93259 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99820 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 91595 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77266 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 29048 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
flag 81787 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 7954 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 84022 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 49028 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 54143 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 73004 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34055 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 90529 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 36707 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 62051 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 27990 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 49174 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
flag 79494 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 35557 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35810 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 50439 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345}]
------------------------------------------------------
client write log 902039689198662122 (index 346) to leader 2
flag 46058 term 51 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 81837 term 51 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 51 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 54581 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 35428 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 54483 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 3512 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 35698 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 98879 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 17540 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 80955 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 14127 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 67767 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
flag 92217 term 51 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 61014 term 51 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 51 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {402152288260972011 49 340} {2478701912266722919 49 341} {6934901459748016750 49 342} {7064298737122910375 49 343} {4916592011448987823 49 344} {902039689198662122 49 345} {902039689198662122 51 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  82.2  3 1871  833434  346
--- PASS: TestSnapshotInstall2D (82.18s)
PASS
