=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 47150 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 55972 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1353483289518147293 (index 1) to leader 1
flag 1447 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 94243 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
flag 96835 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46122 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
flag 76126 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74176 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
flag 42601 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62761 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
flag 21992 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18328 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
flag 49859 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 20585 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1353483289518147293 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2050782110203776188 (index 2) to leader 1
flag 61551 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84328 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1353483289518147293 1 1} {2050782110203776188 1 2}]
------------------------------------------------------
flag 77182 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 8929 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1353483289518147293 1 1} {2050782110203776188 1 2}]
------------------------------------------------------
client write log 5948399904734185253 (index 3) to leader 1
client write log 3994983927144977745 (index 4) to leader 1
client write log 1305320596805528937 (index 5) to leader 1
client write log 5910636192980773071 (index 6) to leader 1
client write log 6900619061980637902 (index 7) to leader 1
client write log 5244451720048979580 (index 8) to leader 1
client write log 354979133494327326 (index 9) to leader 1
client write log 4556041425436105913 (index 10) to leader 1
client write log 3062360751347764911 (index 11) to leader 1
client write log 759715441892227850 (index 12) to leader 1
client write log 7182825499931777995 (index 13) to leader 1
client write log 9107162773923546508 (index 14) to leader 1
client write log 3701181799437941382 (index 15) to leader 1
client write log 114693879190291252 (index 16) to leader 1
flag 83053 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 61105 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {1353483289518147293 1 1} {2050782110203776188 1 2} {5948399904734185253 1 3} {3994983927144977745 1 4} {1305320596805528937 1 5} {5910636192980773071 1 6} {6900619061980637902 1 7} {5244451720048979580 1 8} {354979133494327326 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
flag 93752 term 1 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 1 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4403300763126811277 (index 17) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 53768 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 2361 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 18->17
------------------------------------------------------
flag 49115 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 76549 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 90836 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60532 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 41547 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 95325 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 34777 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 58534 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 61699 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 44510 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 58880 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 55571 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 93549 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 11787 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 74955 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 91759 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 22409 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 62528 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 82064 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 29527 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 37979 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 21184 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 72754 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 19862 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 58852 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 63192 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 44176 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 53510 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 6781 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 19227 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 32578 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 33707 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 66302 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 18063 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 44244 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
flag 87268 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 86041 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17}]
------------------------------------------------------
client write log 4403300763126811277 (index 18) to leader 1
flag 82783 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 79143 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
flag 98252 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 67272 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
flag 23011 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 54509 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
flag 95194 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 10593 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
flag 9620 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 7267 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20944 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 85433 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 97677 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 66577 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 4770 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 26886 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 73093 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 54308 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 33565 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 32147 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18}]
------------------------------------------------------
flag 66125 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 40761 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
client write log 3475664236239931037 (index 19) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
flag 58893 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 19692 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4556041425436105913 1 10} {3062360751347764911 1 11} {759715441892227850 1 12} {7182825499931777995 1 13} {9107162773923546508 1 14} {3701181799437941382 1 15} {114693879190291252 1 16} {4403300763126811277 1 17} {4403300763126811277 3 18} {3475664236239931037 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 69470 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 47478 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 7029468371909560925 (index 20) to leader 2
client write log 1340144737336837724 (index 21) to leader 2
client write log 7734698113216727963 (index 22) to leader 2
client write log 567139764138769499 (index 23) to leader 2
client write log 7355839857327076104 (index 24) to leader 2
client write log 7303453327664957666 (index 25) to leader 2
client write log 7173546012569699445 (index 26) to leader 2
client write log 8719417819161622093 (index 27) to leader 2
client write log 3058307554255682389 (index 28) to leader 2
client write log 2279830447589164864 (index 29) to leader 2
client write log 1423298906384348382 (index 30) to leader 2
client write log 2135419789679402869 (index 31) to leader 2
client write log 2589833848921192374 (index 32) to leader 2
client write log 679854672412985802 (index 33) to leader 2
client write log 5827863314372345006 (index 34) to leader 2
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 39785 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 47235 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 19} {7029468371909560925 4 20} {1340144737336837724 4 21} {7734698113216727963 4 22} {567139764138769499 4 23} {7355839857327076104 4 24} {7303453327664957666 4 25} {7173546012569699445 4 26} {8719417819161622093 4 27} {3058307554255682389 4 28} {2279830447589164864 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 47724 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 4149 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 90030 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
!!!!!!connect server 1
client write log 1044297028163783375 (index 19) to leader 1
flag 2391 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 61258 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 7336 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 20569 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 70595 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 169 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 32812 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
flag 68493 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 34
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 34 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27878 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 89145 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 17085 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 16527 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 24416 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 95044 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 96870 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 70755 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 48774 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 39932 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 28689 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 69850 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17186 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 71618 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 30613 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 42990 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
flag 20847 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 34
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 34 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 16781 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 26360 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 18374 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 67039 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 96939 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 73577 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 291 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 49491 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
flag 23727 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 59574 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 7395 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 48083 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34}]
------------------------------------------------------
client write log 1044297028163783375 (index 35) to leader 2
flag 13056 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 72670 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
flag 53336 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 21214 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14826 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 5328 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
flag 87544 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 1598 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
flag 78662 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 68830 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
flag 1640 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 97240 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 81975 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 12592 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
client write log 6520342793831335921 (index 36) to leader 2
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35} {6520342793831335921 4 36}]
------------------------------------------------------
flag 33616 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 74304 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35} {6520342793831335921 4 36}]
------------------------------------------------------
flag 37140 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 54376 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35} {6520342793831335921 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8705032375838813950 (index 37) to leader 2
client write log 8459054865970400420 (index 38) to leader 2
client write log 983933759164228372 (index 39) to leader 2
client write log 5696467183882855573 (index 40) to leader 2
client write log 459090540573574748 (index 41) to leader 2
client write log 4234125250823513946 (index 42) to leader 2
client write log 2298930189300949585 (index 43) to leader 2
client write log 4964571148612884071 (index 44) to leader 2
client write log 2702557680155337383 (index 45) to leader 2
client write log 4066381837755032433 (index 46) to leader 2
client write log 2037996206000077742 (index 47) to leader 2
client write log 8492958725079763580 (index 48) to leader 2
client write log 1954212711779261586 (index 49) to leader 2
client write log 5630748565167925236 (index 50) to leader 2
flag 95055 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 69764 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 29} {1423298906384348382 4 30} {2135419789679402869 4 31} {2589833848921192374 4 32} {679854672412985802 4 33} {5827863314372345006 4 34} {1044297028163783375 4 35} {6520342793831335921 4 36} {8705032375838813950 4 37} {8459054865970400420 4 38} {983933759164228372 4 39} {5696467183882855573 4 40} {459090540573574748 4 41} {4234125250823513946 4 42} {2298930189300949585 4 43} {4964571148612884071 4 44} {2702557680155337383 4 45} {4066381837755032433 4 46} {2037996206000077742 4 47} {8492958725079763580 4 48} {1954212711779261586 4 49} {5630748565167925236 4 50}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=50
-------------------------------------------------------------
term 4 Server2 start snapshot! index=49
term 4 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
flag 33971 term 4 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 4 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {5630748565167925236 4 50}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=50
-------------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2904051725499259990 (index 51) to leader 2
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
flag 3839 term 4 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 4 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 327 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 83075 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 52->51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
flag 11681 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 4 rf.commitIndex 49 rf.lastApplied 49
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 9941 term 6 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 6 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 42114 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25396 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 67 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
flag 93785 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 55313 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
flag 29723 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 80097 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
flag 37815 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 65699 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
flag 26029 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 55403 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 10385 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 75887 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:51 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1002307218772817535 (index 52) to leader 2
flag 5530 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 97234 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51} {1002307218772817535 6 52}]
------------------------------------------------------
flag 50632 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 15726 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51} {1002307218772817535 6 52}]
------------------------------------------------------
client write log 4572758135934725546 (index 53) to leader 2
client write log 272879071992539059 (index 54) to leader 2
client write log 2629781289844623976 (index 55) to leader 2
client write log 7748504031822887071 (index 56) to leader 2
client write log 4251438563720798429 (index 57) to leader 2
client write log 3098653012148078608 (index 58) to leader 2
client write log 1481793284512198371 (index 59) to leader 2
client write log 8633077832898692853 (index 60) to leader 2
flag 55008 term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 71373 term 6 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 6 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 4 49} {5630748565167925236 4 50} {2904051725499259990 4 51} {1002307218772817535 6 52} {4572758135934725546 6 53} {272879071992539059 6 54} {2629781289844623976 6 55} {7748504031822887071 6 56} {4251438563720798429 6 57} {3098653012148078608 6 58} {1481793284512198371 6 59} {8633077832898692853 6 60}]
------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 2131 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 60 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 6 59} {8633077832898692853 6 60}]
------------------------------------------------------
term 6 Server1 start snapshot! index=59
term 6 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2857144743195733673 (index 61) to leader 2
term 6 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 68501 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 60 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 65082 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 362 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 77421 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
flag 40395 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 97101 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
flag 11176 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 58564 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
flag 25732 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 68169 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
flag 62989 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 33852 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7593 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 33852 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
flag 81872 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 37035 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 19805 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 12937 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43116 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 24829 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94657 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 85365 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70449 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 93491 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 65089 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 12187 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 26239 term 9 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 74101 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1860841643909203264 (index 62) to leader 0
flag 39909 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 67981 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 86249 term 9 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 5288 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61} {1860841643909203264 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75765 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 91947 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 13012 term 9 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 53779 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61} {1860841643909203264 9 62}]
------------------------------------------------------
client write log 8554513545486655564 (index 63) to leader 0
client write log 571204159670419996 (index 64) to leader 0
client write log 3992442845622004210 (index 65) to leader 0
client write log 4239382898340999852 (index 66) to leader 0
client write log 6395685207611133728 (index 67) to leader 0
client write log 4982176622677682501 (index 68) to leader 0
client write log 2845997032021357763 (index 69) to leader 0
client write log 467334240179150003 (index 70) to leader 0
client write log 1085567444383168318 (index 71) to leader 0
client write log 7738978602244769886 (index 72) to leader 0
client write log 2556382363386954822 (index 73) to leader 0
client write log 2755524457971288861 (index 74) to leader 0
client write log 1138638933064658609 (index 75) to leader 0
client write log 7008161725575960014 (index 76) to leader 0
client write log 8128072448459259053 (index 77) to leader 0
flag 53922 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 44360 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 9958 term 9 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 31883 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 6 59} {8633077832898692853 6 60} {2857144743195733673 6 61} {1860841643909203264 9 62} {8554513545486655564 9 63} {571204159670419996 9 64} {3992442845622004210 9 65} {4239382898340999852 9 66} {6395685207611133728 9 67} {4982176622677682501 9 68} {2845997032021357763 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=77
-------------------------------------------------------------
flag 77371 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 86362 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16548 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=77
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8397712327315992236 (index 62) to leader 2
flag 14194 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 92623 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 209 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 77859 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 86407 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 86951 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 14506 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 99212 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 67599 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 99208 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 50366 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
flag 64709 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 69
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 77 args.LastIncludedIndex 69
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 22484 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 32699 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 35678 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 35861 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 72755 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 28755 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 89146 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 82850 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55472 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 8963 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 74731 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 47587 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 98701 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 47122 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80954 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 37141 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56527 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 54350 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 3133 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 19784 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 90653 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 93445 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88819 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 57069 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
flag 53107 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 87263 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
flag 72924 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 77
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 77 args.LastIncludedIndex 69
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
client write log 8397712327315992236 (index 78) to leader 0
flag 73486 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 87257 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
flag 78186 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 54682 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
flag 57340 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 78 args.LastIncludedIndex 69
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42901 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 69720 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
flag 89970 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 52789 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49810 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 85748 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
flag 85560 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 96716 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4984269409433622609 (index 79) to leader 0
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
flag 39482 term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 94430 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {467334240179150003 9 70} {1085567444383168318 9 71} {7738978602244769886 9 72} {2556382363386954822 9 73} {2755524457971288861 9 74} {1138638933064658609 9 75} {7008161725575960014 9 76} {8128072448459259053 9 77} {8397712327315992236 9 78} {4984269409433622609 9 79}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 68746 term 9 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 9 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 79 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 79}]
------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 3617200050678240108 (index 80) to leader 0
client write log 4882547692903384971 (index 81) to leader 0
client write log 8715605707264480562 (index 82) to leader 0
client write log 3640208457812658882 (index 83) to leader 0
client write log 5340362409866122515 (index 84) to leader 0
client write log 5708546941997128046 (index 85) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 14273 term 9 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 9 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 79 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85}]
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 12194 term 9 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 9 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4295595391954888077 (index 86) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 70396 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 71692 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 87->86
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 22532 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 64873 term 11 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 11 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 28684 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97575 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 57089 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 49242 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 99082 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 18671 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 36376 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68393 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 9005 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42733 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 82679 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60376 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 6480 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 61640 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 89916 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 19382 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 53289 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3588 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 41278 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 81039 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 65345 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 39619 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 74662 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 88850 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 29291 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2247 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 68190 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 44604 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 67914 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 79207 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 15300 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
flag 41354 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 28230 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86}]
------------------------------------------------------
client write log 4295595391954888077 (index 87) to leader 0
flag 8750 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
flag 61888 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 9 leaderCommit: 85 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
flag 55637 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 5828 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
flag 48543 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 88709 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
flag 71626 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 87563 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67380 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 71778 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
flag 83676 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 89103 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2584828775088202009 (index 88) to leader 0
flag 78381 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 43905 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87} {2584828775088202009 11 88}]
------------------------------------------------------
flag 67145 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 70642 term 11 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87} {2584828775088202009 11 88}]
------------------------------------------------------
client write log 3425855124076877503 (index 89) to leader 0
client write log 7752449840287551125 (index 90) to leader 0
client write log 3246171186399216272 (index 91) to leader 0
client write log 5649213470910973806 (index 92) to leader 0
client write log 5286086741491176618 (index 93) to leader 0
client write log 4772568227653859704 (index 94) to leader 0
client write log 4782519711916782191 (index 95) to leader 0
client write log 759554434178438479 (index 96) to leader 0
flag 99030 term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
flag 7294 term 11 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 9 79} {3617200050678240108 9 80} {4882547692903384971 9 81} {8715605707264480562 9 82} {3640208457812658882 9 83} {5340362409866122515 9 84} {5708546941997128046 9 85} {4295595391954888077 9 86} {4295595391954888077 11 87} {2584828775088202009 11 88} {3425855124076877503 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96}]
------------------------------------------------------
term 11 Server0 start snapshot! index=89
term 11 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 38789 term 11 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 11 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 11 leaderCommit: 96 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96}]
------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5488885245305960967 (index 97) to leader 0
term 11 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 35452 term 11 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 11 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 11 leaderCommit: 96 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 62861 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 75699 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 90415 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 11 rf.commitIndex 89 rf.lastApplied 89
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7549 term 13 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 76770 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
flag 82299 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 39858 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
flag 5315 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 72426 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16459 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 4536 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43561 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 86343 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
flag 60467 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 74054 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88267 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 95688 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 99907 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 53695 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 34336 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 633 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 10970 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 82159 term 14 leader 1 nextIndex[2]: 98  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97}]
------------------------------------------------------
flag 1115 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 15307 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
client write log 9163678995648130482 (index 98) to leader 1
flag 35425 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 97083 term 14 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97} {9163678995648130482 14 98}]
------------------------------------------------------
flag 63342 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 31999 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 28339 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 10343 term 14 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97} {9163678995648130482 14 98}]
------------------------------------------------------
flag 37884 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 53809 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
client write log 4953351344926987056 (index 99) to leader 1
client write log 12575030716426173 (index 100) to leader 1
client write log 7255757561312761790 (index 101) to leader 1
client write log 7885651738367559274 (index 102) to leader 1
client write log 2667537127364269395 (index 103) to leader 1
client write log 4128322266107435669 (index 104) to leader 1
client write log 3595607213788387643 (index 105) to leader 1
client write log 946347759836463610 (index 106) to leader 1
client write log 1953944318310587070 (index 107) to leader 1
client write log 7998620668386964819 (index 108) to leader 1
client write log 2408908814001052762 (index 109) to leader 1
flag 38403 term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 16218 term 14 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 11 89} {7752449840287551125 11 90} {3246171186399216272 11 91} {5649213470910973806 11 92} {5286086741491176618 11 93} {4772568227653859704 11 94} {4782519711916782191 11 95} {759554434178438479 11 96} {5488885245305960967 11 97} {9163678995648130482 14 98} {4953351344926987056 14 99} {12575030716426173 14 100} {7255757561312761790 14 101} {7885651738367559274 14 102} {2667537127364269395 14 103} {4128322266107435669 14 104} {3595607213788387643 14 105} {946347759836463610 14 106} {1953944318310587070 14 107} {7998620668386964819 14 108} {2408908814001052762 14 109}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 14 Server1 start snapshot! index=109
term 14 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 90130 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 36749 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 30608 term 14 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 14 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 109 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 14 109}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6854285152217438777 (index 110) to leader 1
flag 5424 term 13 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 47145 term 13 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 13 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 99129 term 14 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 14 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 109 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
flag 84232 term 14 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 14 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 80232 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
flag 43021 term 14 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 37713 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60993 term 14 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 5073 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37561 term 14 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 40594 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 0 not vote for server 1, 日志不够新
term 14 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 110
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 79948 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 110 args.LastIncludedIndex 109
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 83659 term 14 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 14 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 84413 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5049 term 14 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 12048 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {6854285152217438777 14 110}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3409557403969985677 (index 111) to leader 1
flag 47890 term 14 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 55951 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111}]
------------------------------------------------------
flag 49239 term 14 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 14 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
flag 73306 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111}]
------------------------------------------------------
client write log 1715418156015817932 (index 112) to leader 1
client write log 9122342931711975899 (index 113) to leader 1
client write log 4124286700958465884 (index 114) to leader 1
client write log 2771543108463871638 (index 115) to leader 1
client write log 1222218237398726521 (index 116) to leader 1
client write log 3348746346562894970 (index 117) to leader 1
flag 83928 term 14 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 14 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
flag 81589 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117}]
------------------------------------------------------
flag 19858 term 14 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 14 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 93383 term 14 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4816415507500522567 (index 118) to leader 1
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get outdate rpc reply from server 2
flag 19112 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 59569 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 70308 term 16 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 20625 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 78447 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 79687 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89883 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 95559 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 93213 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 71581 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 83763 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 61130 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 60858 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 76650 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 65887 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 34717 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22244 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 51532 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 60238 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 22326 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 59486 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 83890 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43404 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 6159 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 22934 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 31132 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 24089 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 13244 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 48010 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 43360 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 72190 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 17012 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 33774 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 96533 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 92097 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 6109 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 30119 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 71429 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
flag 8869 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 19498 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118}]
------------------------------------------------------
client write log 4816415507500522567 (index 119) to leader 1
flag 75418 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 71307 term 16 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118} {4816415507500522567 16 119}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 14 109} {6854285152217438777 14 110} {3409557403969985677 14 111} {1715418156015817932 14 112} {9122342931711975899 14 113} {4124286700958465884 14 114} {2771543108463871638 14 115} {1222218237398726521 14 116} {3348746346562894970 14 117} {4816415507500522567 14 118} {4816415507500522567 16 119}]
------------------------------------------------------
term 16 Server1 start snapshot! index=119
term 16 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 21327 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 44619 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 10215 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 74106 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88328 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 12166 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42941 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 72285 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 67699 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 63386 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 29337 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 75306 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
update nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2516316161547529949 (index 120) to leader 1
flag 77109 term 16 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 71609 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {2516316161547529949 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37151 term 16 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 16 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 30528 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {2516316161547529949 16 120}]
------------------------------------------------------
client write log 7192836878073411552 (index 121) to leader 1
client write log 4240357100769635135 (index 122) to leader 1
client write log 508206944405442372 (index 123) to leader 1
client write log 6182676566931917961 (index 124) to leader 1
client write log 7685789877561729687 (index 125) to leader 1
client write log 8262621347045293350 (index 126) to leader 1
client write log 8667959385626920501 (index 127) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31526 term 16 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 16 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 78781 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59327 term 16 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 16 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 55996 term 16 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3819035270790727517 (index 128) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 99822 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 54324 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 129->128
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
flag 46716 term 18 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 95695 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77396 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 80214 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23567 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 70039 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 56750 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 3583 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3341 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 46172 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 20702 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 35526 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71649 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 41695 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 5700 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 41443 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89652 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 63883 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 5711 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 13057 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54432 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 25412 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49774 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 84604 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 76999 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 62246 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 58658 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 25064 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 19038 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 31782 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
flag 36827 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 35957 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40262 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 11670 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36675 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 99457 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128}]
------------------------------------------------------
client write log 3819035270790727517 (index 129) to leader 1
flag 34990 term 18 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 81249 term 18 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128} {3819035270790727517 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {2516316161547529949 16 120} {7192836878073411552 16 121} {4240357100769635135 16 122} {508206944405442372 16 123} {6182676566931917961 16 124} {7685789877561729687 16 125} {8262621347045293350 16 126} {8667959385626920501 16 127} {3819035270790727517 16 128} {3819035270790727517 18 129}]
------------------------------------------------------
term 18 Server1 start snapshot! index=129
term 18 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 67584 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 77632 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 Server0 start snapshot! index=129
term 18 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 18 Server2 start snapshot! index=129
term 18 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 31861 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 3691 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 27449 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 48147 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 35487 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 23448 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 72028 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 3116 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 50527 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 19982 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 92102 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 75437 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 65206 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 80312 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 17240 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 7085 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
client write log 60954305177240229 (index 130) to leader 0
flag 41744 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 24229 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {60954305177240229 19 130}]
------------------------------------------------------
flag 9697 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 80641 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 87308 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 32006 term 19 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {60954305177240229 19 130}]
------------------------------------------------------
client write log 3309269725547772430 (index 131) to leader 0
flag 19167 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 17155 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 6722 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 52780 term 19 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 82528 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 3126 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 39037 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
flag 43294 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
!!!!!!connect server 1
client write log 18498567603278911 (index 130) to leader 1
flag 12725 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 59229 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55645 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
flag 99028 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 63500 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 16206 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10477 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 34526 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 90604 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 34848 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 65846 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 90006 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15261 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 18318 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 86511 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 44677 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 11573 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 44972 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21153 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 70134 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 132->131
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 131
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
flag 47736 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 131 args.LastIncludedIndex 129
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
flag 94373 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 131 args.LastIncludedIndex 129
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
flag 9922 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
flag 84311 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 10917 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 70857 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74958 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 63112 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 85773 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 96182 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 62601 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 26107 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 22183 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 21877 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 55146 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 42541 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68138 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 26755 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
flag 77488 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 56180 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131}]
------------------------------------------------------
client write log 18498567603278911 (index 132) to leader 0
flag 81986 term 19 leader 0 nextIndex[1]: 132  matchIndex[1]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
flag 25503 term 19 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 19 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 19 leaderCommit: 131 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 19910 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 4927 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 86910 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 28510 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 75111 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 12002 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 91080 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 50592 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 9584 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 88841 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
flag 27325 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 37142 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1792908220632142767 (index 133) to leader 0
flag 62121 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 60607 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132} {1792908220632142767 19 133}]
------------------------------------------------------
flag 66768 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 8479 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132} {1792908220632142767 19 133}]
------------------------------------------------------
client write log 4178243812398417468 (index 134) to leader 0
client write log 7342218077336783278 (index 135) to leader 0
client write log 2092896400720612395 (index 136) to leader 0
client write log 7647507429666689651 (index 137) to leader 0
client write log 4220625620928798046 (index 138) to leader 0
client write log 2445987286781644629 (index 139) to leader 0
flag 39244 term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 63712 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 18 129} {60954305177240229 19 130} {3309269725547772430 19 131} {18498567603278911 19 132} {1792908220632142767 19 133} {4178243812398417468 19 134} {7342218077336783278 19 135} {2092896400720612395 19 136} {7647507429666689651 19 137} {4220625620928798046 19 138} {2445987286781644629 19 139}]
------------------------------------------------------
term 19 Server0 start snapshot! index=139
term 19 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 3708 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 139 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 139}]
------------------------------------------------------
term 19 Server2 start snapshot! index=139
term 19 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8196762307661132122 (index 140) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 97422 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 139 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 99904 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 68893 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 141->140
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 133  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 89619 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
term 21 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96098 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 71724 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
flag 33089 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 77727 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
flag 7027 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 13824 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
flag 82151 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 61982 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
flag 13316 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 48425 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
flag 32966 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 96706 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {8196762307661132122 19 140}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2166959153780481774 (index 141) to leader 0
flag 6685 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 57876 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {8196762307661132122 19 140} {2166959153780481774 21 141}]
------------------------------------------------------
flag 54624 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 75344 term 21 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {8196762307661132122 19 140} {2166959153780481774 21 141}]
------------------------------------------------------
client write log 919177878012149071 (index 142) to leader 0
client write log 6186323919381339388 (index 143) to leader 0
client write log 3398803848342904112 (index 144) to leader 0
client write log 3561799804558261853 (index 145) to leader 0
client write log 3768031936084307653 (index 146) to leader 0
client write log 861431060781478145 (index 147) to leader 0
client write log 9009344130150982154 (index 148) to leader 0
client write log 5909291460260865873 (index 149) to leader 0
client write log 871062368094862140 (index 150) to leader 0
client write log 3491509916951965442 (index 151) to leader 0
client write log 7794733907997472100 (index 152) to leader 0
client write log 5559430310879630518 (index 153) to leader 0
flag 12351 term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 98292 term 21 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 19 139} {8196762307661132122 19 140} {2166959153780481774 21 141} {919177878012149071 21 142} {6186323919381339388 21 143} {3398803848342904112 21 144} {3561799804558261853 21 145} {3768031936084307653 21 146} {861431060781478145 21 147} {9009344130150982154 21 148} {5909291460260865873 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 38346 term 21 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 21 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6853233780050562396 (index 154) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 63455 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 16598 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 155->154
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 36884 term 23 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
term 23 server 1 InstallSnapshot success
------------------------------------------------------
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 17913 term 23 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 51723 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 60397 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 95219 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43975 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 29914 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45634 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 95171 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 73617 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 70715 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
flag 1940 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 3116 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 45820 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 80148 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 46079 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 99827 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 19610 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 5574 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91624 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 28718 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93139 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 16021 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 99399 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 55985 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 60788 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 30667 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 43521 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 24551 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76599 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 83889 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86982 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 80110 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 33244 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 98939 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
flag 44523 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 79861 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154}]
------------------------------------------------------
client write log 6853233780050562396 (index 155) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82781 term 23 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
flag 97600 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 153 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 80262 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 52317 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 67334 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 90480 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 9085 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 45747 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 51662 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 55838 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 45578 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 87552 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
flag 6713 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 78258 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 41545 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 52818 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 22718 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 88581 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 63856 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 68121 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 93655 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 46294 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
client write log 994207151766336854 (index 156) to leader 1
flag 95816 term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 5993 term 24 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155} {994207151766336854 24 156}]
------------------------------------------------------
flag 89645 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 93450 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 53962 term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 84255 term 24 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 24 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155} {994207151766336854 24 156}]
------------------------------------------------------
client write log 4141814252066735626 (index 157) to leader 1
client write log 431645664398434105 (index 158) to leader 1
client write log 4866197151620807629 (index 159) to leader 1
client write log 4768821821507239047 (index 160) to leader 1
client write log 6959440665058364526 (index 161) to leader 1
client write log 2498930565011557320 (index 162) to leader 1
client write log 3014561218500855417 (index 163) to leader 1
client write log 7404970634314576949 (index 164) to leader 1
client write log 1333204735162423321 (index 165) to leader 1
client write log 7827881214066883862 (index 166) to leader 1
flag 42422 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 57028 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 3801 term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 24900 term 24 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 24 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 21 149} {871062368094862140 21 150} {3491509916951965442 21 151} {7794733907997472100 21 152} {5559430310879630518 21 153} {6853233780050562396 21 154} {6853233780050562396 23 155} {994207151766336854 24 156} {4141814252066735626 24 157} {431645664398434105 24 158} {4866197151620807629 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
flag 8101 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 72757 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 11972 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4906234370867117519 (index 167) to leader 1
flag 5566 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
flag 38649 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 155 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 95455 term 24 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 24 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 24 leaderCommit: 166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 156->155
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
term 24 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 68854 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 12448 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
flag 12158 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 50299 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
flag 23399 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 33700 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
flag 49694 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 98614 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
flag 63247 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 12307 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
flag 44312 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 52028 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49512 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 96286 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4676283240193154830 (index 168) to leader 1
flag 21295 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
flag 40363 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167} {4676283240193154830 24 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90591 term 24 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 26044 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167} {4676283240193154830 24 168}]
------------------------------------------------------
client write log 8830905789349742638 (index 169) to leader 1
client write log 5546010858214989449 (index 170) to leader 1
client write log 1949131312532009407 (index 171) to leader 1
client write log 6731615945989228348 (index 172) to leader 1
client write log 946024907589631914 (index 173) to leader 1
client write log 3462945569909050377 (index 174) to leader 1
client write log 3651859756457787101 (index 175) to leader 1
flag 12592 term 24 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 73055 term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 159} {4768821821507239047 24 160} {6959440665058364526 24 161} {2498930565011557320 24 162} {3014561218500855417 24 163} {7404970634314576949 24 164} {1333204735162423321 24 165} {7827881214066883862 24 166} {4906234370867117519 24 167} {4676283240193154830 24 168} {8830905789349742638 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26386 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 168->167
------------------------------------------------------
!!!!!!connect server 2
client write log 4039986104155517979 (index 176) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 0 not vote for server 2, 日志不够新
term 24 server 1 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 60106 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 96231 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16918 term 26 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 72385 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 39910 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 11477 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 33279 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 39136 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 75167 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87013 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 75845 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
flag 40843 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 90697 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59684 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 33578 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 1559 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 85453 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82775 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 26066 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 11166 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 79886 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75262 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 214 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54616 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 92965 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 84193 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 41376 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91725 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 17282 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1694 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 84347 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 85880 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 61297 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 52882 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 64067 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 883 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 61775 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
flag 44367 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 15538 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176}]
------------------------------------------------------
client write log 4039986104155517979 (index 177) to leader 1
flag 53954 term 26 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 36655 term 26 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 26 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 91468 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 45836 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 65394 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 14038 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 51012 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 48873 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 23570 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 45173 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 75053 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 51819 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
flag 54940 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 7591 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 43399679655182676 (index 178) to leader 1
flag 35830 term 26 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 8173 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177} {43399679655182676 26 178}]
------------------------------------------------------
flag 31269 term 26 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 26 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 84056 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177} {43399679655182676 26 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6845574590151955761 (index 179) to leader 1
client write log 2286563593704767097 (index 180) to leader 1
client write log 8842040014827669237 (index 181) to leader 1
client write log 4872231218149371054 (index 182) to leader 1
client write log 8145930115895721013 (index 183) to leader 1
client write log 3254616998213529498 (index 184) to leader 1
client write log 7810673369650373797 (index 185) to leader 1
client write log 7873153179676365990 (index 186) to leader 1
client write log 7231216838279940747 (index 187) to leader 1
client write log 1788255053298211734 (index 188) to leader 1
client write log 6840366262158600425 (index 189) to leader 1
flag 47944 term 26 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 26 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 86717 term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 24 169} {5546010858214989449 24 170} {1949131312532009407 24 171} {6731615945989228348 24 172} {946024907589631914 24 173} {3462945569909050377 24 174} {3651859756457787101 24 175} {4039986104155517979 24 176} {4039986104155517979 26 177} {43399679655182676 26 178} {6845574590151955761 26 179} {2286563593704767097 26 180} {8842040014827669237 26 181} {4872231218149371054 26 182} {8145930115895721013 26 183} {3254616998213529498 26 184} {7810673369650373797 26 185} {7873153179676365990 26 186} {7231216838279940747 26 187} {1788255053298211734 26 188} {6840366262158600425 26 189}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71190 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2311136800104435884 (index 190) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 178->177
------------------------------------------------------
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 65536 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 43252 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
flag 91212 term 28 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 98345 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 81470 term 28 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 17661 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 11492 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 46300 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 32675 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 84476 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 50844 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3668 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 58960 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14504 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 99955 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20419 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 2849 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 95360 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 61643 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17371 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 33815 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1829 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 82415 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 34240 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 34810 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 76139 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 86277 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 36626 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 88641 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12227 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 11412 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77330 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 84331 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 62891 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 84144 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
flag 65131 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 86386 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 26 189} {2311136800104435884 26 190}]
------------------------------------------------------
client write log 2311136800104435884 (index 191) to leader 1
flag 52083 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 78777 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
flag 66285 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 23076 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
flag 32324 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 86512 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9756 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 62228 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
flag 96236 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 89354 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
flag 80022 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 82541 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92053 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 80705 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 25144 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 82835 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 60438 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 89384 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
flag 17540 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 22425 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191}]
------------------------------------------------------
client write log 3380706637135057688 (index 192) to leader 2
flag 52515 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 68119 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 15712 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 55446 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191} {3380706637135057688 29 192}]
------------------------------------------------------
flag 42299 term 28 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 23645 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 83452 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 31876 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191} {3380706637135057688 29 192}]
------------------------------------------------------
client write log 977806322440982767 (index 193) to leader 2
client write log 6326719019327994836 (index 194) to leader 2
client write log 4949965987572444644 (index 195) to leader 2
client write log 5513905111429299892 (index 196) to leader 2
client write log 3890741661944054405 (index 197) to leader 2
client write log 5279994421684600264 (index 198) to leader 2
client write log 2020607291853435656 (index 199) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 191
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 66697 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
flag 21545 term 29 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 46489 term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 189} {2311136800104435884 26 190} {2311136800104435884 28 191} {3380706637135057688 29 192} {977806322440982767 29 193} {6326719019327994836 29 194} {4949965987572444644 29 195} {5513905111429299892 29 196} {3890741661944054405 29 197} {5279994421684600264 29 198} {2020607291853435656 29 199}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 191
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 6046 term 28 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 192->191
------------------------------------------------------
flag 51904 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 191
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 191
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
!!!!!!connect server 1
client write log 8649508472036282228 (index 192) to leader 1
flag 64943 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 88426 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 5268 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 38234 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 80198 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 33125 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 85863 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 21145 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 67755 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 48160 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 42693 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 74796 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 61921 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 13449 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 15104 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 80314 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 198 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 9154 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 99196 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 10848 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 2201 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 1174 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 51730 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77567 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 55607 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 64751 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 7591 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 34583 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 53508 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 97336 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 31425 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
flag 18595 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 199 args.LastIncludedIndex 199
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 73102 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 77576 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 9055 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 67898 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51521 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 94651 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
client write log 8649508472036282228 (index 200) to leader 2
flag 22042 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 36157 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
flag 44004 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 23095 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
flag 82992 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 35524 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 56109 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 22567 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34645 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 768 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
flag 22845 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 22410 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
flag 35012 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 4695 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8649508472036282228 29 200}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 256798925356831220 (index 201) to leader 2
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91315 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 87756 term 29 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87396 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 24689 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201}]
------------------------------------------------------
client write log 3714454802383797946 (index 202) to leader 2
client write log 3819134139116819149 (index 203) to leader 2
client write log 8209386690750711439 (index 204) to leader 2
client write log 558154916932976117 (index 205) to leader 2
client write log 8421352199866131109 (index 206) to leader 2
client write log 6420860550817898305 (index 207) to leader 2
client write log 5966275306470169821 (index 208) to leader 2
flag 86063 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 91514 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 209->208
------------------------------------------------------
flag 53072 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 208
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 201 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37721 term 29 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 11633 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2001797241372810910 (index 209) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 209->208
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 201->200
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 200
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 208
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 208 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 42468 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 76554 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 210->209
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5144 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 89831 term 31 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 76300 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 94887 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 56927 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 78338 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 31878 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 81548 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 34256 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 15073 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45616 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 70388 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 30997 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 90114 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 18593 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 33746 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 56293 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 10435 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 91134 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 93591 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43808 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 10044 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 4902 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 25676 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 71218 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 30034 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 89361 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 19194 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
flag 58930 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 99815 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
term 31 server 0 get outdate rpc reply from server 1
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 84874 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 19967 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38806 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 95208 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
flag 82531 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 38317 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=208
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209}]
------------------------------------------------------
client write log 2001797241372810910 (index 210) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42704 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 97557 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 199} {8649508472036282228 29 200} {256798925356831220 29 201} {3714454802383797946 29 202} {3819134139116819149 29 203} {8209386690750711439 29 204} {558154916932976117 29 205} {8421352199866131109 29 206} {6420860550817898305 29 207} {5966275306470169821 29 208} {2001797241372810910 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
flag 80801 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 86424 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 Server1 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
flag 43858 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 88492 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
flag 59963 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 79453 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
flag 72668 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 93020 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
flag 23814 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 44555 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 2989 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 37043 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
client write log 659151311316691500 (index 211) to leader 2
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {2001797241372810910 31 210} {659151311316691500 31 211}]
------------------------------------------------------
flag 70525 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 12955 term 31 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2001797241372810910 31 210} {659151311316691500 31 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32130 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 66509 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2001797241372810910 31 210} {659151311316691500 31 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3676969397752381089 (index 212) to leader 2
client write log 1135444933835587224 (index 213) to leader 2
client write log 7300627067587156804 (index 214) to leader 2
client write log 6440447032649324545 (index 215) to leader 2
client write log 1477230602826641684 (index 216) to leader 2
client write log 5889925932146639889 (index 217) to leader 2
client write log 5709255758496417938 (index 218) to leader 2
client write log 3058871419661465706 (index 219) to leader 2
client write log 7213260197435538039 (index 220) to leader 2
client write log 3787821907484399483 (index 221) to leader 2
client write log 1689115060259929252 (index 222) to leader 2
client write log 8885787164070787579 (index 223) to leader 2
flag 4132 term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 72140 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 29 209} {2001797241372810910 31 210} {659151311316691500 31 211} {3676969397752381089 31 212} {1135444933835587224 31 213} {7300627067587156804 31 214} {6440447032649324545 31 215} {1477230602826641684 31 216} {5889925932146639889 31 217} {5709255758496417938 31 218} {3058871419661465706 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223}]
------------------------------------------------------
term 31 Server2 start snapshot! index=219
term 31 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 97031 term 31 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 31 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7595708322068029488 (index 224) to leader 2
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 210
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 76431 term 31 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 31 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 0 vote for server 2
term 33 server 2 get outdate rpc reply from server 0
flag 98849 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 23716 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 49180 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 89586 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 3816 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 6281 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 75547 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 62285 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 61845 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 4794 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 28377 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 57580 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 12150 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
flag 6027 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 18558 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 4048 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 83552 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 58276 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 31951 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 55445 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 39643 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
flag 15524 term 34 leader 1 nextIndex[0]: 225  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 10988 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224}]
------------------------------------------------------
client write log 8870108878418188088 (index 225) to leader 1
flag 21916 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 57629 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 74662 term 34 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 63030 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225}]
------------------------------------------------------
flag 8183 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 93965 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 62687 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 74538 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225}]
------------------------------------------------------
client write log 3775699972183718574 (index 226) to leader 1
flag 10271 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 76242 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 225->224
------------------------------------------------------
flag 73305 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226}]
------------------------------------------------------
flag 80556 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
flag 94750 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
flag 84920 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226}]
------------------------------------------------------
!!!!!!connect server 2
client write log 9000329172076690439 (index 227) to leader 1
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 224
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 58436 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10009 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 224 args.LastIncludedIndex 219
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
flag 92331 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 85226 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
term 34 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63046 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 7706 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
flag 94993 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 53128 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
flag 95960 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 29692 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
flag 77521 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 33519 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
flag 94642 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 15633 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4585562646735636379 (index 228) to leader 1
flag 11526 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 92626 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227} {4585562646735636379 34 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63415 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 90879 term 34 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227} {4585562646735636379 34 228}]
------------------------------------------------------
client write log 1897417191574300356 (index 229) to leader 1
client write log 2095844004965443758 (index 230) to leader 1
client write log 9025886815080251431 (index 231) to leader 1
client write log 7461904874396905920 (index 232) to leader 1
client write log 3500083468604520104 (index 233) to leader 1
client write log 5645875459701588802 (index 234) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
flag 60411 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 10895 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 219} {7213260197435538039 31 220} {3787821907484399483 31 221} {1689115060259929252 31 222} {8885787164070787579 31 223} {7595708322068029488 31 224} {8870108878418188088 34 225} {3775699972183718574 34 226} {9000329172076690439 34 227} {4585562646735636379 34 228} {1897417191574300356 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
flag 56119 term 34 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9163240260654292478 (index 235) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get outdate rpc reply from server 0
flag 61585 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 86343 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 236->235
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14554 term 36 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
term 36 server 2 InstallSnapshot success
------------------------------------------------------
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 51907 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 49190 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17839 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 15898 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91875 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 51384 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 53062 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 31643 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 38869 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 6703 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 17952 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 96714 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 747 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 96814 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44087 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 56305 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 32466 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 39580 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48090 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 25162 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 43747 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 54317 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 14479 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 84240 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 16270 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 53571 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 99035 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 35939 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 65378 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 36796 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27616 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 23965 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
flag 7490 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 17343 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235}]
------------------------------------------------------
client write log 9163240260654292478 (index 236) to leader 1
flag 99482 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 58370 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45175 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 34974 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75901 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 74647 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
flag 23431 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 44865 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
flag 70277 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 47290 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
flag 92544 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 2329 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
flag 63624 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 18812 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3981947622520406163 (index 237) to leader 1
flag 31435 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 507 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236} {3981947622520406163 36 237}]
------------------------------------------------------
flag 12827 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 29134 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236} {3981947622520406163 36 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1898179339333242887 (index 238) to leader 1
client write log 7327451945241740500 (index 239) to leader 1
client write log 4708754605774829665 (index 240) to leader 1
client write log 4580657258126491525 (index 241) to leader 1
client write log 2257686641367230575 (index 242) to leader 1
client write log 2974160229833876061 (index 243) to leader 1
client write log 6136705540221729451 (index 244) to leader 1
client write log 7796320977904160523 (index 245) to leader 1
flag 37416 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 33593 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 229} {2095844004965443758 34 230} {9025886815080251431 34 231} {7461904874396905920 34 232} {3500083468604520104 34 233} {5645875459701588802 34 234} {9163240260654292478 34 235} {9163240260654292478 36 236} {3981947622520406163 36 237} {1898179339333242887 36 238} {7327451945241740500 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=245
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87433 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6047147288175038259 (index 246) to leader 1
flag 44427 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 47093 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 68374 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 247->246
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57385 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 50912 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 53341 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98180 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 53880 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28052 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 93363 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 53103 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 90218 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
flag 57963 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 12840 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 80667 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 46364 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 89279 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 10442 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41049 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 39570 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 95929 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 41385 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
flag 74379 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 78338 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26315 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 72271 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 79410 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 5714 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 27664 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 90022 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 32387 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 15539 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 94467 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 90585 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 11008 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 98812 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
flag 95869 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 21950 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246}]
------------------------------------------------------
client write log 6047147288175038259 (index 247) to leader 1
flag 49058 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 25445 term 38 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83434 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 16202 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
flag 66330 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 78344 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
flag 58642 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 72789 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 92329 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 84553 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30908 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 7666 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 72231 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 61188 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 69076 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 6583 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 33277 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 31021 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 19993 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 7420 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
flag 12233 term 39 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 95735 term 39 leader 0 nextIndex[2]: 248  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247}]
------------------------------------------------------
client write log 2997987687137725619 (index 248) to leader 0
flag 55384 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 86453 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 71150 term 39 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 72577 term 39 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247} {2997987687137725619 39 248}]
------------------------------------------------------
flag 21890 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 44387 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 37029 term 39 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 76150 term 39 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247} {2997987687137725619 39 248}]
------------------------------------------------------
flag 4274 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 18662 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
client write log 7658242655959628425 (index 249) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29681 term 39 leader 0 nextIndex[1]: 248  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 59776 term 39 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {4708754605774829665 36 240} {4580657258126491525 36 241} {2257686641367230575 36 242} {2974160229833876061 36 243} {6136705540221729451 36 244} {7796320977904160523 36 245} {6047147288175038259 36 246} {6047147288175038259 38 247} {2997987687137725619 39 248} {7658242655959628425 39 249}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 30164 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
flag 89752 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 248->247
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 80756 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 247
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 40740 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 247 
------------------------------------------------------
!!!!!!connect server 1
client write log 8440354369465945473 (index 248) to leader 1
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 16007 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 61883 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 94204 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83221 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 45070 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 45320 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 90873 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 47616 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 61045 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 71274 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 54528 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 81965 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 61510 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 43939 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 74562 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 19841 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 54531 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 73790 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 55675 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 24650 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 97077 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 30663 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 99660 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95902 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 52936 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 16084 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 81858 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
flag 36652 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 17650 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 61259 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 24925 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 3686 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 16100 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 70242 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 12068 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95359 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 83803 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20786 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 51874 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
client write log 8440354369465945473 (index 250) to leader 0
flag 98179 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 61410 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76917 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 97626 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
flag 97672 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 54069 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
flag 17083 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 13925 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 251->250
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 250
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 34516 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 250 args.LastIncludedIndex 249
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 49203 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 11205 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
flag 13913 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 45840 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {8440354369465945473 39 250}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6344370504469759407 (index 251) to leader 0
flag 23061 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 97934 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54655 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 34168 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251}]
------------------------------------------------------
client write log 289074456381591590 (index 252) to leader 0
client write log 7017478858302977397 (index 253) to leader 0
client write log 964280320698049798 (index 254) to leader 0
client write log 8141735273332295134 (index 255) to leader 0
client write log 2030996343625714335 (index 256) to leader 0
client write log 8451333700950905502 (index 257) to leader 0
flag 42330 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 33852 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257}]
------------------------------------------------------
flag 77766 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 77772 term 39 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 39 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2094617276559553720 (index 258) to leader 0
flag 96123 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 56987 term 39 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 39 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 not vote for server 1, 日志不够新
term 40 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 1
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 2
flag 73229 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 2054 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 259->258
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91847 term 42 leader 0 nextIndex[1]: 251  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 8610 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
flag 98897 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 96700 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
flag 93763 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 26325 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71727 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 91289 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
flag 52057 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 84940 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84425 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 6600 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
flag 66069 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 74751 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7925541798125941633 (index 259) to leader 0
flag 23059 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 66241 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {8440354369465945473 39 250} {6344370504469759407 39 251} {289074456381591590 39 252} {7017478858302977397 39 253} {964280320698049798 39 254} {8141735273332295134 39 255} {2030996343625714335 39 256} {8451333700950905502 39 257} {2094617276559553720 39 258} {7925541798125941633 42 259}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 50642 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 5617323895036692479 (index 260) to leader 0
client write log 1868844396486526929 (index 261) to leader 0
client write log 1395521623328758100 (index 262) to leader 0
client write log 6623574239039193069 (index 263) to leader 0
client write log 237663783577637085 (index 264) to leader 0
client write log 3808988232449361447 (index 265) to leader 0
client write log 2537939934868796512 (index 266) to leader 0
client write log 5230212666761597832 (index 267) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 8019 term 42 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 75256 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4132485988557196945 (index 268) to leader 0
term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 32779 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 61160 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 68051 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 51921 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 42 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 38745 term 44 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 44 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 46388 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
flag 84460 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 16931 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
flag 72539 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 70391 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
flag 61660 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 75947 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91868 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 18798 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27496 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 21949 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 79063 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 57297 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 45269 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 74740 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 55939 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 51572 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
flag 34160 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 47885 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268}]
------------------------------------------------------
flag 78074 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 95783 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4009945716987807401 (index 269) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44315 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 63226 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 42 259} {5617323895036692479 42 260} {1868844396486526929 42 261} {1395521623328758100 42 262} {6623574239039193069 42 263} {237663783577637085 42 264} {3808988232449361447 42 265} {2537939934868796512 42 266} {5230212666761597832 42 267} {4132485988557196945 42 268} {4009945716987807401 45 269}]
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 3456 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 94810 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 18932 term 45 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 Server1 start snapshot! index=269
term 45 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 54521 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 85509 term 44 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
client write log 1736654989599437092 (index 270) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 269->268
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 34351 term 45 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {1736654989599437092 45 270}]
------------------------------------------------------
flag 62953 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 268
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 27754 term 45 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 45 269} {1736654989599437092 45 270}]
------------------------------------------------------
flag 23096 term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 268
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
!!!!!!connect server 0
client write log 4096424918130352900 (index 271) to leader 2
term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 5468 term 45 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 45 rf.commitIndex 269 rf.lastApplied 269
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69031 term 45 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 86652 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89688 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 44287 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 日志不够新
term 45 server 2 get outdate rpc reply from server 0
flag 5367 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 72688 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
flag 60070 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 65828 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
flag 24913 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 65535 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
flag 12721 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 62770 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6862742983650965220 (index 272) to leader 2
flag 48618 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
flag 83938 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271} {6862742983650965220 45 272}]
------------------------------------------------------
flag 9195 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 70158 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271} {6862742983650965220 45 272}]
------------------------------------------------------
client write log 3040823492160219544 (index 273) to leader 2
client write log 8213316454613161714 (index 274) to leader 2
client write log 3244929352005522918 (index 275) to leader 2
client write log 8485968056600425290 (index 276) to leader 2
client write log 8336426248866087058 (index 277) to leader 2
client write log 7208456976527326335 (index 278) to leader 2
client write log 3943878824338771082 (index 279) to leader 2
client write log 3685676289397067922 (index 280) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10266 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 21379 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 45 269} {1736654989599437092 45 270} {4096424918130352900 45 271} {6862742983650965220 45 272} {3040823492160219544 45 273} {8213316454613161714 45 274} {3244929352005522918 45 275} {8485968056600425290 45 276} {8336426248866087058 45 277} {7208456976527326335 45 278} {3943878824338771082 45 279} {3685676289397067922 45 280}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 68102 term 45 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280}]
------------------------------------------------------
term 45 Server1 start snapshot! index=279
term 45 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7251145707687742411 (index 281) to leader 2
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 0
flag 27805 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 26966 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 282->281
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 49399 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
flag 34710 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 3347 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 7087 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 65038 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 58497 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 75440 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 4169 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 36023 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 57575 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 60662 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 35803 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 4217 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 82575 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 61424 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 70927 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 88926 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 20613 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 33030 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94626 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 48806 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 20222 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 43250 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76814 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 14194 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87525 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 65222 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 237 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 25440 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 16787 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 73512 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
flag 64429 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 34058 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55139 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 44228 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281}]
------------------------------------------------------
client write log 7251145707687742411 (index 282) to leader 2
flag 89091 term 47 leader 2 nextIndex[0]: 282  matchIndex[0]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 91219 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29344 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 83538 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
flag 28965 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 80601 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57392 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 53402 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
flag 8755 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 17609 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
flag 74871 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 80289 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8936730789478994042 (index 283) to leader 2
flag 51721 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
flag 81775 term 47 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282} {8936730789478994042 47 283}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43061 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 18461 term 47 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282} {8936730789478994042 47 283}]
------------------------------------------------------
client write log 4765688761323739478 (index 284) to leader 2
client write log 5518253762892571930 (index 285) to leader 2
client write log 1148565833755328987 (index 286) to leader 2
client write log 8354928760521451060 (index 287) to leader 2
client write log 3967833034201884810 (index 288) to leader 2
client write log 3363277679003661392 (index 289) to leader 2
client write log 9048592632845101369 (index 290) to leader 2
client write log 5491804732700619970 (index 291) to leader 2
client write log 4814267406906993512 (index 292) to leader 2
client write log 2424226320683481351 (index 293) to leader 2
client write log 7072674918492292003 (index 294) to leader 2
client write log 4090113798318598955 (index 295) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56674 term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 42443 term 47 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 45 279} {3685676289397067922 45 280} {7251145707687742411 45 281} {7251145707687742411 47 282} {8936730789478994042 47 283} {4765688761323739478 47 284} {5518253762892571930 47 285} {1148565833755328987 47 286} {8354928760521451060 47 287} {3967833034201884810 47 288} {3363277679003661392 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295}]
------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=295
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 15964 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=295
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7791321844688811801 (index 296) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 0
flag 29718 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 95007 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 297->296
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 3661 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 59686 term 49 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 86956 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 18439 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 14667 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20054 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 87359 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 8193 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 62498 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37827 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 34231 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53903 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 17815 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 13999 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 68711 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73946 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 74664 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 35489 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 90301 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 27134 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 83129 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 58754 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 77338 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 21773 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 56552 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78293 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 15836 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 77158 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 23835 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33545 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 45949 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40197 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 72814 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
flag 88909 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 70679 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7791321844688811801 (index 297) to leader 2
flag 2402 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 5105 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
flag 75405 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 9007 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
flag 8891 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 38322 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70689 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 98934 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88627 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 15691 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
flag 39232 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 96365 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
flag 24885 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 95086 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
!!!!!!diconnect server 2
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2551 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 97657 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74045 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 92173 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 67740 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 45090 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 298->297
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 1
term 50 server 0 become leader
------------------------------------------------------
flag 76514 term 50 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 98867 term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297}]
------------------------------------------------------
client write log 1729366982950856720 (index 298) to leader 0
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 43359 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 45608 term 50 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 37773 term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297} {1729366982950856720 50 298}]
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 9328 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 86054 term 50 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 6972 term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297} {1729366982950856720 50 298}]
------------------------------------------------------
client write log 1960114487028615925 (index 299) to leader 0
client write log 3156741066727638989 (index 300) to leader 0
client write log 5549478108283041991 (index 301) to leader 0
client write log 9126680543574364798 (index 302) to leader 0
client write log 3700170499324034289 (index 303) to leader 0
client write log 1807804345920975681 (index 304) to leader 0
client write log 1708770487361445071 (index 305) to leader 0
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 38172 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 68648 term 50 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
flag 25803 term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 47 289} {9048592632845101369 47 290} {5491804732700619970 47 291} {4814267406906993512 47 292} {2424226320683481351 47 293} {7072674918492292003 47 294} {4090113798318598955 47 295} {7791321844688811801 47 296} {7791321844688811801 49 297} {1729366982950856720 50 298} {1960114487028615925 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 Server0 start snapshot! index=299
term 50 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 44961 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 51813 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9210573815836155122 (index 298) to leader 2
term 49 leader 2 nextIndex[0]: 0  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 49268 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1188 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66902 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 79597 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 50862 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 84403 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 71785 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 94210 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 75019 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 51521 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39060 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 43345 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 8379 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 94365 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 85450 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 67248 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 82980 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 42464 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 45508 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 37746 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 63878 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 52824 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 27581 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 65762 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 306->305
------------------------------------------------------
flag 47984 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 305
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 2 InstallSnapshot fail
rf.commitIndex 305 args.LastIncludedIndex 299
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 52412 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 6007 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 306->305
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68439 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 305
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 2 InstallSnapshot fail
rf.commitIndex 305 args.LastIncludedIndex 299
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 62583 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 59194 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 14443 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 15557 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59282 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 61643 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
flag 57723 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 25311 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 306->305
------------------------------------------------------
flag 9226 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 305
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 2 InstallSnapshot fail
rf.commitIndex 305 args.LastIncludedIndex 299
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305}]
------------------------------------------------------
client write log 9210573815836155122 (index 306) to leader 0
flag 2677 term 50 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 62023 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
flag 64534 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 71977 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
flag 15965 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 77940 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
flag 84454 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 99630 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
flag 44867 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 43819 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
flag 15755 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 34890 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
flag 10986 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 98274 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3169454566203342696 (index 307) to leader 0
flag 44685 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 46582 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306} {3169454566203342696 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 94516 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306} {3169454566203342696 50 307}]
------------------------------------------------------
client write log 1887965510281329413 (index 308) to leader 0
client write log 1229745490989183115 (index 309) to leader 0
client write log 5336073579288924431 (index 310) to leader 0
client write log 6504309851446035437 (index 311) to leader 0
client write log 2361954506025405417 (index 312) to leader 0
client write log 185130506134176366 (index 313) to leader 0
client write log 7509130638470820329 (index 314) to leader 0
client write log 3090827764938730692 (index 315) to leader 0
client write log 6461055219570663337 (index 316) to leader 0
client write log 5373547261339491159 (index 317) to leader 0
client write log 8602155806212951717 (index 318) to leader 0
client write log 3723989027000368027 (index 319) to leader 0
client write log 8937187153382490558 (index 320) to leader 0
client write log 7952756641850871476 (index 321) to leader 0
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 43509 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 299} {3156741066727638989 50 300} {5549478108283041991 50 301} {9126680543574364798 50 302} {3700170499324034289 50 303} {1807804345920975681 50 304} {1708770487361445071 50 305} {9210573815836155122 50 306} {3169454566203342696 50 307} {1887965510281329413 50 308} {1229745490989183115 50 309} {5336073579288924431 50 310} {6504309851446035437 50 311} {2361954506025405417 50 312} {185130506134176366 50 313} {7509130638470820329 50 314} {3090827764938730692 50 315} {6461055219570663337 50 316} {5373547261339491159 50 317} {8602155806212951717 50 318} {3723989027000368027 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 Server0 start snapshot! index=309
term 50 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=321
-------------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=321
-------------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 74435 term 50 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 50 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 50 leaderCommit: 321 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321}]
------------------------------------------------------
term 50 Server2 start snapshot! index=309
term 50 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=321
-------------------------------------------------------------
term 50 Server2 start snapshot! index=319
term 50 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=321
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8996254169450734736 (index 322) to leader 0
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 306
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 49523 term 50 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 50 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 50 leaderCommit: 321 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 vote for server 0
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 0 get outdate rpc reply from server 1
flag 38013 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 81268 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 323->322
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 78899 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 50 rf.commitIndex 319 rf.lastApplied 319
flag 47815 term 52 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 52 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 71561 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
flag 2441 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 57781 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
flag 12859 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 15908 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
flag 28025 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 42109 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
flag 82803 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 46895 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
flag 33391 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 78576 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
flag 61618 term 52 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 57118 term 52 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 52 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {8937187153382490558 50 320} {7952756641850871476 50 321} {8996254169450734736 50 322}]
------------------------------------------------------
  ... Passed --  75.7  3 1731  791565  322
--- PASS: TestSnapshotInstall2D (75.68s)
PASS
