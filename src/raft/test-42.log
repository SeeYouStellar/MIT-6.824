=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 30808 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 78511 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 764964945604339512 (index 1) to leader 2
flag 66363 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 55458 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 85343 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37719 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 91984 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53502 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 85983 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23687 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 87358 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14884 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 8575 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 73539 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
flag 41250 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89212 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {764964945604339512 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6671089673977784044 (index 2) to leader 2
flag 53759 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17646 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {764964945604339512 1 1} {6671089673977784044 1 2}]
------------------------------------------------------
flag 29830 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 20616 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {764964945604339512 1 1} {6671089673977784044 1 2}]
------------------------------------------------------
client write log 5228087236626162444 (index 3) to leader 2
client write log 6401033072741430713 (index 4) to leader 2
client write log 5717382813505979747 (index 5) to leader 2
client write log 9036541687301508783 (index 6) to leader 2
client write log 5391880001687189109 (index 7) to leader 2
client write log 4203960522757380304 (index 8) to leader 2
client write log 5286615991662268241 (index 9) to leader 2
client write log 2982895677224695102 (index 10) to leader 2
flag 55726 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 37973 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {764964945604339512 1 1} {6671089673977784044 1 2} {5228087236626162444 1 3} {6401033072741430713 1 4} {5717382813505979747 1 5} {9036541687301508783 1 6} {5391880001687189109 1 7} {4203960522757380304 1 8} {5286615991662268241 1 9} {2982895677224695102 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 23874 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3016756210416276199 (index 11) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 95789 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 28893 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54693 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 80458 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 56210 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 32066 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 12787 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 91295 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 67073 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 40548 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 36657 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 32890 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 81933 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 70762 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34848 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 4229 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 84684 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 69491 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62819 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 918 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 43036 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 31402 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 11153 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 91909 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 66359 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 65608 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 49576 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 37378 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 56076 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 91568 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 89955 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 95553 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 19230 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 56525 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62496 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 50773 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62339 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
flag 25478 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22638 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11}]
------------------------------------------------------
client write log 3016756210416276199 (index 12) to leader 2
flag 51303 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 60827 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 58079 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39944 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 64277 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 24389 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 34398 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 76312 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 91130 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 95435 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 59952 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 45181 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 33426 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 712 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79564 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 85661 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39515 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 61967 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 76050 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 74666 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 92279 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 90863 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12}]
------------------------------------------------------
flag 4099 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 32583 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
client write log 3470355124856632984 (index 13) to leader 1
flag 28495 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 96969 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13}]
------------------------------------------------------
flag 32579 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 86086 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 93210 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 66756 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13}]
------------------------------------------------------
flag 95704 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 40546 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
client write log 7539154794112944966 (index 14) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 33908 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 37785 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 15396 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 94230 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 73265 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 946 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
!!!!!!connect server 2
client write log 92023389605252232 (index 15) to leader 1
flag 77247 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 39281 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66440 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 94534 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6459 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 84105 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
flag 53346 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 84183 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
flag 90740 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 46061 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13168 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 21509 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 142833139124332264 (index 16) to leader 1
flag 24043 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 8170 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15} {142833139124332264 4 16}]
------------------------------------------------------
flag 14224 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 77571 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15} {142833139124332264 4 16}]
------------------------------------------------------
client write log 7996956488700989065 (index 17) to leader 1
client write log 6349590013856741552 (index 18) to leader 1
client write log 3362973853643315052 (index 19) to leader 1
client write log 6487914770588479814 (index 20) to leader 1
client write log 8115682761566776501 (index 21) to leader 1
client write log 1449022260941727028 (index 22) to leader 1
client write log 1528744144126508119 (index 23) to leader 1
client write log 8403374327274454251 (index 24) to leader 1
client write log 3443911098079969375 (index 25) to leader 1
client write log 9025017047844621841 (index 26) to leader 1
client write log 2505065064899048211 (index 27) to leader 1
client write log 2863863257154836624 (index 28) to leader 1
client write log 5857103149371361950 (index 29) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78350 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 85000 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 1 9} {2982895677224695102 1 10} {3016756210416276199 1 11} {3016756210416276199 3 12} {3470355124856632984 4 13} {7539154794112944966 4 14} {92023389605252232 4 15} {142833139124332264 4 16} {7996956488700989065 4 17} {6349590013856741552 4 18} {3362973853643315052 4 19} {6487914770588479814 4 20} {8115682761566776501 4 21} {1449022260941727028 4 22} {1528744144126508119 4 23} {8403374327274454251 4 24} {3443911098079969375 4 25} {9025017047844621841 4 26} {2505065064899048211 4 27} {2863863257154836624 4 28} {5857103149371361950 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=29
-------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 91593 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=29
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3073330588823255294 (index 30) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 0 vote for server 1
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 0
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 2
flag 42032 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 76778 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
flag 17362 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 36789 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 89341 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 95865 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 88395 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 45651 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 65193 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 47644 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 67774 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74356 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 97915 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41674 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 39613 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 16508 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 68932 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 1601 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4823 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 81179 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 154 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 36636 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 64402 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 3659 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 27164 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83500 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 35479 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 74977 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 87862 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 92010 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 90870 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44358 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 85907 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
flag 57037 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 42284 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82230 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 88761 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {3073330588823255294 4 30}]
------------------------------------------------------
client write log 3073330588823255294 (index 31) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49999 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 89837 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
flag 94061 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 93133 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
flag 83595 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 29222 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91931 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 83458 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25361 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 4770 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
flag 40767 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 83065 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7476936864257657336 (index 32) to leader 1
flag 23372 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 53868 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31} {7476936864257657336 6 32}]
------------------------------------------------------
flag 59214 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 6206 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31} {7476936864257657336 6 32}]
------------------------------------------------------
client write log 4373417057303209482 (index 33) to leader 1
client write log 843770882518205985 (index 34) to leader 1
client write log 4897797374134723305 (index 35) to leader 1
client write log 7701542218822864608 (index 36) to leader 1
client write log 4160938586835195027 (index 37) to leader 1
client write log 5456984706674287688 (index 38) to leader 1
client write log 128612439380879410 (index 39) to leader 1
client write log 8960340469133159906 (index 40) to leader 1
client write log 8476008505897878300 (index 41) to leader 1
flag 63686 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 75636 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 29} {3073330588823255294 4 30} {3073330588823255294 6 31} {7476936864257657336 6 32} {4373417057303209482 6 33} {843770882518205985 6 34} {4897797374134723305 6 35} {7701542218822864608 6 36} {4160938586835195027 6 37} {5456984706674287688 6 38} {128612439380879410 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
flag 53619 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5099891546805263873 (index 42) to leader 1
flag 92346 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 0 vote for server 1
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 60831 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 49652 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 73046 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3698 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 25407 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78246 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 66362 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93127 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 44275 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 76955 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 75271 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 288 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 33871 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57067 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 99084 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 71481 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 58114 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81388 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 96090 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 99130 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 88845 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 74950 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 58741 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10532 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 17975 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 40166 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 44969 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 23950 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 81828 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 36772 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 89221 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 84115 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 93590 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 87006 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 18376 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
flag 60692 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 31773 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42}]
------------------------------------------------------
client write log 5099891546805263873 (index 43) to leader 1
flag 5501 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 49372 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
flag 2316 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 86516 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49520 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 58694 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
flag 71191 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 46023 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
flag 10622 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 75001 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60355 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 40617 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
flag 36862 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 41020 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19549 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 90351 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70969 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 82525 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 14933 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 24284 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 83782 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 72126 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43}]
------------------------------------------------------
flag 10061 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 83453 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
client write log 3859246743165667828 (index 44) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 44->43
------------------------------------------------------
flag 26248 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 45472 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43} {3859246743165667828 9 44}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 43
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 30857 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 95571 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 1725 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43} {3859246743165667828 9 44}]
------------------------------------------------------
client write log 1107776148903950810 (index 45) to leader 2
client write log 1236818137129615009 (index 46) to leader 2
client write log 7132421799242862612 (index 47) to leader 2
client write log 3228314204248427729 (index 48) to leader 2
client write log 2391144698539177798 (index 49) to leader 2
client write log 5651586341233177919 (index 50) to leader 2
client write log 5244684746611834335 (index 51) to leader 2
client write log 1491338037865631689 (index 52) to leader 2
client write log 2387980999119459032 (index 53) to leader 2
flag 48002 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 25246 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 78986 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 22684 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 39} {8960340469133159906 6 40} {8476008505897878300 6 41} {5099891546805263873 6 42} {5099891546805263873 8 43} {3859246743165667828 9 44} {1107776148903950810 9 45} {1236818137129615009 9 46} {7132421799242862612 9 47} {3228314204248427729 9 48} {2391144698539177798 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
flag 3335 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 67669 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16072 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8627365310064200176 (index 44) to leader 1
flag 8566 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 97436 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23036 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 63167 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 67212 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35631 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25789 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 66517 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 77437 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 54->53
------------------------------------------------------
flag 66098 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 53 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 25626 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 11505 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 3854 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 83393 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 71412 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 97390 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 92789 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 57991 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 766 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 45362 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 32142 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 3245 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 50421 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 99876 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 15369 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 70616 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 1676 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 52977 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4710 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 64885 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 8708 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 42736 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40629 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 84441 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 38745 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 90882 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 92949 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 28813 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
flag 67434 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 86667 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53}]
------------------------------------------------------
client write log 8627365310064200176 (index 54) to leader 2
flag 78768 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25568 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
flag 78295 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 3369 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86810 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 38082 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
flag 74052 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 3356 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74268 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 33000 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
flag 11215 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 34440 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1069536975140575430 (index 55) to leader 2
flag 61118 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 17397 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54} {1069536975140575430 9 55}]
------------------------------------------------------
flag 75167 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 40753 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54} {1069536975140575430 9 55}]
------------------------------------------------------
client write log 3888814147231229833 (index 56) to leader 2
client write log 6794365792518715359 (index 57) to leader 2
client write log 6420681811957967153 (index 58) to leader 2
client write log 7866693726511275424 (index 59) to leader 2
client write log 1615279254246929182 (index 60) to leader 2
client write log 6692628813398013496 (index 61) to leader 2
flag 66991 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 61250 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 49} {5651586341233177919 9 50} {5244684746611834335 9 51} {1491338037865631689 9 52} {2387980999119459032 9 53} {8627365310064200176 9 54} {1069536975140575430 9 55} {3888814147231229833 9 56} {6794365792518715359 9 57} {6420681811957967153 9 58} {7866693726511275424 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 72022 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8143822125907859476 (index 62) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 88267 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 4149 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 71102 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 44359 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 36962 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 48514 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 74782 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 40961 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 27836 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 26254 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 35921 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84963 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 57920 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 2131 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 9247 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 68464 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 16227 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41327 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 96703 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 25822 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 69895 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 54047 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 68155 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6983 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 53143 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 2267 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 13869 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 2940 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 11942 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 74010 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 57936 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 37567 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 63470 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 58042 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 14721 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 46110 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 88851 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
flag 53105 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 69442 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62}]
------------------------------------------------------
client write log 8143822125907859476 (index 63) to leader 2
flag 69686 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 60465 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
flag 30287 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 79289 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77478 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 21730 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
flag 36310 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 76503 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45288 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 75291 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
flag 17679 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 72676 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65529 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 48589 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3734929722742020126 (index 64) to leader 2
flag 25087 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 39142 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63} {3734929722742020126 11 64}]
------------------------------------------------------
flag 19023 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 55030 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63} {3734929722742020126 11 64}]
------------------------------------------------------
client write log 2641441153739721632 (index 65) to leader 2
client write log 6691680504508654867 (index 66) to leader 2
client write log 7613813081622540646 (index 67) to leader 2
client write log 7844750033989778777 (index 68) to leader 2
client write log 5723288819008928445 (index 69) to leader 2
client write log 2237073322550043278 (index 70) to leader 2
client write log 2136564288502657346 (index 71) to leader 2
client write log 812065417712491936 (index 72) to leader 2
client write log 7449854684962287750 (index 73) to leader 2
client write log 6142343125863264287 (index 74) to leader 2
client write log 2805644168073788159 (index 75) to leader 2
client write log 5930043597044471909 (index 76) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32333 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 23219 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 59} {1615279254246929182 9 60} {6692628813398013496 9 61} {8143822125907859476 9 62} {8143822125907859476 11 63} {3734929722742020126 11 64} {2641441153739721632 11 65} {6691680504508654867 11 66} {7613813081622540646 11 67} {7844750033989778777 11 68} {5723288819008928445 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 94076 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5868706022464051405 (index 77) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 64498 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 21479 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 54878 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44783 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 20555 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 78667 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 88769 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73430 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 33175 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 59678 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 42506 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4918 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 98556 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 37991 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 63005 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 29954 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 77718 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 66505 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 42799 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 46385 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 49504 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 95326 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 60233 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 64132 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 7535 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 76113 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 83419 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 74330 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 19925 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 29694 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 9432 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 48434 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 22222 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 30945 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 82836 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 94849 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 40227 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
flag 49741 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 89412 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77}]
------------------------------------------------------
client write log 5868706022464051405 (index 78) to leader 2
flag 4075 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 36336 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
flag 8885 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 61781 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69088 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 34535 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
flag 88230 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 35605 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
flag 84118 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 1495 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
flag 70364 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 54145 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 1292 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 59700 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 14212 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 25167 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 88666 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 26951 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 94649 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 66179 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 93662 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 50873 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78}]
------------------------------------------------------
client write log 7275025686230012483 (index 79) to leader 0
flag 52469 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 19136 term 13 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 23243 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 48991 term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {2237073322550043278 11 70} {2136564288502657346 11 71} {812065417712491936 11 72} {7449854684962287750 11 73} {6142343125863264287 11 74} {2805644168073788159 11 75} {5930043597044471909 11 76} {5868706022464051405 11 77} {5868706022464051405 13 78} {7275025686230012483 14 79}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 79->78
------------------------------------------------------
flag 58039 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 73470 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 6472295846825575518 (index 80) to leader 0
client write log 2755685739607632819 (index 81) to leader 0
client write log 963586030186089965 (index 82) to leader 0
client write log 856299147603904810 (index 83) to leader 0
client write log 2618274891399008578 (index 84) to leader 0
client write log 50677264596106304 (index 85) to leader 0
client write log 5915889934135939712 (index 86) to leader 0
client write log 8113899947563998879 (index 87) to leader 0
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71171 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 99643 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 27098 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 22385 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3093101905073197909 (index 79) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
flag 43610 term 13 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 78
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84268 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 75475 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 9729 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 12539 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 71853 term 16 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 22832 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 31389 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 16859 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 23349 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 8983 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 5249 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85915 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 58224 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 72881 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 36890 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 28510 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 2555 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 50216 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 86591 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 32844 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 84925 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 80076 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 35415 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 29014 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 6173 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76121 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 17645 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6147 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 76612 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 41485 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 98412 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 84876 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 18147 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 96506 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 68888 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
flag 90457 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 66783 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87}]
------------------------------------------------------
client write log 3093101905073197909 (index 88) to leader 0
flag 6013 term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 19560 term 16 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
flag 96968 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 87420 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
flag 10990 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 47720 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
flag 65553 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 44905 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81645 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 6489 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
flag 36386 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 80042 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
flag 47497 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 51463 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 825809117194483851 (index 89) to leader 0
flag 39647 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 84047 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 79} {6472295846825575518 14 80} {2755685739607632819 14 81} {963586030186089965 14 82} {856299147603904810 14 83} {2618274891399008578 14 84} {50677264596106304 14 85} {5915889934135939712 14 86} {8113899947563998879 14 87} {3093101905073197909 16 88} {825809117194483851 16 89}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 47720 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 4893951133727292032 (index 90) to leader 0
client write log 2952978301774632286 (index 91) to leader 0
client write log 5708273413230597466 (index 92) to leader 0
client write log 7153280710219504917 (index 93) to leader 0
client write log 320317572175302782 (index 94) to leader 0
client write log 7483927785476882065 (index 95) to leader 0
client write log 8027401157137986646 (index 96) to leader 0
client write log 318897947240956460 (index 97) to leader 0
client write log 8901938318748734023 (index 98) to leader 0
client write log 8366789341846573264 (index 99) to leader 0
client write log 7838820530790599833 (index 100) to leader 0
client write log 6401085616013429960 (index 101) to leader 0
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 20791 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 89} {4893951133727292032 16 90} {2952978301774632286 16 91} {5708273413230597466 16 92} {7153280710219504917 16 93} {320317572175302782 16 94} {7483927785476882065 16 95} {8027401157137986646 16 96} {318897947240956460 16 97} {8901938318748734023 16 98} {8366789341846573264 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 20494 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8663360418046704374 (index 102) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 95599 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 73290 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 61847 term 18 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
flag 46375 term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 90985 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 49273 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 77899 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46581 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 54045 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 61833 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 89353 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 72034 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 17116 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64528 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 1211 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 95164 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 96498 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 3044 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 58040 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 98055 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 47673 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 63516 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 39639 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 28636 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 90324 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 85 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 16030 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 73927 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 90131 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 5947 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 26802 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 44747 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 69710 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
flag 2262 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 39074 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86288 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 94723 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102}]
------------------------------------------------------
client write log 8663360418046704374 (index 103) to leader 0
flag 51713 term 18 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 59577 term 18 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
flag 45934 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 12135 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
flag 96281 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 94371 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
flag 58595 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 97238 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90997 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 13277 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15394 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 160 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4055895031169596734 (index 104) to leader 0
flag 30291 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 13270 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103} {4055895031169596734 18 104}]
------------------------------------------------------
flag 50616 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 7627 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103} {4055895031169596734 18 104}]
------------------------------------------------------
client write log 3354093935892148362 (index 105) to leader 0
client write log 4261543481362112451 (index 106) to leader 0
client write log 8720321776938781580 (index 107) to leader 0
client write log 6952836172796158768 (index 108) to leader 0
client write log 322078758442183704 (index 109) to leader 0
client write log 6653894980429050695 (index 110) to leader 0
client write log 4598089129403085259 (index 111) to leader 0
client write log 5824068054524280042 (index 112) to leader 0
client write log 1932142144639758017 (index 113) to leader 0
client write log 5354011295996018617 (index 114) to leader 0
client write log 440524960376479891 (index 115) to leader 0
client write log 7335914117301180026 (index 116) to leader 0
client write log 5389294258577046260 (index 117) to leader 0
client write log 5455540129278345889 (index 118) to leader 0
client write log 4876392894374865487 (index 119) to leader 0
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80308 term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 93376 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 99} {7838820530790599833 16 100} {6401085616013429960 16 101} {8663360418046704374 16 102} {8663360418046704374 18 103} {4055895031169596734 18 104} {3354093935892148362 18 105} {4261543481362112451 18 106} {8720321776938781580 18 107} {6952836172796158768 18 108} {322078758442183704 18 109} {6653894980429050695 18 110} {4598089129403085259 18 111} {5824068054524280042 18 112} {1932142144639758017 18 113} {5354011295996018617 18 114} {440524960376479891 18 115} {7335914117301180026 18 116} {5389294258577046260 18 117} {5455540129278345889 18 118} {4876392894374865487 18 119}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 40388 term 18 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 18 119}]
------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 18 Server2 start snapshot! index=119
term 18 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6011126573881040657 (index 120) to leader 0
term 18 server 2 not vote for server 1, 日志不够新
term 18 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get outdate rpc reply from server 1
flag 90435 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 94710 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 121->120
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 50642 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 18 rf.commitIndex 119 rf.lastApplied 119
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 42148 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 49346 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35084 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 44531 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 660 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 60862 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3673 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 84704 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 56640 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 40830 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 93222 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 67407 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 3341 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 36584 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 19014 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 11401 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24812 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 76995 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 60141 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 56289 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 97320 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 89584 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 93803 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 35557 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 92299 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 92141 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 90910 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 15555 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 77568 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 92470 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 52513 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 95774 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
flag 67825 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 6390 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 18 119} {6011126573881040657 18 120}]
------------------------------------------------------
client write log 6011126573881040657 (index 121) to leader 0
flag 42708 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
flag 64616 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 18 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
flag 98617 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 64849 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
flag 83380 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 38434 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
update nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
flag 51239 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 91744 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
flag 86427 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 37035 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
flag 31273 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 76950 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 45919 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 16955 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 25188 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 43355 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 86785 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 65345 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
flag 81920 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 31763 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 80578 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 49353 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121}]
------------------------------------------------------
client write log 5232080335995079345 (index 122) to leader 1
flag 36591 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 16418 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 82858 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 52292 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121} {5232080335995079345 21 122}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75935 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 73003 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 15158 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
flag 57780 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121} {5232080335995079345 21 122}]
------------------------------------------------------
client write log 4408424443586160803 (index 123) to leader 1
client write log 205725313109378096 (index 124) to leader 1
client write log 8139337293789146693 (index 125) to leader 1
client write log 1884477925186844026 (index 126) to leader 1
client write log 7198792233578503048 (index 127) to leader 1
client write log 719637778064732048 (index 128) to leader 1
client write log 402273865797663870 (index 129) to leader 1
client write log 463701100255835349 (index 130) to leader 1
client write log 1741399949068816204 (index 131) to leader 1
client write log 5747500433808600724 (index 132) to leader 1
client write log 5617589877965694810 (index 133) to leader 1
client write log 3762478520595705005 (index 134) to leader 1
client write log 8111082274956214554 (index 135) to leader 1
client write log 8277825476726678270 (index 136) to leader 1
flag 28028 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 74053 term 20 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 62937 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
flag 91721 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 18 119} {6011126573881040657 18 120} {6011126573881040657 20 121} {5232080335995079345 21 122} {4408424443586160803 21 123} {205725313109378096 21 124} {8139337293789146693 21 125} {1884477925186844026 21 126} {7198792233578503048 21 127} {719637778064732048 21 128} {402273865797663870 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=136
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 122->121
------------------------------------------------------
flag 79712 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 121
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 77006 term 21 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 21 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=136
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2291267765291193059 (index 137) to leader 1
flag 83702 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 121
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 20234 term 21 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 21 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 136 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 21 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 0 vote for server 1
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 0
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 2
flag 32415 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 76520 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 138->137
------------------------------------------------------
flag 96197 term 23 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 853 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
flag 67841 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 32028 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
flag 84011 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 58521 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7055 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 17420 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
flag 43117 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 82599 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
flag 48142 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 31116 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 47009 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 23545 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9214574159074378702 (index 138) to leader 1
flag 66576 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 28298 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137} {9214574159074378702 23 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99773 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 69821 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137} {9214574159074378702 23 138}]
------------------------------------------------------
client write log 8706215518447890449 (index 139) to leader 1
client write log 2292377888345648307 (index 140) to leader 1
client write log 5253639006767134033 (index 141) to leader 1
client write log 5584067721969448079 (index 142) to leader 1
client write log 4656934288666349126 (index 143) to leader 1
client write log 3510426915845149714 (index 144) to leader 1
client write log 7806886366100625698 (index 145) to leader 1
client write log 4052972184486222485 (index 146) to leader 1
client write log 8401817912528741814 (index 147) to leader 1
client write log 7543915887953779855 (index 148) to leader 1
client write log 4650166282431942407 (index 149) to leader 1
client write log 1722500575020269836 (index 150) to leader 1
client write log 8569377699151881572 (index 151) to leader 1
client write log 2318903330712225197 (index 152) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44432 term 23 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 45429 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 138 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 129} {463701100255835349 21 130} {1741399949068816204 21 131} {5747500433808600724 21 132} {5617589877965694810 21 133} {3762478520595705005 21 134} {8111082274956214554 21 135} {8277825476726678270 21 136} {2291267765291193059 21 137} {9214574159074378702 23 138} {8706215518447890449 23 139} {2292377888345648307 23 140} {5253639006767134033 23 141} {5584067721969448079 23 142} {4656934288666349126 23 143} {3510426915845149714 23 144} {7806886366100625698 23 145} {4052972184486222485 23 146} {8401817912528741814 23 147} {7543915887953779855 23 148} {4650166282431942407 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=152
-------------------------------------------------------------
term 23 Server1 start snapshot! index=149
term 23 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
flag 13208 term 23 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=152
-------------------------------------------------------------
term 23 Server0 start snapshot! index=149
term 23 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9193892308428750076 (index 153) to leader 1
term 23 server 1 not vote for server 2, 日志不够新
term 23 server 0 not vote for server 2, 日志不够新
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 1 get outdate rpc reply from server 2
flag 55768 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 56277 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 154->153
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 154->153
------------------------------------------------------
flag 37846 term 25 leader 1 nextIndex[0]: 153  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 138  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 23 rf.commitIndex 149 rf.lastApplied 149
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 8784 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 46124 term 25 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 25 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 63336 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 2245 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21502 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 25654 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 39772 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 85349 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 76203 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 44966 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42916 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 93944 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57719 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 52441 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
------------------------------------------------------
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 28624 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 38012 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 12632 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 96903 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 95309 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 43393 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 97336 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 35578 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 9110 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 59966 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32818 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 32751 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 77732 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 61554 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 15191 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 50545 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
flag 32896 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 29351 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59361 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 56750 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153}]
------------------------------------------------------
client write log 9193892308428750076 (index 154) to leader 1
flag 91432 term 25 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 78978 term 25 leader 1 nextIndex[2]: 154  matchIndex[2]: 153
term 25 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11182 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 79007 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
flag 76807 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 11483 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
flag 99824 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 6910 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
flag 36335 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 77745 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
flag 80317 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 86952 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7801829200221964086 (index 155) to leader 1
flag 3107 term 25 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
flag 12952 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 154 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154} {7801829200221964086 25 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92789 term 25 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 55040 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154} {7801829200221964086 25 155}]
------------------------------------------------------
client write log 7510676722391130685 (index 156) to leader 1
client write log 2419947323437894124 (index 157) to leader 1
client write log 2297415259090735680 (index 158) to leader 1
client write log 5087412743412556870 (index 159) to leader 1
client write log 598234266678569403 (index 160) to leader 1
client write log 5803274913101175400 (index 161) to leader 1
client write log 7279987962433667518 (index 162) to leader 1
client write log 2379716333569125242 (index 163) to leader 1
flag 92353 term 25 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
flag 61618 term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 25 leaderCommit: 155 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 23 149} {1722500575020269836 23 150} {8569377699151881572 23 151} {2318903330712225197 23 152} {9193892308428750076 23 153} {9193892308428750076 25 154} {7801829200221964086 25 155} {7510676722391130685 25 156} {2419947323437894124 25 157} {2297415259090735680 25 158} {5087412743412556870 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163}]
------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
flag 68198 term 25 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 25 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163}]
------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7412063064976661987 (index 164) to leader 1
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 49799 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 22183 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 165->164
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
flag 23431 term 27 leader 1 nextIndex[0]: 164  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 155  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 48105 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 94196 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 86029 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 43634 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64973 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 92859 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 55262 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 72986 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 17456 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 56154 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65477 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 94445 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 75606 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 22629 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
leader 1 sendAppendEntries -> server 0 true------------------------------------------------------
update nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 88371 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 69878 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 65270 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 64658 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68557 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 65492 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11545 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 83337 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 65200 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 41695 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96895 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 45375 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71764 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 62237 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 63296 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 49770 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
flag 39908 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 77748 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14899 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 61510 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96755 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 76254 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164}]
------------------------------------------------------
client write log 7412063064976661987 (index 165) to leader 1
flag 48384 term 27 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
flag 272 term 27 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 27 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 25 leaderCommit: 163 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38544 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 29141 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
flag 93628 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 18942 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2223 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 19189 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 27 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
update nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59734 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 61755 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:165 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
flag 90980 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 9412 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
flag 40295 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 37994 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 29483 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 1580 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76424 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 5504 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 78674 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 5010 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 25267 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 433 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 0
term 28 server 2 become leader
------------------------------------------------------
flag 66308 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 14058 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165}]
------------------------------------------------------
client write log 2622771222140359734 (index 166) to leader 2
flag 31151 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 18824 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 34725 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 60881 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165} {2622771222140359734 28 166}]
------------------------------------------------------
flag 99732 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 93056 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
flag 67292 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165} {2622771222140359734 28 166}]
------------------------------------------------------
client write log 4012639257224233904 (index 167) to leader 2
client write log 2727965128033477715 (index 168) to leader 2
client write log 2798445759079891026 (index 169) to leader 2
client write log 8813470612325151831 (index 170) to leader 2
client write log 6497942147055945949 (index 171) to leader 2
client write log 6173664951305394520 (index 172) to leader 2
client write log 598860843299056904 (index 173) to leader 2
client write log 8378306147120911482 (index 174) to leader 2
client write log 1723246296714549855 (index 175) to leader 2
flag 98172 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 86159 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 78089 term 28 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 25 159} {598234266678569403 25 160} {5803274913101175400 25 161} {7279987962433667518 25 162} {2379716333569125242 25 163} {7412063064976661987 25 164} {7412063064976661987 27 165} {2622771222140359734 28 166} {4012639257224233904 28 167} {2727965128033477715 28 168} {2798445759079891026 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
flag 3964 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 89526 term 27 leader 1 nextIndex[2]: 166  matchIndex[2]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
flag 47606 term 28 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 28 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7006011499509138253 (index 166) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
flag 62010 term 27 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 27 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 27 leaderCommit: 165 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 0  matchIndex[2]: 165
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 0 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26065 term 28 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 28 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 42372 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 44708 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 176->175
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 80384 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 70338 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21737 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 34633 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 99819 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 43432 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 23594 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 34200 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46088 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 91044 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 1712 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 70311 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51041 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 84808 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 22701 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 76354 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 21260 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 50998 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 84284 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 12250 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 20911 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 34661 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 53675 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 98997 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 93392 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 10180 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 33241 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 34150 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 29077 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 38818 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 79337 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 56350 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 8349 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 16862 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
flag 20404 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 61993 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175}]
------------------------------------------------------
client write log 7006011499509138253 (index 176) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73827 term 30 leader 2 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 65313 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
flag 63019 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 13857 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
flag 74796 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 39101 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
flag 48691 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 83167 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63474 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 29415 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22518 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 31315 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5593531012270812452 (index 177) to leader 2
flag 132 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 59332 term 30 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176} {5593531012270812452 30 177}]
------------------------------------------------------
flag 79191 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 21287 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176} {5593531012270812452 30 177}]
------------------------------------------------------
client write log 2212655850489494826 (index 178) to leader 2
client write log 8311493796990787142 (index 179) to leader 2
client write log 1863355126257679341 (index 180) to leader 2
client write log 8525890368487182816 (index 181) to leader 2
client write log 7895752596610867423 (index 182) to leader 2
client write log 2313527831741012511 (index 183) to leader 2
client write log 571709011354760237 (index 184) to leader 2
client write log 5033910513927173202 (index 185) to leader 2
client write log 32050359043675546 (index 186) to leader 2
client write log 4547224864917375171 (index 187) to leader 2
client write log 7173172383782670182 (index 188) to leader 2
client write log 4732152965764368956 (index 189) to leader 2
client write log 4674962915489259859 (index 190) to leader 2
client write log 7668288494769170095 (index 191) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43431 term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 29019 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 169} {8813470612325151831 28 170} {6497942147055945949 28 171} {6173664951305394520 28 172} {598860843299056904 28 173} {8378306147120911482 28 174} {1723246296714549855 28 175} {7006011499509138253 30 176} {5593531012270812452 30 177} {2212655850489494826 30 178} {8311493796990787142 30 179} {1863355126257679341 30 180} {8525890368487182816 30 181} {7895752596610867423 30 182} {2313527831741012511 30 183} {571709011354760237 30 184} {5033910513927173202 30 185} {32050359043675546 30 186} {4547224864917375171 30 187} {7173172383782670182 30 188} {4732152965764368956 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=191
-------------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 31080 term 30 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 30 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=191
-------------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 2141804822126104693 (index 192) to leader 2
term 30 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
term 32 server 1 vote for server 2
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 84848 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 48872 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 33554 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 50571 term 32 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 48444 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 12937 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 65713 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79812 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 14525 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 46835 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 60516 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 49253 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 4935 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15022 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 20637 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 57477 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 81896 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85609 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 83695 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 7889 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 2280 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 82429 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 36722 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 71235 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 85576 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92193 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 7503 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 35888 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 56215 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 42064 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 92120 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 53775 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 86368 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 80754 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 12157 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 1282 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 53289 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
flag 16714 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 59732 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192}]
------------------------------------------------------
client write log 2141804822126104693 (index 193) to leader 2
flag 52811 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
flag 88868 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 30 leaderCommit: 191 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
flag 63097 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 83900 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
flag 96842 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 67455 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60104 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 51006 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
flag 31474 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 41923 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23538 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 70708 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7315509696808393717 (index 194) to leader 2
flag 42584 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 24324 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193} {7315509696808393717 32 194}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20909 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 8889 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193} {7315509696808393717 32 194}]
------------------------------------------------------
client write log 7067840485710539170 (index 195) to leader 2
client write log 7029934561298805224 (index 196) to leader 2
client write log 1708304468177684159 (index 197) to leader 2
client write log 5188134726957721204 (index 198) to leader 2
client write log 2912886419551052481 (index 199) to leader 2
client write log 1025670715563141433 (index 200) to leader 2
client write log 2046550294780106969 (index 201) to leader 2
client write log 2694455684715415493 (index 202) to leader 2
client write log 5832846387660896687 (index 203) to leader 2
client write log 3775134926359574705 (index 204) to leader 2
client write log 6382669272255847994 (index 205) to leader 2
client write log 2585471135285154119 (index 206) to leader 2
flag 16103 term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
flag 1787 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 30 189} {4674962915489259859 30 190} {7668288494769170095 30 191} {2141804822126104693 30 192} {2141804822126104693 32 193} {7315509696808393717 32 194} {7067840485710539170 32 195} {7029934561298805224 32 196} {1708304468177684159 32 197} {5188134726957721204 32 198} {2912886419551052481 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 90308 term 32 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 32 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5303396133620439048 (index 207) to leader 2
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get outdate rpc reply from server 0
flag 34823 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 37184 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 208->207
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 208->207
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 47346 term 34 leader 2 nextIndex[1]: 207  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 322 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 77860 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79942 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 50736 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 69278 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 85376 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 91613 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 70560 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55246 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 75433 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 96983 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 23671 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 87785 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 37743 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 22984 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 97669 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 78873 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 96440 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 89480 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 97508 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 34356 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 62473 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 44863 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 42513 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 25981 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 66813 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 94954 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 26502 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 18692 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 47230 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 16112 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 29055 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 75874 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 85861 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
flag 38090 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 98513 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207}]
------------------------------------------------------
client write log 5303396133620439048 (index 208) to leader 2
flag 21169 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 27485 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
flag 16292 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 35047 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
flag 56474 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 63883 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
flag 90857 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 12723 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21288 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 81879 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
flag 11800 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 36858 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 23718 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 58199 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 88309 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 78160 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 80694 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 4718 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 1
term 35 server 0 become leader
------------------------------------------------------
flag 85441 term 35 leader 0 nextIndex[1]: 209  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 12938 term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208}]
------------------------------------------------------
client write log 2195905837409677080 (index 209) to leader 0
flag 80725 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 15814 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 20854 term 35 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 21531 term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 199} {1025670715563141433 32 200} {2046550294780106969 32 201} {2694455684715415493 32 202} {5832846387660896687 32 203} {3775134926359574705 32 204} {6382669272255847994 32 205} {2585471135285154119 32 206} {5303396133620439048 32 207} {5303396133620439048 34 208} {2195905837409677080 35 209}]
------------------------------------------------------
term 35 Server0 start snapshot! index=209
term 35 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 32835 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 2207 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 29672 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 209 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 35 209}]
------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 92605064397393638 (index 210) to leader 0
client write log 4551506292564357284 (index 211) to leader 0
client write log 2860255853539449844 (index 212) to leader 0
client write log 6791723941298522128 (index 213) to leader 0
client write log 6426375525818476087 (index 214) to leader 0
client write log 58343916085265140 (index 215) to leader 0
client write log 7268730608786309477 (index 216) to leader 0
client write log 3742271382725200279 (index 217) to leader 0
client write log 1580763845984487839 (index 218) to leader 0
client write log 9073149686064639058 (index 219) to leader 0
client write log 5246829448059876395 (index 220) to leader 0
client write log 527643512031754339 (index 221) to leader 0
client write log 5274133699803642570 (index 222) to leader 0
client write log 7782893675557234275 (index 223) to leader 0
client write log 1219866214936403243 (index 224) to leader 0
flag 15607 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 10316 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 40632 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 209 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 209} {92605064397393638 35 210} {4551506292564357284 35 211} {2860255853539449844 35 212} {6791723941298522128 35 213} {6426375525818476087 35 214} {58343916085265140 35 215} {7268730608786309477 35 216} {3742271382725200279 35 217} {1580763845984487839 35 218} {9073149686064639058 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
flag 28910 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 25571 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 14038 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1328973034420994854 (index 209) to leader 2
flag 23148 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 78468 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 35 server 0 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89814 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueServer2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
update nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 80875 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 23846 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 38584 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 98133 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 65681 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 4995 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 0 get outdate rpc reply from server 2
flag 31174 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 36703 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 22118 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 56596 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 6723 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 4598 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 35619 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 94295 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 80444 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 70983 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 42978 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 45544 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 78441 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 62594 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31401 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 89785 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 12867 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 91613 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69155 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 25080 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 25958 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 12676 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 2255 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 85319 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22229 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 82073 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 75780 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 40841 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 63656 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 83233 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
flag 28189 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 59400 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224}]
------------------------------------------------------
client write log 1328973034420994854 (index 225) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
flag 60275 term 35 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 23736 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
flag 98553 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 25386 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35341 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 9550 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
flag 66359 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 15027 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
flag 48711 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 14991 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
flag 44374 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 37244 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
flag 12035 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 39251 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5249809890621624660 (index 226) to leader 0
flag 84754 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 24048 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225} {5249809890621624660 35 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63876 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 20730 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225} {5249809890621624660 35 226}]
------------------------------------------------------
client write log 8591286394349028533 (index 227) to leader 0
client write log 2995765700786533586 (index 228) to leader 0
client write log 5576022237916417307 (index 229) to leader 0
client write log 7372850443377499661 (index 230) to leader 0
client write log 4679669460473360083 (index 231) to leader 0
client write log 1187338737877466341 (index 232) to leader 0
client write log 4826102940954081254 (index 233) to leader 0
client write log 8198225491791834892 (index 234) to leader 0
client write log 8501812843321684853 (index 235) to leader 0
client write log 7550034209690988487 (index 236) to leader 0
client write log 4138955959371552992 (index 237) to leader 0
client write log 4599765978506859539 (index 238) to leader 0
client write log 654511520553746115 (index 239) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28257 term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
flag 41662 term 35 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 35 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 226 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 35 219} {5246829448059876395 35 220} {527643512031754339 35 221} {5274133699803642570 35 222} {7782893675557234275 35 223} {1219866214936403243 35 224} {1328973034420994854 35 225} {5249809890621624660 35 226} {8591286394349028533 35 227} {2995765700786533586 35 228} {5576022237916417307 35 229} {7372850443377499661 35 230} {4679669460473360083 35 231} {1187338737877466341 35 232} {4826102940954081254 35 233} {8198225491791834892 35 234} {8501812843321684853 35 235} {7550034209690988487 35 236} {4138955959371552992 35 237} {4599765978506859539 35 238} {654511520553746115 35 239}]
------------------------------------------------------
term 35 Server0 start snapshot! index=229
term 35 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=239
-------------------------------------------------------------
term 35 Server0 start snapshot! index=239
term 35 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 97423 term 35 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 35 239}]
------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=239
-------------------------------------------------------------
term 35 Server2 start snapshot! index=239
term 35 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4227781551142468996 (index 240) to leader 0
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 0
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 0 get outdate rpc reply from server 1
flag 50719 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 67570 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 241->240
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 241->240
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
flag 84517 term 37 leader 0 nextIndex[2]: 240  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 35 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96459 term 37 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 28564 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 27805 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 83616 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16722 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 85231 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 2881 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 9816 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25846 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 65719 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47001 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 50261 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 80947 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 75500 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23359 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 30722 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 5890 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 25468 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 53228 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 54241 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 97689 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 31277 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40797 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 51776 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 99668 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 3139 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 19303 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 37494 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 55270 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 44629 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36819 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 58337 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 67176 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 90439 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
flag 88724 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 99500 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 35 239} {4227781551142468996 35 240}]
------------------------------------------------------
client write log 4227781551142468996 (index 241) to leader 0
flag 88233 term 37 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
flag 58367 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 35 leaderCommit: 239 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
flag 94333 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 95151 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
flag 46232 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 262 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
flag 38963 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 66173 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29273 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 39211 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
flag 9510 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 85421 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
flag 68086 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 58022 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3538809830954995953 (index 242) to leader 0
flag 71369 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 34746 term 37 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241} {3538809830954995953 37 242}]
------------------------------------------------------
flag 2062 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
flag 45022 term 37 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 37 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241} {3538809830954995953 37 242}]
------------------------------------------------------
client write log 3300202619053011173 (index 243) to leader 0
client write log 9006442760683986583 (index 244) to leader 0
client write log 5202228271149618415 (index 245) to leader 0
client write log 7381650067739257051 (index 246) to leader 0
client write log 6560672942990991678 (index 247) to leader 0
client write log 8724256815868824448 (index 248) to leader 0
client write log 4608059784052826277 (index 249) to leader 0
client write log 5111913979799684117 (index 250) to leader 0
client write log 6133628427351930039 (index 251) to leader 0
client write log 8089668434213700609 (index 252) to leader 0
client write log 2626093521624406166 (index 253) to leader 0
client write log 3363804526182664122 (index 254) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63469 term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
flag 83636 term 37 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 37 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 35 239} {4227781551142468996 35 240} {4227781551142468996 37 241} {3538809830954995953 37 242} {3300202619053011173 37 243} {9006442760683986583 37 244} {5202228271149618415 37 245} {7381650067739257051 37 246} {6560672942990991678 37 247} {8724256815868824448 37 248} {4608059784052826277 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254}]
------------------------------------------------------
term 37 Server0 start snapshot! index=249
term 37 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
term 37 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 85769 term 37 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 37 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254}]
------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1629986981224410436 (index 255) to leader 0
term 37 server 2 not vote for server 1, 日志不够新
term 37 server 0 not vote for server 1, 日志不够新
term 39 server 2 vote for server 0
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
term 39 server 0 get outdate rpc reply from server 1
flag 72253 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 95972 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 60194 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57838 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 27048 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 33222 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 33365 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 71835 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 74261 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93211 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 3141 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 74914 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 82069 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 77679 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 62518 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 63622 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 28349 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 51171 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 91523 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 26818 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 46498 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 43385 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 71492 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 4100 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 35173 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 22310 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 97548 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 95188 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 60918 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 88549 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 38619 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1854 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 1315 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 85505 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 72215 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
flag 7514 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 53492 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255}]
------------------------------------------------------
client write log 1629986981224410436 (index 256) to leader 0
flag 69640 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 44831 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 12270 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 47441 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 5534 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 37951 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 12050 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 73387 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 6020 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 77317 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 61819 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 93675 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 84351 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 37742 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 83306 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 52551 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 75744 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 78495 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 17213 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 86611 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
flag 32923 term 40 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 52582 term 40 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256}]
------------------------------------------------------
flag 68435 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 6312 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
client write log 520928794511165758 (index 257) to leader 2
flag 17285 term 40 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 92962 term 40 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256} {520928794511165758 40 257}]
------------------------------------------------------
flag 81000 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 76291 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 63372 term 40 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 66248 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256} {520928794511165758 40 257}]
------------------------------------------------------
client write log 9006640146649706133 (index 258) to leader 2
flag 89009 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 94719 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 257->256
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 84933 term 40 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256} {520928794511165758 40 257} {9006640146649706133 40 258}]
------------------------------------------------------
flag 73594 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 12614 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 97835 term 40 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 40 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256} {520928794511165758 40 257} {9006640146649706133 40 258}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3031097547546459779 (index 259) to leader 2
flag 14459 term 39 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 77242 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 40 server 2 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 33982 term 40 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 40 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 37 249} {5111913979799684117 37 250} {6133628427351930039 37 251} {8089668434213700609 37 252} {2626093521624406166 37 253} {3363804526182664122 37 254} {1629986981224410436 37 255} {1629986981224410436 39 256} {520928794511165758 40 257} {9006640146649706133 40 258} {3031097547546459779 40 259}]
------------------------------------------------------
term 40 server 0 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
term 40 Server2 start snapshot! index=259
term 40 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 16098 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 13855 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 96028 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
flag 8474 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 46026 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
flag 11024 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 54948 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28582 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 89519 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
flag 22653 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 17161 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 40 259}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2783560475008034728 (index 260) to leader 2
flag 33934 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
flag 57818 term 40 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 259 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {2783560475008034728 40 260}]
------------------------------------------------------
flag 58489 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 16350 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {2783560475008034728 40 260}]
------------------------------------------------------
client write log 2981431915357369150 (index 261) to leader 2
client write log 3361392359605676227 (index 262) to leader 2
client write log 8516542360322045065 (index 263) to leader 2
client write log 8792369083899480413 (index 264) to leader 2
client write log 808745349199532341 (index 265) to leader 2
client write log 3742300342979256828 (index 266) to leader 2
client write log 4957814141014949146 (index 267) to leader 2
client write log 3718508238981511158 (index 268) to leader 2
client write log 5448283410611816031 (index 269) to leader 2
client write log 1274421767526856983 (index 270) to leader 2
client write log 4970134179161344093 (index 271) to leader 2
client write log 6146033218463229776 (index 272) to leader 2
client write log 5674481382641062270 (index 273) to leader 2
client write log 7171398137685341266 (index 274) to leader 2
client write log 7214742007270750775 (index 275) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58733 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
flag 8324 term 40 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 40 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 40 leaderCommit: 260 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 259} {2783560475008034728 40 260} {2981431915357369150 40 261} {3361392359605676227 40 262} {8516542360322045065 40 263} {8792369083899480413 40 264} {808745349199532341 40 265} {3742300342979256828 40 266} {4957814141014949146 40 267} {3718508238981511158 40 268} {5448283410611816031 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275}]
------------------------------------------------------
term 40 Server2 start snapshot! index=269
term 40 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 74564 term 40 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275}]
------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7252750630482989643 (index 276) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 79179 term 40 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 40 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 275 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36995 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 48448 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 260  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 19485 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 40 rf.commitIndex 269 rf.lastApplied 269
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71564 term 42 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 42 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 62535 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
flag 68459 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 31295 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81080 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 8448 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95624 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 49957 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
flag 14629 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 71695 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
flag 71696 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 87959 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 93568259936514515 (index 277) to leader 2
flag 10108 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
flag 79333 term 42 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 276 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276} {93568259936514515 42 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70405 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
flag 77177 term 42 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 42 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276} {93568259936514515 42 277}]
------------------------------------------------------
client write log 6804681193297292887 (index 278) to leader 2
client write log 8131415877341468649 (index 279) to leader 2
client write log 2479372527683500127 (index 280) to leader 2
client write log 1588053983443141716 (index 281) to leader 2
client write log 919819073135524889 (index 282) to leader 2
client write log 3251405487055595654 (index 283) to leader 2
client write log 3625858742423450315 (index 284) to leader 2
client write log 1689978115853936710 (index 285) to leader 2
client write log 3197023039328616130 (index 286) to leader 2
client write log 2161899125126570010 (index 287) to leader 2
flag 97042 term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
flag 82409 term 42 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 42 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 40 269} {1274421767526856983 40 270} {4970134179161344093 40 271} {6146033218463229776 40 272} {5674481382641062270 40 273} {7171398137685341266 40 274} {7214742007270750775 40 275} {7252750630482989643 40 276} {93568259936514515 42 277} {6804681193297292887 42 278} {8131415877341468649 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287}]
------------------------------------------------------
term 42 Server2 start snapshot! index=279
term 42 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=287
-------------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 98022 term 42 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 42 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287}]
------------------------------------------------------
term 42 Server1 start snapshot! index=279
term 42 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=287
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1330901885686847599 (index 288) to leader 2
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 1 not vote for server 0, 日志不够新
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 0 vote for server 2
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 get outdate rpc reply from server 0
flag 59363 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 48416 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 289->288
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 90288 term 44 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 42 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86152 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 10471 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40845 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 37211 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 14261 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 18578 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 54752 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 78871 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11993 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 68005 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 60820 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 99931 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 3715 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 55546 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 41918 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 57406 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62499 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 31164 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 39323 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 9169 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38503 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 31136 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 25271 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 39533 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 19041 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 1306 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 66625 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 58224 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 15652 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 30091 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 40367 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 68743 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
flag 55117 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 65008 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288}]
------------------------------------------------------
client write log 1330901885686847599 (index 289) to leader 2
flag 52473 term 44 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
flag 996 term 44 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 44 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 42 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288} {1330901885686847599 44 289}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 279} {2479372527683500127 42 280} {1588053983443141716 42 281} {919819073135524889 42 282} {3251405487055595654 42 283} {3625858742423450315 42 284} {1689978115853936710 42 285} {3197023039328616130 42 286} {2161899125126570010 42 287} {1330901885686847599 42 288} {1330901885686847599 44 289}]
------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 89881 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 27868 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 Server0 start snapshot! index=289
term 44 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 44 Server1 start snapshot! index=289
term 44 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 12889 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 78510 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
flag 58539 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 80751 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
flag 50320 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 8840 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
flag 57838 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 14551 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 1
flag 72994 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 58994 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
term 44 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
[{snapshot 44 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 95524 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 46789 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 37861 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 51965 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 90048 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 73997 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 1
term 45 server 0 become leader
------------------------------------------------------
flag 28265 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 32204 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
flag 2919 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 65538 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
client write log 2695346370073895253 (index 290) to leader 0
flag 77450 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 41050 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {2695346370073895253 45 290}]
------------------------------------------------------
flag 75501 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 51336 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 26009 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 80191 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 289} {2695346370073895253 45 290}]
------------------------------------------------------
client write log 5146168106557626176 (index 291) to leader 0
client write log 3528262361663780686 (index 292) to leader 0
client write log 7787303210466977777 (index 293) to leader 0
client write log 1867546003412301456 (index 294) to leader 0
client write log 2923306396610354128 (index 295) to leader 0
client write log 6684174887566773001 (index 296) to leader 0
flag 90074 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 95648 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 37895 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 38458 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 60496 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 87413 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 290->289
------------------------------------------------------
flag 80621 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 67763 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
!!!!!!connect server 2
client write log 652766900919666407 (index 290) to leader 2
flag 11788 term 44 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 289
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80374 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 64339 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 91574 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 32886 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45025 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 23830 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 11411 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 33622 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79156 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 77110 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99456 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 99389 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 15144 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 4103 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 49435 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 84579 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 60491 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 54993 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 511 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 22124 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75690 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 51145 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94160 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 59238 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 21068 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 72714 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20057 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 13887 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7925 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 51095 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 34426 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 24468 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
update nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 297->296
------------------------------------------------------
flag 55356 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 296
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot fail
rf.commitIndex 296 args.LastIncludedIndex 289
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 81394 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 45233 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 94922 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 96770 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
flag 59771 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
flag 35141 term 45 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296}]
------------------------------------------------------
client write log 652766900919666407 (index 297) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 297->296
------------------------------------------------------
flag 69773 term 45 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 45 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 45 leaderCommit: 296 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 296
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 45 server 2 InstallSnapshot fail
rf.commitIndex 296 args.LastIncludedIndex 289
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
flag 38469 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 75481 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56514 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 47199 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41964 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 57218 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
flag 75400 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 11164 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
flag 81099 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 90887 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
flag 58949 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 42628 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1551150273015490395 (index 298) to leader 0
flag 59144 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
flag 55652 term 45 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 297 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297} {1551150273015490395 45 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50759 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 298 
------------------------------------------------------
flag 45054 term 45 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 45 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 45 leaderCommit: 298 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297} {1551150273015490395 45 298}]
------------------------------------------------------
client write log 1462428602833152379 (index 299) to leader 0
client write log 260468650644065134 (index 300) to leader 0
client write log 5185296037414667966 (index 301) to leader 0
client write log 1247087928989816734 (index 302) to leader 0
client write log 3299992053575724832 (index 303) to leader 0
client write log 5843431663555296160 (index 304) to leader 0
client write log 1337970227631213541 (index 305) to leader 0
client write log 8311197318872996342 (index 306) to leader 0
client write log 206516277248824162 (index 307) to leader 0
client write log 2211489415109234379 (index 308) to leader 0
client write log 8231578643985754650 (index 309) to leader 0
client write log 1934063551365666056 (index 310) to leader 0
client write log 4945953600047934035 (index 311) to leader 0
client write log 3763353778461638467 (index 312) to leader 0
client write log 3805122261903288902 (index 313) to leader 0
flag 9518 term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 45 leaderCommit: 298 
------------------------------------------------------
flag 78228 term 45 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 45 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 45 leaderCommit: 298 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 44 289} {2695346370073895253 45 290} {5146168106557626176 45 291} {3528262361663780686 45 292} {7787303210466977777 45 293} {1867546003412301456 45 294} {2923306396610354128 45 295} {6684174887566773001 45 296} {652766900919666407 45 297} {1551150273015490395 45 298} {1462428602833152379 45 299} {260468650644065134 45 300} {5185296037414667966 45 301} {1247087928989816734 45 302} {3299992053575724832 45 303} {5843431663555296160 45 304} {1337970227631213541 45 305} {8311197318872996342 45 306} {206516277248824162 45 307} {2211489415109234379 45 308} {8231578643985754650 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313}]
------------------------------------------------------
term 45 Server0 start snapshot! index=299
term 45 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=313
-------------------------------------------------------------
term 45 Server0 start snapshot! index=309
term 45 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 31850 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313}]
------------------------------------------------------
term 45 Server2 start snapshot! index=299
term 45 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=313
-------------------------------------------------------------
term 45 Server2 start snapshot! index=309
term 45 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2968205995012509000 (index 314) to leader 0
term 45 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 65097 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 1
flag 19672 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 56528 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 315->314
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 6229 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 45 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75667 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 10870 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71059 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 52711 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
flag 9911 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 7229 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63573 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 59836 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
flag 52428 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 6919 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
flag 5011 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 18046 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
flag 51034 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 18739 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6982343722766288144 (index 315) to leader 0
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3644 term 47 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 92519 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314} {6982343722766288144 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 315->314
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 314
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 16699 term 47 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 47 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 315 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314} {6982343722766288144 47 315}]
------------------------------------------------------
client write log 483417125270066469 (index 316) to leader 0
client write log 4349946029505159265 (index 317) to leader 0
client write log 6557266062346802560 (index 318) to leader 0
client write log 1366801452479649047 (index 319) to leader 0
client write log 3646822598512746887 (index 320) to leader 0
client write log 1263193110815081631 (index 321) to leader 0
client write log 7651731346188994510 (index 322) to leader 0
client write log 5432542185932324470 (index 323) to leader 0
client write log 2560185572315539034 (index 324) to leader 0
client write log 1636228872123805079 (index 325) to leader 0
client write log 906789031995059529 (index 326) to leader 0
client write log 1353957294904420997 (index 327) to leader 0
client write log 5673540408343767525 (index 328) to leader 0
client write log 4844444408329852555 (index 329) to leader 0
client write log 7888877459518941433 (index 330) to leader 0
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 314
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 45
------------------------------------------------------
flag 54474 term 47 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 47 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 315 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 45 309} {1934063551365666056 45 310} {4945953600047934035 45 311} {3763353778461638467 45 312} {3805122261903288902 45 313} {2968205995012509000 45 314} {6982343722766288144 47 315} {483417125270066469 47 316} {4349946029505159265 47 317} {6557266062346802560 47 318} {1366801452479649047 47 319} {3646822598512746887 47 320} {1263193110815081631 47 321} {7651731346188994510 47 322} {5432542185932324470 47 323} {2560185572315539034 47 324} {1636228872123805079 47 325} {906789031995059529 47 326} {1353957294904420997 47 327} {5673540408343767525 47 328} {4844444408329852555 47 329} {7888877459518941433 47 330}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 Server0 start snapshot! index=319
term 47 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 47 Server0 start snapshot! index=329
term 47 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 314
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 31842 term 47 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 47 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330}]
------------------------------------------------------
term 47 Server2 start snapshot! index=319
term 47 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 47 Server2 start snapshot! index=329
term 47 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4004887549227062758 (index 331) to leader 0
term 47 server 2 not vote for server 1, 日志不够新
term 47 server 0 not vote for server 1, 日志不够新
term 49 server 2 vote for server 0
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 1
flag 89382 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 27942 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 315  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 76457 term 49 leader 0 nextIndex[2]: 331  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 47 rf.commitIndex 329 rf.lastApplied 329
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10531 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 72614 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59997 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 75706 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 55628 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 8453 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94343 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 5852 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 25328 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 97874 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 4614 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 87828 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 30586 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 40792 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16242 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 10124 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7803 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 77748 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 11235 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 67186 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 14856 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 57030 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 79078 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 13544 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 73503 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 52573 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 51727 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 93192 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 77467 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 63071 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 88792 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 23947 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 43780 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 35453 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
flag 25439 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 97731 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331}]
------------------------------------------------------
client write log 4004887549227062758 (index 332) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4750 term 49 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
flag 23636 term 49 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 49 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
flag 89036 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 77723 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
flag 94934 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 38820 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
flag 39874 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 37675 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
flag 92649 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 91501 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
flag 93161 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 24338 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93595 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 15716 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 47389 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 89611 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 93615 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 63782 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 8226 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 65143 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
client write log 8890023724030721905 (index 333) to leader 2
flag 31681 term 50 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 19404 term 50 leader 2 nextIndex[1]: 333  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333}]
------------------------------------------------------
flag 53412 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 29472 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 96934 term 50 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 3852 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333}]
------------------------------------------------------
client write log 8000346075288248898 (index 334) to leader 2
flag 71341 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 32303 term 49 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
flag 4572 term 50 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 19156 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334}]
------------------------------------------------------
flag 55664 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 332
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 71657 term 50 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 334 
------------------------------------------------------
flag 54480 term 50 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4951211709849454430 (index 335) to leader 2
flag 93646 term 49 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 332
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20453 term 50 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 334 
------------------------------------------------------
flag 15317 term 50 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
flag 88310 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 16409 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
flag 13542 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 27109 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
flag 66449 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 1550 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11573 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 75730 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
flag 61602 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 80046 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88180 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 16278 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 320419824135043106 (index 336) to leader 2
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 17408 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
flag 6792 term 50 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 335 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335} {320419824135043106 50 336}]
------------------------------------------------------
flag 7581 term 50 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 50 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 50 leaderCommit: 336 
------------------------------------------------------
flag 53497 term 50 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 50 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 50 leaderCommit: 336 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335} {320419824135043106 50 336}]
------------------------------------------------------
client write log 3263224407923808409 (index 337) to leader 2
client write log 3047327324802760516 (index 338) to leader 2
client write log 5807087413221918280 (index 339) to leader 2
client write log 5617428218082263341 (index 340) to leader 2
client write log 6344757020491678664 (index 341) to leader 2
client write log 8019208551635827120 (index 342) to leader 2
client write log 5460632156196717260 (index 343) to leader 2
client write log 6068023836670229667 (index 344) to leader 2
client write log 6903623205314129264 (index 345) to leader 2
client write log 4578604658918351976 (index 346) to leader 2
client write log 2165640298958656107 (index 347) to leader 2
client write log 3976994142644013443 (index 348) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 336->335
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 335
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
flag 57255 term 50 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 50 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 50 leaderCommit: 336 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 47 329} {7888877459518941433 47 330} {4004887549227062758 47 331} {4004887549227062758 49 332} {8890023724030721905 50 333} {8000346075288248898 50 334} {4951211709849454430 50 335} {320419824135043106 50 336} {3263224407923808409 50 337} {3047327324802760516 50 338} {5807087413221918280 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348}]
------------------------------------------------------
term 50 Server2 start snapshot! index=339
term 50 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=348
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 335
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 24286 term 50 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 50 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=348
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4854243663404366595 (index 349) to leader 2
term 50 server 2 not vote for server 0, 日志不够新
term 50 server 1 not vote for server 0, 日志不够新
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 28144 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 55336 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 350->349
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 336  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 95299 term 52 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
flag 17414 term 52 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 52 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 54148 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 50555 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 81140 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 23133 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 36574 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61823 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 32453 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 12727 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 483 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70885 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 73817 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67936 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 83820 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 93380 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 46174 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 90465 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 63007 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 99869 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 60097 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 76448 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 36870 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 92736 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 15990 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 8007 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 44273 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42331 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 28121 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 40458 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 49933 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 46220 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 99532 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
flag 69343 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 93663 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40302 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 91215 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349}]
------------------------------------------------------
client write log 4854243663404366595 (index 350) to leader 2
flag 47026 term 52 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
flag 67595 term 52 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 339} {5617428218082263341 50 340} {6344757020491678664 50 341} {8019208551635827120 50 342} {5460632156196717260 50 343} {6068023836670229667 50 344} {6903623205314129264 50 345} {4578604658918351976 50 346} {2165640298958656107 50 347} {3976994142644013443 50 348} {4854243663404366595 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 Server2 start snapshot! index=349
term 52 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
flag 21059 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 47858 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 Server1 start snapshot! index=349
term 52 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
term 52 Server0 start snapshot! index=349
term 52 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=350
-------------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 205 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 74653 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11024 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 84932 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80555 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 40127 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
flag 9691 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 57281 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
flag 93683 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 59585 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=350
leader log:
[{snapshot 50 349} {4854243663404366595 52 350}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2473230088126832179 (index 351) to leader 2
flag 23375 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
flag 45784 term 52 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351}]
------------------------------------------------------
flag 10217 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 351 
------------------------------------------------------
flag 79142 term 52 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 52 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 52 leaderCommit: 351 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351}]
------------------------------------------------------
client write log 1782794884728239007 (index 352) to leader 2
client write log 1196935144503774177 (index 353) to leader 2
client write log 301515195228406481 (index 354) to leader 2
client write log 304928150859746276 (index 355) to leader 2
client write log 140758247298562886 (index 356) to leader 2
client write log 6544283857351787770 (index 357) to leader 2
flag 91870 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 351 
------------------------------------------------------
flag 19521 term 52 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 52 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 52 leaderCommit: 351 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357}]
------------------------------------------------------
flag 73370 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 67722 term 52 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 52 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7494954483305883029 (index 358) to leader 2
flag 64830 term 52 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 52 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 71222 term 52 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 52 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
update nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 52 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get outdate rpc reply from server 0
flag 29791 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 61334 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 359->358
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
flag 36338 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 87243 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
flag 32053 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 42854 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54842 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 28068 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
flag 47897 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 82627 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
flag 93283 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 60200 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
flag 75070 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 75365 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 49445 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 77242 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23718 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 30557 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 84832 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 12540 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 22347 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 91438 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 0
term 56 server 1 become leader
------------------------------------------------------
flag 31399 term 56 leader 1 nextIndex[0]: 359  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 37128 term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358}]
------------------------------------------------------
client write log 4946701000590491169 (index 359) to leader 1
flag 53923 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 81415 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 38022 term 56 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 56 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 56176 term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 50 349} {4854243663404366595 52 350} {2473230088126832179 52 351} {1782794884728239007 52 352} {1196935144503774177 52 353} {301515195228406481 52 354} {304928150859746276 52 355} {140758247298562886 52 356} {6544283857351787770 52 357} {7494954483305883029 52 358} {4946701000590491169 56 359}]
------------------------------------------------------
term 56 Server1 start snapshot! index=359
term 56 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 78304 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 46523 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 37240 term 56 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 56 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 56 leaderCommit: 359 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 56 359}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 Server0 start snapshot! index=359
term 56 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
client write log 3074477950459116848 (index 360) to leader 1
flag 33227 term 55 leader 2 nextIndex[0]: 359  matchIndex[0]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 51386 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 54415 term 56 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 56 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 56 leaderCommit: 359 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 56 359} {3074477950459116848 56 360}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 359->358
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 358
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 79694 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 44832 term 56 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 56 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 56 leaderCommit: 360 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 56 359} {3074477950459116848 56 360}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3052458988852358990 (index 361) to leader 1
term 55 leader 2 nextIndex[0]: 0  matchIndex[0]: 358
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 40883 term 55 leader 2 nextIndex[1]: 359  matchIndex[1]: 358
term 55 leader 2 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
term 56 server 1 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 56 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84951 term 56 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 56 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 56 leaderCommit: 360 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 56 rf.commitIndex 359 rf.lastApplied 359
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41307 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 74262 term 56 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 56 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84076 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 35997 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38532 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 43331 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
flag 24204 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 52753 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91058 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 68673 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66985 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 84052 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:361 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=362
update matchIndex[2]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=362
update matchIndex[0]=361
update leader CommitIndex=361
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4520590788368981081 (index 362) to leader 1
flag 6458 term 56 leader 1 nextIndex[0]: 362  matchIndex[0]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
flag 33345 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 361 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:361 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361} {4520590788368981081 56 362}]
------------------------------------------------------
flag 46983 term 56 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 56 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 56 leaderCommit: 362 
------------------------------------------------------
flag 96188 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 362 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361} {4520590788368981081 56 362}]
------------------------------------------------------
client write log 273144090726566987 (index 363) to leader 1
client write log 6135631330643834437 (index 364) to leader 1
client write log 7671436909748410077 (index 365) to leader 1
client write log 3435309054745388133 (index 366) to leader 1
client write log 8992115950103613010 (index 367) to leader 1
client write log 8077910175165107324 (index 368) to leader 1
client write log 2458281606541116513 (index 369) to leader 1
client write log 1432237130323462019 (index 370) to leader 1
client write log 9026260762458177205 (index 371) to leader 1
client write log 1403555899858405623 (index 372) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27192 term 56 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 56 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 56 leaderCommit: 362 
------------------------------------------------------
flag 36766 term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendAppendEntries PrevLogIndex: 361  PrevLogTerm: 56 leaderCommit: 362 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 56 359} {3074477950459116848 56 360} {3052458988852358990 56 361} {4520590788368981081 56 362} {273144090726566987 56 363} {6135631330643834437 56 364} {7671436909748410077 56 365} {3435309054745388133 56 366} {8992115950103613010 56 367} {8077910175165107324 56 368} {2458281606541116513 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372}]
------------------------------------------------------
term 56 Server1 start snapshot! index=369
term 56 server1 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=372
-------------------------------------------------------------
flag 24554 term 56 leader 1 nextIndex[0]: 373  matchIndex[0]: 372
term 56 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 362  matchIndex[2]: 361
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=373
update matchIndex[0]=372
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372}]
------------------------------------------------------
term 56 Server0 start snapshot! index=369
term 56 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=372
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6209168484468089454 (index 373) to leader 1
term 56 server 1 not vote for server 2, 日志不够新
term 56 server 0 not vote for server 2, 日志不够新
term 58 server 2 vote for server 1
term 58 server 1 get vote from server 2
term 58 server 1 become leader
------------------------------------------------------
term 58 server 0 vote for server 1
term 58 server 1 get outdate rpc reply from server 0
flag 38597 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 95064 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 58 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 374->373
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 374->373
------------------------------------------------------
flag 83102 term 58 leader 1 nextIndex[0]: 373  matchIndex[0]: 0
term 58 leader 1 sendAppendEntries PrevLogIndex: 372  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 leader 1 nextIndex[2]: 362  matchIndex[2]: 0
term 58 leader 1 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 56
------------------------------------------------------
term 58 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 56 rf.commitIndex 369 rf.lastApplied 369
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89967 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 69718 term 58 leader 1 nextIndex[2]: 370  matchIndex[2]: 369
term 58 leader 1 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 35603 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 7253 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 63506 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 39808 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 97976 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 78000 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5876 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 30223 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80745 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 89339 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 75085 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 11034 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50344 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 46489 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 97350 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 38930 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 26523 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 29532 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 39010 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 68637 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 11434 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 91512 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 35990 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 73750 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46560 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 42409 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76984 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 87821 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 48539 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 81246 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
flag 13206 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 94038 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28895 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 64755 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=374
update matchIndex[0]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=372
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373}]
------------------------------------------------------
client write log 6209168484468089454 (index 374) to leader 1
flag 89124 term 58 leader 1 nextIndex[0]: 374  matchIndex[0]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
flag 91769 term 58 leader 1 nextIndex[2]: 374  matchIndex[2]: 373
term 58 leader 1 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 56 leaderCommit: 372 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:372 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
flag 94161 term 58 leader 1 nextIndex[0]: 375  matchIndex[0]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
flag 45957 term 58 leader 1 nextIndex[2]: 375  matchIndex[2]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
flag 73726 term 58 leader 1 nextIndex[0]: 375  matchIndex[0]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
flag 51537 term 58 leader 1 nextIndex[2]: 375  matchIndex[2]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36942 term 58 leader 1 nextIndex[0]: 375  matchIndex[0]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
flag 75370 term 58 leader 1 nextIndex[2]: 375  matchIndex[2]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
flag 40249 term 58 leader 1 nextIndex[0]: 375  matchIndex[0]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
flag 43177 term 58 leader 1 nextIndex[2]: 375  matchIndex[2]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50989 term 58 leader 1 nextIndex[0]: 375  matchIndex[0]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
flag 81803 term 58 leader 1 nextIndex[2]: 375  matchIndex[2]: 374
term 58 leader 1 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 58 leaderCommit: 374 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=375
update matchIndex[0]=374
update leader CommitIndex=374
leader log:
[{snapshot 56 369} {1432237130323462019 56 370} {9026260762458177205 56 371} {1403555899858405623 56 372} {6209168484468089454 56 373} {6209168484468089454 58 374}]
------------------------------------------------------
  ... Passed --  81.9  3 1854  806837  374
--- PASS: TestSnapshotInstall2D (81.90s)
PASS
