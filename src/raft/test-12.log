=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 23676 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 42789 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7580649799447948494 (index 1) to leader 0
flag 63986 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 63151 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
flag 4066 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76348 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
flag 82941 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10467 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
flag 96779 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24637 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
flag 14954 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68001 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
flag 74215 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 78125 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7580649799447948494 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5279114096575180629 (index 2) to leader 0
flag 46930 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46003 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7580649799447948494 1 1} {5279114096575180629 1 2}]
------------------------------------------------------
flag 88959 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 35960 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7580649799447948494 1 1} {5279114096575180629 1 2}]
------------------------------------------------------
client write log 5044968605682463010 (index 3) to leader 0
client write log 1474813554080134441 (index 4) to leader 0
client write log 4547554664308707088 (index 5) to leader 0
client write log 7083117225204585293 (index 6) to leader 0
client write log 8204387377883391372 (index 7) to leader 0
client write log 7778469294908423931 (index 8) to leader 0
client write log 8268446905413636969 (index 9) to leader 0
client write log 6954244392897353247 (index 10) to leader 0
client write log 7234835610578136702 (index 11) to leader 0
client write log 2440216830203235751 (index 12) to leader 0
client write log 7160099944899874813 (index 13) to leader 0
client write log 5803368874188439060 (index 14) to leader 0
client write log 7319663563502776028 (index 15) to leader 0
client write log 395328154755610653 (index 16) to leader 0
flag 18723 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 78266 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {7580649799447948494 1 1} {5279114096575180629 1 2} {5044968605682463010 1 3} {1474813554080134441 1 4} {4547554664308707088 1 5} {7083117225204585293 1 6} {8204387377883391372 1 7} {7778469294908423931 1 8} {8268446905413636969 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 27368 term 1 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 1 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9079229514801134060 (index 17) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 7683 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 34497 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 21986 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 76667 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 40607 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91929 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 81106 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 56120 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 84183 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 5704 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 71711 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 47546 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 26868 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 96804 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 99597 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 61404 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 4621 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 49886 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 87095 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 9596 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 38308 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 11828 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 44490 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 30760 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 64799 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 58219 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 40316 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 17105 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 93674 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 54104 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15967 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 95660 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 98341 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 67818 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 65644 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 59575 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 75765 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
flag 70763 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 73675 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17}]
------------------------------------------------------
client write log 9079229514801134060 (index 18) to leader 0
flag 24854 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 2912 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
flag 55325 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 18717 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
flag 42893 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 73270 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
flag 97056 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 52764 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
flag 15207 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 31140 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
flag 81584 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 74700 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 62380 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 38475 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 83035 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 98416 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 3641 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 52696 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 97864 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 156 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
client write log 1287015334716815763 (index 19) to leader 2
flag 24588 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 88608 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6954244392897353247 1 10} {7234835610578136702 1 11} {2440216830203235751 1 12} {7160099944899874813 1 13} {5803368874188439060 1 14} {7319663563502776028 1 15} {395328154755610653 1 16} {9079229514801134060 1 17} {9079229514801134060 3 18} {1287015334716815763 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 8536 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 57357 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 20624 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 2849518941809739571 (index 20) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 87387 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 12611 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {2849518941809739571 4 20}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 55008 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 54369 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {2849518941809739571 4 20}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3198487673431007649 (index 21) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 5121 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 80820 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 59061 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 82759 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
flag 43099 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 2483 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
flag 92258 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 44212 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
flag 8062 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 78505 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87785 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 99218 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
flag 59100 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 65796 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
flag 50676 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 46053 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 356459452003121310 (index 22) to leader 2
flag 38109 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 5297 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21} {356459452003121310 4 22}]
------------------------------------------------------
flag 97705 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 77534 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21} {356459452003121310 4 22}]
------------------------------------------------------
client write log 3010523848889368973 (index 23) to leader 2
client write log 5805569399502104156 (index 24) to leader 2
client write log 7135772284046083287 (index 25) to leader 2
client write log 3547120500540884816 (index 26) to leader 2
client write log 311560664580267298 (index 27) to leader 2
client write log 2619427807787455464 (index 28) to leader 2
client write log 702737306145907555 (index 29) to leader 2
client write log 5261354777535450707 (index 30) to leader 2
client write log 6377435540126568245 (index 31) to leader 2
client write log 122225547400319279 (index 32) to leader 2
client write log 2561419654436861343 (index 33) to leader 2
flag 38985 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34719 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {2849518941809739571 4 20} {3198487673431007649 4 21} {356459452003121310 4 22} {3010523848889368973 4 23} {5805569399502104156 4 24} {7135772284046083287 4 25} {3547120500540884816 4 26} {311560664580267298 4 27} {2619427807787455464 4 28} {702737306145907555 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 1833 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7260555831159801514 (index 34) to leader 2
term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 84036 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 90894 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 63423 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 22  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 77019 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11437 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 68433 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
flag 35121 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 67564 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
flag 41126 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 34118 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
flag 27136 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 39437 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 5257 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 74209 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
flag 75900 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 78867 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
flag 10549 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 36087 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 943084558213327321 (index 35) to leader 2
flag 77789 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 98755 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34} {943084558213327321 6 35}]
------------------------------------------------------
flag 77568 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 67080 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34} {943084558213327321 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
client write log 2986649508697009117 (index 36) to leader 2
client write log 7325914074484485632 (index 37) to leader 2
client write log 3823956013836313105 (index 38) to leader 2
client write log 4574464522005089511 (index 39) to leader 2
client write log 6161789110394524613 (index 40) to leader 2
client write log 285082896097834375 (index 41) to leader 2
client write log 1401803913099846954 (index 42) to leader 2
client write log 3082864343277692795 (index 43) to leader 2
client write log 5095276642728076821 (index 44) to leader 2
term 6 leader 2 nextIndex[0]: 0  matchIndex[0]: 34
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 65396 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 29} {5261354777535450707 4 30} {6377435540126568245 4 31} {122225547400319279 4 32} {2561419654436861343 4 33} {7260555831159801514 4 34} {943084558213327321 6 35} {2986649508697009117 6 36} {7325914074484485632 6 37} {3823956013836313105 6 38} {4574464522005089511 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 0  matchIndex[0]: 34
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 27415 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7728832201994438360 (index 45) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 7 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 33668 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 58235 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 46->45
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 45853 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96215 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 2898 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19474 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 28610 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 6076 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 7394 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44732 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 29273 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 75804 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 85861 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 42398 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 99089 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 23191 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 20737 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 53914 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 48531 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47848 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 35906 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 860 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 42873 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 97670 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 64238 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30139 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 17122 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 56203 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 45273 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 68540 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 69232 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 74851 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 95791 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
flag 59182 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 62224 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1517 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 58178 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7728832201994438360 (index 46) to leader 2
flag 63999 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 96378 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 19946 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 23762 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 69284 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 67385 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5087 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 54423 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 89645 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 85949 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 11471 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 46521 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 83204 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 93350 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55848 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 19817 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 32352 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 39983 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61311 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 80494 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 3074 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 31863 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
flag 2044 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 98360 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46}]
------------------------------------------------------
flag 13120 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
client write log 5535210032808232441 (index 47) to leader 1
flag 56617 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 35818 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47}]
------------------------------------------------------
flag 10495 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 86094 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 23833 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47}]
------------------------------------------------------
client write log 704416543333377679 (index 48) to leader 1
flag 24680 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 74401 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 21663 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47} {704416543333377679 9 48}]
------------------------------------------------------
flag 33254 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 32524 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 62358 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47} {704416543333377679 9 48}]
------------------------------------------------------
flag 14439 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
!!!!!!connect server 2
client write log 7062122217510497593 (index 49) to leader 1
flag 74800 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 29047 term 9 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47} {704416543333377679 9 48} {7062122217510497593 9 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6161789110394524613 6 40} {285082896097834375 6 41} {1401803913099846954 6 42} {3082864343277692795 6 43} {5095276642728076821 6 44} {7728832201994438360 6 45} {7728832201994438360 8 46} {5535210032808232441 9 47} {704416543333377679 9 48} {7062122217510497593 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51768 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 3140 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 83643 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 13399 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36943 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 14485 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93953 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 47079 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
flag 7692 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 9727 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
flag 94343 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 14738 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8528499268621986742 (index 50) to leader 1
flag 70539 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 38296 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {8528499268621986742 9 50}]
------------------------------------------------------
flag 15748 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 15812 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {8528499268621986742 9 50}]
------------------------------------------------------
client write log 5548064260504466659 (index 51) to leader 1
client write log 8897245505384136409 (index 52) to leader 1
client write log 8445282677793946820 (index 53) to leader 1
client write log 4535149723319683173 (index 54) to leader 1
client write log 6706967403902562697 (index 55) to leader 1
client write log 6085589090039413945 (index 56) to leader 1
client write log 8415232523349704742 (index 57) to leader 1
client write log 7163371627332723812 (index 58) to leader 1
client write log 6323775212025457468 (index 59) to leader 1
client write log 3711882577848835840 (index 60) to leader 1
client write log 2474778972305519888 (index 61) to leader 1
client write log 6426697548278895331 (index 62) to leader 1
client write log 4676918243770428859 (index 63) to leader 1
client write log 2555365969087050423 (index 64) to leader 1
flag 23304 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 28499 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {8528499268621986742 9 50} {5548064260504466659 9 51} {8897245505384136409 9 52} {8445282677793946820 9 53} {4535149723319683173 9 54} {6706967403902562697 9 55} {6085589090039413945 9 56} {8415232523349704742 9 57} {7163371627332723812 9 58} {6323775212025457468 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58542 term 9 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2818554191692397935 (index 65) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77074 term 9 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 not vote for server 1, 任期不够新
term 11 server 0 vote for server 1
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 2
term 11 server 1 get outdate rpc reply from server 2
flag 84266 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 87606 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 57064 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 96280 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 81231 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 90757 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 38903 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 63866 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 76792 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 57391 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 52382 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47672 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 48337 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 30081 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 24091 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83597 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 42107 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 19822 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 48802 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53279 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 51396 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 48098 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 94444 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75125 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 766 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 12655 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 25832 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80568 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 77620 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 26381 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 1145 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64263 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 10967 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
flag 4863 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 14118 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65}]
------------------------------------------------------
client write log 2818554191692397935 (index 66) to leader 1
flag 41984 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 75283 term 11 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
flag 99889 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 74057 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
flag 64710 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 63850 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
flag 25035 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 99647 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4668 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 45710 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
flag 73525 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 77424 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
flag 28573 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 11522 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7015459036142213673 (index 67) to leader 1
flag 4657 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 75381 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66} {7015459036142213673 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99229 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 19583 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66} {7015459036142213673 11 67}]
------------------------------------------------------
client write log 2217760552208456416 (index 68) to leader 1
client write log 7497274235987956651 (index 69) to leader 1
client write log 5740039378288588263 (index 70) to leader 1
client write log 8357426524135685383 (index 71) to leader 1
client write log 6868725206919746686 (index 72) to leader 1
client write log 4035732685279716804 (index 73) to leader 1
client write log 114768201622852168 (index 74) to leader 1
client write log 3511802341254203502 (index 75) to leader 1
client write log 2568379557621179198 (index 76) to leader 1
client write log 5095670436798168916 (index 77) to leader 1
client write log 1348063201393089914 (index 78) to leader 1
client write log 2405327796861932213 (index 79) to leader 1
client write log 9034188176231221370 (index 80) to leader 1
client write log 7267167226604550731 (index 81) to leader 1
flag 96686 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 59987 term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 59} {3711882577848835840 9 60} {2474778972305519888 9 61} {6426697548278895331 9 62} {4676918243770428859 9 63} {2555365969087050423 9 64} {2818554191692397935 9 65} {2818554191692397935 11 66} {7015459036142213673 11 67} {2217760552208456416 11 68} {7497274235987956651 11 69} {5740039378288588263 11 70} {8357426524135685383 11 71} {6868725206919746686 11 72} {4035732685279716804 11 73} {114768201622852168 11 74} {3511802341254203502 11 75} {2568379557621179198 11 76} {5095670436798168916 11 77} {1348063201393089914 11 78} {2405327796861932213 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
flag 40616 term 11 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 11 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1600047955291903464 (index 82) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 9138 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 4421 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 83->82
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14199 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 45551 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 97997 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 92929 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 53428 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30399 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 76749 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 61642 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 28373 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73722 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 33429 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 25793 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 72083 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 90855 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 77984 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 48620 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 12472 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25249 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 87800 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 29127 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 65396 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 89297 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 68334 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 99760 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 10298 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34930 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 74446 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 21597 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 29391 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 32621 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 10216 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 30779 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 16785 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
flag 95186 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 35206 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82}]
------------------------------------------------------
client write log 1600047955291903464 (index 83) to leader 1
flag 16767 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 76857 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11425 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 77911 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84148 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 22681 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
flag 47073 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 42796 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81087 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 88527 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 3557 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 77136 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
flag 72479 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 35468 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 90508 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 10380 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 76 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 33127 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 48101 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 36365 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 63510 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 70136 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
client write log 60622861547306493 (index 84) to leader 0
flag 87599 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 57126 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84}]
------------------------------------------------------
flag 48563 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 32729 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 12869 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 83896 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84}]
------------------------------------------------------
client write log 3813551835414543693 (index 85) to leader 0
flag 17676 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 34162 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 11512 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 80284 term 14 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 52478 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 82852 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 97833 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 62786 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1282266144177924148 (index 84) to leader 1
flag 88048 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 12784 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21882 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 28231 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 28000 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 56405 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 86->85
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 85
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 56843 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 85 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32818 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 6998 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 22049 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 25595 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 74170 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 68445 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 86->85
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 85
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 83676 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 85 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 39436 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 27614 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 88709 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 32217 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 62364 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 35320 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 29225 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 6051 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42364 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 81077 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 57584 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 65351 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34387 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 39885 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 77927 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 65043 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 48436 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 73022 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 51382 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 4577 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 78594 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 86110 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59696 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 16521 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
flag 63320 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 41978 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85}]
------------------------------------------------------
client write log 1282266144177924148 (index 86) to leader 0
flag 56955 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 48255 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
flag 4281 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 97102 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68652 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 73269 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
flag 28133 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 94598 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
flag 68583 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 87408 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
flag 99753 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 82491 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
flag 63580 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 85158 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8448934231399938426 (index 87) to leader 0
flag 79387 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 13415 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86} {8448934231399938426 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43222 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 62236 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86} {8448934231399938426 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 87->86
------------------------------------------------------
client write log 8596680058414708381 (index 88) to leader 0
client write log 8329415326671446971 (index 89) to leader 0
client write log 2289329031422599755 (index 90) to leader 0
client write log 1193084373445131995 (index 91) to leader 0
client write log 3108432654420915490 (index 92) to leader 0
client write log 2036727410580357298 (index 93) to leader 0
client write log 6738417592323144425 (index 94) to leader 0
client write log 1052037356803868825 (index 95) to leader 0
client write log 5233407364601053667 (index 96) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 86
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 34241 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 11 79} {9034188176231221370 11 80} {7267167226604550731 11 81} {1600047955291903464 11 82} {1600047955291903464 13 83} {60622861547306493 14 84} {3813551835414543693 14 85} {1282266144177924148 14 86} {8448934231399938426 14 87} {8596680058414708381 14 88} {8329415326671446971 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 86
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 45573 term 14 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 14 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4566344701320698784 (index 97) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 36163 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 29354 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 8851 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 27975 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 45196 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75639 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 4837 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26148 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 25524 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 6718 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 10206 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 32943 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 66020 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 41820 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 50972 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88915 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 31914 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 23812 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 83138 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 82313 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 95695 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 3588 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 90866 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60090 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 95553 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 74497 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 10908 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 92854 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 84810 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50450 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 35080 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 60172 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 75560 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78145 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 41280 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 70812 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 51242 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
flag 82919 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 13118 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97}]
------------------------------------------------------
client write log 4566344701320698784 (index 98) to leader 0
flag 9333 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 41287 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
flag 14607 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 58583 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
flag 26100 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 69518 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
flag 94804 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 66309 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
flag 58400 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 3513 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
flag 89809 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 41917 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4785840142321050254 (index 99) to leader 0
flag 90236 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 84970 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {2289329031422599755 14 90} {1193084373445131995 14 91} {3108432654420915490 14 92} {2036727410580357298 14 93} {6738417592323144425 14 94} {1052037356803868825 14 95} {5233407364601053667 14 96} {4566344701320698784 14 97} {4566344701320698784 16 98} {4785840142321050254 16 99}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 16112 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 8670284216423792274 (index 100) to leader 0
client write log 6725013043308160646 (index 101) to leader 0
client write log 4416469573704841994 (index 102) to leader 0
client write log 3583031396103641127 (index 103) to leader 0
client write log 6073810497410157956 (index 104) to leader 0
client write log 5492227258538878998 (index 105) to leader 0
client write log 6437073047474940621 (index 106) to leader 0
client write log 7718641038998097592 (index 107) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 53529 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 73587 term 16 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6083094063472422710 (index 108) to leader 0
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 52482 term 16 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 47220 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 63475 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 95981 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35023 term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 31890 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 18354 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 25496 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 55477 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 55962 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 54094 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 98701 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 66332 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 70881 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 5668 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 1574 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 37332 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 1563 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 87957 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 37569 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 27110 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 25506 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 92379 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 49473 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 30695 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 37802 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 99020 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 8130 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 68617 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 41952 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 93694 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 94869 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 67607 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 34980 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
flag 9718 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 14768 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108}]
------------------------------------------------------
client write log 6083094063472422710 (index 109) to leader 0
flag 57532 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 29328 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108} {6083094063472422710 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8670284216423792274 16 100} {6725013043308160646 16 101} {4416469573704841994 16 102} {3583031396103641127 16 103} {6073810497410157956 16 104} {5492227258538878998 16 105} {6437073047474940621 16 106} {7718641038998097592 16 107} {6083094063472422710 16 108} {6083094063472422710 18 109}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 16499 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 27771 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 48432 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 65374 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 33288 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 39286 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33031 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 46272 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 65929 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 45630 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 80705 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 95902 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 30223 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 99501 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 55215 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 86473 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 61204 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 47450 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 57001 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 58896 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
flag 19087 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 46972 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
client write log 337446439296196085 (index 110) to leader 1
flag 36531 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 99982 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {337446439296196085 19 110}]
------------------------------------------------------
flag 85760 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 14202 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 110->109
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
flag 62872 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 20154 term 19 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {337446439296196085 19 110}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
client write log 6697811429056857371 (index 111) to leader 1
client write log 6150327079706562931 (index 112) to leader 1
client write log 5539298149164915775 (index 113) to leader 1
client write log 7518661622972863445 (index 114) to leader 1
client write log 1806410932121294328 (index 115) to leader 1
client write log 1909271289618212068 (index 116) to leader 1
client write log 5908522248231144292 (index 117) to leader 1
client write log 6412500182931751495 (index 118) to leader 1
client write log 8316249077273413871 (index 119) to leader 1
client write log 7812343477807799598 (index 120) to leader 1
client write log 4874346329364444106 (index 121) to leader 1
client write log 608065960841977977 (index 122) to leader 1
flag 48498 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 63236 term 19 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 18 109} {337446439296196085 19 110} {6697811429056857371 19 111} {6150327079706562931 19 112} {5539298149164915775 19 113} {7518661622972863445 19 114} {1806410932121294328 19 115} {1909271289618212068 19 116} {5908522248231144292 19 117} {6412500182931751495 19 118} {8316249077273413871 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=122
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 3404 term 19 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4489144705140296312 (index 123) to leader 1
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 109
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 89912 term 19 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 66258 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 73926 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 124->123
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
flag 71609 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 83282 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40070 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 98873 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
flag 96074 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 926 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99393 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 49202 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
flag 49330 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 28931 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70823 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 17051 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2506802425785877933 (index 124) to leader 1
flag 94891 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 57417 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123} {2506802425785877933 21 124}]
------------------------------------------------------
flag 55242 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 67992 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123} {2506802425785877933 21 124}]
------------------------------------------------------
client write log 3785055798003090822 (index 125) to leader 1
client write log 8335717198965177417 (index 126) to leader 1
client write log 1892489225270480998 (index 127) to leader 1
client write log 8980680425337182626 (index 128) to leader 1
client write log 956563083031911229 (index 129) to leader 1
client write log 2901290084342607438 (index 130) to leader 1
client write log 5223387577736437516 (index 131) to leader 1
client write log 1874041082894053186 (index 132) to leader 1
client write log 4918112392906632630 (index 133) to leader 1
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7937 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 42677 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 119} {7812343477807799598 19 120} {4874346329364444106 19 121} {608065960841977977 19 122} {4489144705140296312 19 123} {2506802425785877933 21 124} {3785055798003090822 21 125} {8335717198965177417 21 126} {1892489225270480998 21 127} {8980680425337182626 21 128} {956563083031911229 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=133
-------------------------------------------------------------
flag 92481 term 21 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 21 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3696810783570999549 (index 134) to leader 1
flag 61043 term 21 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 21 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 1 get outdate rpc reply from server 0
flag 98931 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 69322 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 135->134
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34292 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 124  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 30605 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 32139 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 20650 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 13334 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 31313 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 83394 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 79411 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 86181 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 12135 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 32168 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7008 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 48144 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94078 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 57492 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 67075 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 44659 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 87951 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 26964 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 73523 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 57601 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 81331 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 29109 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 79991 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 37100 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 5359 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 21116 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 17770 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 1904 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72179 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 50795 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 3610 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 85874 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
flag 1823 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 3412 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134}]
------------------------------------------------------
client write log 3696810783570999549 (index 135) to leader 1
flag 28475 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 35495 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
flag 2000 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 73073 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25736 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 68506 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54009 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 54733 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
flag 70008 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 12899 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
flag 61098 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 24517 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 27566 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 27168 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2986137505071845661 (index 136) to leader 1
flag 57869 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 96743 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135} {2986137505071845661 23 136}]
------------------------------------------------------
flag 70556 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
flag 23327 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135} {2986137505071845661 23 136}]
------------------------------------------------------
client write log 1243747747442098608 (index 137) to leader 1
client write log 4400532885746760349 (index 138) to leader 1
client write log 4347971974306505703 (index 139) to leader 1
client write log 1945012090251882472 (index 140) to leader 1
client write log 5380087854559456025 (index 141) to leader 1
client write log 2612418676402602647 (index 142) to leader 1
client write log 8580324606581528666 (index 143) to leader 1
client write log 5921795297249996912 (index 144) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3192 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
flag 74028 term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 136 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 129} {2901290084342607438 21 130} {5223387577736437516 21 131} {1874041082894053186 21 132} {4918112392906632630 21 133} {3696810783570999549 21 134} {3696810783570999549 23 135} {2986137505071845661 23 136} {1243747747442098608 23 137} {4400532885746760349 23 138} {4347971974306505703 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
flag 49628 term 23 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 23 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8043194106672778931 (index 145) to leader 1
flag 70590 term 23 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 23 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 1 become leader
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get outdate rpc reply from server 0
flag 76405 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 97407 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
flag 51034 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 136  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 59449 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 5553 term 25 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97580 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 83902 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 35141 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 12801 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 46722 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 79662 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53176 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 20464 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 95408 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 5335 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67717 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 28537 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 9148 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 62559 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 96202 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 38858 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80453 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 49933 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 91660 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 39432 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 89319 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 23647 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 33303 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 45041 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 36120 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 4028 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36197 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 55129 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36567 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 95130 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145}]
------------------------------------------------------
flag 64137 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 88146 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
client write log 8043194106672778931 (index 146) to leader 1
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80703 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 23483 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
flag 12106 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 2958 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68758 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 911 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74082 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 53494 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
flag 95349 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 55581 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
flag 86066 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 41195 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
flag 24962 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 3668 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 32838 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 99954 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 55642 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 28429 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 71948 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 57398 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 0
term 26 server 2 become leader
------------------------------------------------------
client write log 1479298422167283395 (index 147) to leader 2
flag 29774 term 26 leader 2 nextIndex[0]: 147  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 49814 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146} {1479298422167283395 26 147}]
------------------------------------------------------
flag 19146 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
flag 97027 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 41777 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
term 26 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146} {1479298422167283395 26 147}]
------------------------------------------------------
flag 6636 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
client write log 2334441813411659211 (index 148) to leader 2
client write log 1661322385055313364 (index 149) to leader 2
client write log 6874657137356164372 (index 150) to leader 2
client write log 5578571554023161903 (index 151) to leader 2
client write log 165031524809542329 (index 152) to leader 2
client write log 3912226476565012197 (index 153) to leader 2
client write log 488912374690162871 (index 154) to leader 2
client write log 7047766155245825314 (index 155) to leader 2
client write log 97630972566184435 (index 156) to leader 2
client write log 3754292989952169494 (index 157) to leader 2
client write log 1993505424344835118 (index 158) to leader 2
client write log 8162235724366884471 (index 159) to leader 2
client write log 8670092840732556315 (index 160) to leader 2
flag 33274 term 26 leader 2 nextIndex[0]: 148  matchIndex[0]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
flag 14222 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 23 139} {1945012090251882472 23 140} {5380087854559456025 23 141} {2612418676402602647 23 142} {8580324606581528666 23 143} {5921795297249996912 23 144} {8043194106672778931 23 145} {8043194106672778931 25 146} {1479298422167283395 26 147} {2334441813411659211 26 148} {1661322385055313364 26 149} {6874657137356164372 26 150} {5578571554023161903 26 151} {165031524809542329 26 152} {3912226476565012197 26 153} {488912374690162871 26 154} {7047766155245825314 26 155} {97630972566184435 26 156} {3754292989952169494 26 157} {1993505424344835118 26 158} {8162235724366884471 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 59836 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
flag 16721 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9180458929950219351 (index 147) to leader 1
flag 49529 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 41375 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 0
flag 75980 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 63534 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 94151 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 57829 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4689 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 29635 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 68038 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 72819 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 23407 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 55674 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 5660 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 52773 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 79141 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 6884 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 61259 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 99125 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 24356 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 31285 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51113 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 44588 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 76808 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 16653 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 31016 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 13446 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 36537 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 96182 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 22227 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 21956 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 53193 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 36361 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 30062 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 2288 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
flag 57111 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 34830 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7552 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 49176 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8670092840732556315 26 160}]
------------------------------------------------------
client write log 9180458929950219351 (index 161) to leader 2
flag 82384 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 25258 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
flag 76571 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 97859 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
flag 62985 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 94803 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
flag 97258 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 82962 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
flag 6598 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 34815 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44474 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 87798 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6182538498288874016 (index 162) to leader 2
flag 27078 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 51882 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19987 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
flag 91631 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162}]
------------------------------------------------------
client write log 4314505613705889191 (index 163) to leader 2
client write log 1268567318809971757 (index 164) to leader 2
client write log 7301811043804447193 (index 165) to leader 2
client write log 5370908953857301306 (index 166) to leader 2
client write log 6821653545525387757 (index 167) to leader 2
client write log 6731715299189744664 (index 168) to leader 2
flag 93987 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
flag 1307 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168}]
------------------------------------------------------
flag 99170 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 47053 term 28 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5532633563589346378 (index 169) to leader 2
flag 28341 term 28 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 71204 term 28 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 28 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 not vote for server 0, 日志不够新
term 28 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 14744 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 6630 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
flag 69796 term 31 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 19049 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16097 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 23917 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 70372 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 25531 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 9279 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 24576 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 65976 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 40093 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 21762 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 38959 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 90756 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 66335 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 1411 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 18401 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92340 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 33254 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 99685 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 4439 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1033 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 35023 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57159 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 46890 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69697 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 17878 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
flag 96957 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 95647 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169}]
------------------------------------------------------
client write log 5532633563589346378 (index 170) to leader 2
flag 95285 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 79497 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 159} {8670092840732556315 26 160} {9180458929950219351 28 161} {6182538498288874016 28 162} {4314505613705889191 28 163} {1268567318809971757 28 164} {7301811043804447193 28 165} {5370908953857301306 28 166} {6821653545525387757 28 167} {6731715299189744664 28 168} {5532633563589346378 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 10242 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 98287 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 Server1 start snapshot! index=169
term 31 Server0 start snapshot! index=169
term 31 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 31 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81637 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 16620 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
flag 18200 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 61468 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
flag 29616 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 26784 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
flag 1914 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 42685 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
flag 73921 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 6342 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 28 169} {5532633563589346378 31 170}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2122890621963513402 (index 171) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6382 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
flag 6816 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5532633563589346378 31 170} {2122890621963513402 31 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26346 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 25709 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5532633563589346378 31 170} {2122890621963513402 31 171}]
------------------------------------------------------
client write log 7917570616435950337 (index 172) to leader 2
client write log 8875533771111871511 (index 173) to leader 2
client write log 5915920075053888304 (index 174) to leader 2
client write log 4116862257070243635 (index 175) to leader 2
client write log 7982541499461744622 (index 176) to leader 2
client write log 26667833311650360 (index 177) to leader 2
client write log 2680656534367643449 (index 178) to leader 2
client write log 6250340515571096990 (index 179) to leader 2
client write log 1289635460223894496 (index 180) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22306 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 3516 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 28 169} {5532633563589346378 31 170} {2122890621963513402 31 171} {7917570616435950337 31 172} {8875533771111871511 31 173} {5915920075053888304 31 174} {4116862257070243635 31 175} {7982541499461744622 31 176} {26667833311650360 31 177} {2680656534367643449 31 178} {6250340515571096990 31 179} {1289635460223894496 31 180}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 50367 term 31 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 31 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1565968567445756205 (index 181) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 171->170
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 0
term 33 server 2 become leader
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get outdate rpc reply from server 1
flag 96439 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 75723 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 182->181
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 182->181
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 97916 term 33 leader 2 nextIndex[1]: 181  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
flag 9038 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 8335 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 22314 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 89172 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 74778 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 77071 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 9838 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 24490 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 89259 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 1186 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 50889 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 11336 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 8085 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 12164 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 91064 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 6715 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 23369 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 89193 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80902 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 26564 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 69856 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 64713 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 93313 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 20282 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 49916 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 76821 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 94915 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 94285 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 79731 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 23273 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 94905 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 26412 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 36401 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 4786 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
flag 43676 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 56533 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181}]
------------------------------------------------------
client write log 1565968567445756205 (index 182) to leader 2
flag 25231 term 33 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 39039 term 33 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 33 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
flag 69639 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 42722 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
flag 54488 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 630 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75080 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 9755 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
flag 79043 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 66541 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
flag 95647 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 9367 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 90796 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 8805 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 64087 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 98340 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 72531 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 2521 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
flag 54109 term 34 leader 1 nextIndex[0]: 183  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 63274 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182}]
------------------------------------------------------
client write log 2086347967794895163 (index 183) to leader 1
flag 11395 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 45501 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 966 term 34 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 32844 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183}]
------------------------------------------------------
flag 79411 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 52406 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 34924 term 34 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 34 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 34 leaderCommit: 183 
------------------------------------------------------
flag 49494 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183}]
------------------------------------------------------
client write log 881027052686293521 (index 184) to leader 1
flag 13599 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 94116 term 33 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 183->182
------------------------------------------------------
flag 58819 term 34 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 34 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 34 leaderCommit: 183 
------------------------------------------------------
flag 99470 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 183 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 44873 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 182
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 39424 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 51879 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184}]
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 596868656949022098 (index 185) to leader 1
flag 20787 term 33 leader 2 nextIndex[0]: 183  matchIndex[0]: 182
term 33 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 182 
------------------------------------------------------
flag 64241 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74949 term 34 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 34 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 75698 term 34 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 69168 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 14121 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 40692 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 19130 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 86849 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 26079 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 22284 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 351 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 30662 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 42004 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
flag 71316 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 1154 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5192365551831606520 (index 186) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40942 term 34 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
flag 54497 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 185 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185} {5192365551831606520 34 186}]
------------------------------------------------------
flag 36181 term 34 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 34 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 43953 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185} {5192365551831606520 34 186}]
------------------------------------------------------
client write log 5676240509785659947 (index 187) to leader 1
client write log 8806284854370488520 (index 188) to leader 1
client write log 6040409788962343197 (index 189) to leader 1
client write log 7367145303063594455 (index 190) to leader 1
client write log 2063272860337671492 (index 191) to leader 1
client write log 332453781212512231 (index 192) to leader 1
client write log 744749680373455331 (index 193) to leader 1
client write log 7531795593319591000 (index 194) to leader 1
client write log 346276791221973513 (index 195) to leader 1
client write log 4881400640316472541 (index 196) to leader 1
client write log 8152279472828534022 (index 197) to leader 1
client write log 334489481931379500 (index 198) to leader 1
client write log 8720965792339309857 (index 199) to leader 1
client write log 947072627254731391 (index 200) to leader 1
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88015 term 34 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 34 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 42120 term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 31 179} {1289635460223894496 31 180} {1565968567445756205 31 181} {1565968567445756205 33 182} {2086347967794895163 34 183} {881027052686293521 34 184} {596868656949022098 34 185} {5192365551831606520 34 186} {5676240509785659947 34 187} {8806284854370488520 34 188} {6040409788962343197 34 189} {7367145303063594455 34 190} {2063272860337671492 34 191} {332453781212512231 34 192} {744749680373455331 34 193} {7531795593319591000 34 194} {346276791221973513 34 195} {4881400640316472541 34 196} {8152279472828534022 34 197} {334489481931379500 34 198} {8720965792339309857 34 199} {947072627254731391 34 200}]
------------------------------------------------------
term 34 Server1 start snapshot! index=189
term 34 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=200
-------------------------------------------------------------
term 34 Server1 start snapshot! index=199
term 34 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
flag 47392 term 34 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 34 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=200
-------------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3023517246002087175 (index 201) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 86747 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 50697 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 202->201
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 202->201
------------------------------------------------------
flag 29716 term 36 leader 1 nextIndex[0]: 201  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 186  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 34 rf.commitIndex 199 rf.lastApplied 199
flag 54844 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 56148 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51857 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 2343 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 46090 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 27352 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 24544 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 96865 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 91757 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 38778 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 54800 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 90074 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 23370 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 17717 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 8428 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 75644 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85510 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 13702 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
flag 52787 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 67763 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 3684 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 67772 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 75238 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 25977 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 18386 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 21139 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 50494 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 49284 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 25518 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 92817 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16289 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 19742 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 5002 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 24055 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
flag 36490 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 97511 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201}]
------------------------------------------------------
client write log 3023517246002087175 (index 202) to leader 1
flag 24691 term 36 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 28486 term 36 leader 1 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84693 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 99269 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
flag 10816 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 82271 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
flag 86837 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 79366 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
flag 35541 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 38282 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
flag 79414 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 17991 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
flag 68595 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 39002 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2115786233428701547 (index 203) to leader 1
flag 71421 term 36 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 53122 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202} {2115786233428701547 36 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20086 term 36 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 36 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
flag 9557 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202} {2115786233428701547 36 203}]
------------------------------------------------------
client write log 385417183476733806 (index 204) to leader 1
client write log 4711381498220078968 (index 205) to leader 1
client write log 1491767244953287907 (index 206) to leader 1
client write log 3388389856788967249 (index 207) to leader 1
client write log 1804528471281539373 (index 208) to leader 1
client write log 2774019472130862694 (index 209) to leader 1
client write log 3055575394171277574 (index 210) to leader 1
client write log 5707416397542423523 (index 211) to leader 1
client write log 142630052299729057 (index 212) to leader 1
flag 93645 term 36 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 36 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
flag 34989 term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 199} {947072627254731391 34 200} {3023517246002087175 34 201} {3023517246002087175 36 202} {2115786233428701547 36 203} {385417183476733806 36 204} {4711381498220078968 36 205} {1491767244953287907 36 206} {3388389856788967249 36 207} {1804528471281539373 36 208} {2774019472130862694 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
flag 89209 term 36 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 36 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212}]
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9007378252335504699 (index 213) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 34089 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 2484 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 214->213
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17447 term 38 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 203  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87947 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 95206 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 59599 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 68063 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 43229 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 7615 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83131 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 75277 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 21530 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 38464 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 13012 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 94177 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75032 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 26723 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14236 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 56105 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36348 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 60968 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98027 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 48590 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66346 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 28322 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 37648 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 79128 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 99296 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 429 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 75816 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 42733 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 29665 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 31217 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 962 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 18045 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 77820 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 82297 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
flag 34066 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 74947 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213}]
------------------------------------------------------
client write log 9007378252335504699 (index 214) to leader 1
flag 46804 term 38 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
flag 41462 term 38 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 38 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 36 leaderCommit: 212 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48006 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 13032 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
flag 63499 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 36254 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16027 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 54192 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
flag 65303 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 18814 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
flag 40983 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 4347 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
flag 66354 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 9125 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 49572 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 7365 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 8663 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 43345 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 55798 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 42649 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 98451 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 16005 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 39 server 2 not vote for server 0, 投给了其他人
term 39 server 0 not vote for server 2, 投给了其他人
flag 99554 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 71640 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 48166 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 93434 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 90790 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 23763 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
flag 21923 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 22373 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214}]
------------------------------------------------------
client write log 5622866131132257295 (index 215) to leader 0
flag 27527 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 13572 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 56779 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
flag 8355 term 40 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215}]
------------------------------------------------------
flag 97323 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 214
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 67970 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 215 
------------------------------------------------------
flag 77448 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215}]
------------------------------------------------------
client write log 6940891559148639818 (index 216) to leader 0
flag 29517 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 214
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 90460 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 215 
------------------------------------------------------
flag 73842 term 40 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 40 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 40 leaderCommit: 215 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 85434 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 214
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 99828 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 8211 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5255599688161632054 (index 215) to leader 1
flag 96206 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 214
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30793 term 40 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 20329 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 6429 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 99333 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 1
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39637 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 38438 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34588 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 84247 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 30872 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 50162 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 39573 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 54287 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 97901 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 96879 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 79544 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 216 args.LastIncludedIndex 209
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 31831 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 216 args.LastIncludedIndex 209
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 77470 term 40 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 4577 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 86724 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 46085 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 41010 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 30635 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 79814 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 14430 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 30948 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 53271 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 28206 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 99965 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 45257 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 InstallSnapshot fail
rf.commitIndex 216 args.LastIncludedIndex 209
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62615 term 40 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 89040 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92700 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 80176 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
flag 76851 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 82350 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 86054 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 44534 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216}]
------------------------------------------------------
client write log 5255599688161632054 (index 217) to leader 0
flag 89460 term 40 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 97294 term 40 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 40 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63891 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 43333 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
flag 73810 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 8029 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
flag 14701 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 67796 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
flag 39392 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 48823 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61676 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 27956 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
flag 86977 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 32176 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7353041279746355915 (index 218) to leader 0
flag 36057 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 51793 term 40 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217} {7353041279746355915 40 218}]
------------------------------------------------------
flag 95066 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
flag 67385 term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 40 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217} {7353041279746355915 40 218}]
------------------------------------------------------
client write log 3487322147622153908 (index 219) to leader 0
client write log 7783318260981545561 (index 220) to leader 0
client write log 2676147543672046328 (index 221) to leader 0
client write log 2887043297270992273 (index 222) to leader 0
client write log 7228850602526916684 (index 223) to leader 0
client write log 4814589748939602267 (index 224) to leader 0
client write log 5324514521837920923 (index 225) to leader 0
client write log 6826981055462319616 (index 226) to leader 0
client write log 2711254593548404962 (index 227) to leader 0
client write log 4646379648359897276 (index 228) to leader 0
client write log 4840285356915837505 (index 229) to leader 0
client write log 39749097398553668 (index 230) to leader 0
client write log 5631819173428704333 (index 231) to leader 0
client write log 1554321183191015016 (index 232) to leader 0
flag 2858 term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
flag 23837 term 40 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 40 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 36 209} {3055575394171277574 36 210} {5707416397542423523 36 211} {142630052299729057 36 212} {9007378252335504699 36 213} {9007378252335504699 38 214} {5622866131132257295 40 215} {6940891559148639818 40 216} {5255599688161632054 40 217} {7353041279746355915 40 218} {3487322147622153908 40 219} {7783318260981545561 40 220} {2676147543672046328 40 221} {2887043297270992273 40 222} {7228850602526916684 40 223} {4814589748939602267 40 224} {5324514521837920923 40 225} {6826981055462319616 40 226} {2711254593548404962 40 227} {4646379648359897276 40 228} {4840285356915837505 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232}]
------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=232
-------------------------------------------------------------
term 40 Server0 start snapshot! index=229
term 40 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 51235 term 40 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232}]
------------------------------------------------------
term 40 Server2 start snapshot! index=219
term 40 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=232
-------------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6168637513845154320 (index 233) to leader 0
term 40 server 2 not vote for server 1, 日志不够新
term 40 server 0 not vote for server 1, 日志不够新
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 1
flag 67660 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 73938 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 218  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 55585 term 42 leader 0 nextIndex[2]: 233  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 40 rf.commitIndex 229 rf.lastApplied 229
flag 55385 term 42 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 42 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 76017 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 91759 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 26851 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 58259 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 96989 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22950 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 93821 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 87734 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 73481 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11281 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 57754 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 99050 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 45494 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 79287 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 54522 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85436 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 73663 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10931 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 40491 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36332 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 17967 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 82587 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 84776 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 49197 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 20768 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 65293 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 32204 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 12337 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 85870 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
flag 57081 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 59890 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71605 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 3430 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233}]
------------------------------------------------------
client write log 6168637513845154320 (index 234) to leader 0
flag 65107 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 22979 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
flag 6732 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 38244 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62434 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 8018 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
flag 62640 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 25575 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
flag 22569 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 35856 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58228 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 39017 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
flag 64394 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 76716 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1566623239687374524 (index 235) to leader 0
flag 55456 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 98813 term 42 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234} {1566623239687374524 42 235}]
------------------------------------------------------
flag 60591 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
flag 92822 term 42 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 42 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234} {1566623239687374524 42 235}]
------------------------------------------------------
client write log 6448969834661789149 (index 236) to leader 0
client write log 6535626390144314895 (index 237) to leader 0
client write log 3757929311256207207 (index 238) to leader 0
client write log 4359147215154256205 (index 239) to leader 0
client write log 128331623600041133 (index 240) to leader 0
client write log 6700903894678844661 (index 241) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91007 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
flag 23010 term 42 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 42 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 40 229} {39749097398553668 40 230} {5631819173428704333 40 231} {1554321183191015016 40 232} {6168637513845154320 40 233} {6168637513845154320 42 234} {1566623239687374524 42 235} {6448969834661789149 42 236} {6535626390144314895 42 237} {3757929311256207207 42 238} {4359147215154256205 42 239} {128331623600041133 42 240} {6700903894678844661 42 241}]
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 2263 term 42 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241}]
------------------------------------------------------
term 42 Server2 start snapshot! index=239
term 42 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7524805901740244630 (index 242) to leader 0
term 42 server 2 not vote for server 1, 日志不够新
term 42 server 0 not vote for server 1, 日志不够新
term 44 server 2 vote for server 0
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
term 44 server 0 get outdate rpc reply from server 2
flag 12050 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 70229 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 243->242
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 82637 term 44 leader 0 nextIndex[2]: 242  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 42 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97156 term 44 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 44 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 98893 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 42242 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 27553 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 5785 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 40396 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 82730 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 68858 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 85663 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 97992 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 22446 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 93745 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 87653 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 92614 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 48623 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 94651 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10094 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 63803 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 49439 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 22632 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 65325 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 28133 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 83736 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 21034 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 48243 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 67737 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 36848 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 63549 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 80682 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 12338 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 20464 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 3073 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 58290 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 91425 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
flag 78966 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 57292 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
update nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242}]
------------------------------------------------------
client write log 7524805901740244630 (index 243) to leader 0
flag 38241 term 44 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
flag 31613 term 44 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 44 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 241 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 12837 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 87595 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 57270 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 29471 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 85235 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 55514 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 55495 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 9262 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 86059 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 20294 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 20431 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 32265 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 55849 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 25940 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 57509 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 41029 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 82774 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 58629 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
flag 32023 term 45 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 93291 term 45 leader 2 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243}]
------------------------------------------------------
flag 89210 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 14592 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
client write log 9157863309182128418 (index 244) to leader 2
flag 12676 term 45 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 73389 term 45 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 45 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244}]
------------------------------------------------------
flag 89619 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 37598 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 30126 term 45 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244}]
------------------------------------------------------
flag 26207 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
flag 28341 term 44 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
client write log 6003996081838271891 (index 245) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 37050 term 45 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245}]
------------------------------------------------------
flag 26738 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 33785 term 45 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245}]
------------------------------------------------------
flag 22694 term 44 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 44 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 44 leaderCommit: 243 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
!!!!!!connect server 0
client write log 6334472989266995 (index 246) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
flag 27514 term 45 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 0 InstallSnapshot fail
rf.commitIndex 243 args.LastIncludedIndex 239
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
flag 29555 term 45 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 45 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 246 
------------------------------------------------------
flag 27809 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
flag 4252 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 25421 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
flag 89924 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 23205 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 87666 term 45 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 45 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 246 
------------------------------------------------------
flag 6129 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
flag 71386 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 89866 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
flag 17742 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 44330 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1723775468879268899 (index 247) to leader 2
flag 5276 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 90880 term 45 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246} {1723775468879268899 45 247}]
------------------------------------------------------
flag 84225 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 8202 term 45 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 45 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246} {1723775468879268899 45 247}]
------------------------------------------------------
client write log 1446680052743558073 (index 248) to leader 2
client write log 3716883567501131284 (index 249) to leader 2
client write log 9187099918023578832 (index 250) to leader 2
client write log 7974963088217913393 (index 251) to leader 2
client write log 824320455155237728 (index 252) to leader 2
client write log 9207124825437684965 (index 253) to leader 2
client write log 3752609626099894156 (index 254) to leader 2
client write log 6971913129176101792 (index 255) to leader 2
client write log 9221555402303259019 (index 256) to leader 2
client write log 5546401844147467571 (index 257) to leader 2
client write log 7313454042130628851 (index 258) to leader 2
client write log 1174092782463647880 (index 259) to leader 2
flag 67624 term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
flag 25591 term 45 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 45 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 45 leaderCommit: 247 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 239} {128331623600041133 42 240} {6700903894678844661 42 241} {7524805901740244630 42 242} {7524805901740244630 44 243} {9157863309182128418 45 244} {6003996081838271891 45 245} {6334472989266995 45 246} {1723775468879268899 45 247} {1446680052743558073 45 248} {3716883567501131284 45 249} {9187099918023578832 45 250} {7974963088217913393 45 251} {824320455155237728 45 252} {9207124825437684965 45 253} {3752609626099894156 45 254} {6971913129176101792 45 255} {9221555402303259019 45 256} {5546401844147467571 45 257} {7313454042130628851 45 258} {1174092782463647880 45 259}]
------------------------------------------------------
term 45 Server2 start snapshot! index=249
term 45 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 45 Server2 start snapshot! index=259
term 45 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 64373 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 Server1 start snapshot! index=249
term 45 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=259
-------------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3837620744956087493 (index 260) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 247  matchIndex[0]: 246
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 65059 term 45 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 0
term 47 server 1 vote for server 2
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 1
flag 34515 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 97424 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 247  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
flag 63000 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 45 rf.commitIndex 259 rf.lastApplied 259
flag 1819 term 47 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 47 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 59804 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 39094 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 86069 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 26000 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 68014 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 51773 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 51715 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 6299 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 95160 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 5241 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 93221 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8309 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 49073 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 46167 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 69783 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 47018 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 65385 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 2
flag 80650 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 42396 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92119 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 1971 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 39842 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 6148 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 62697 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 71578 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 40066 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 79753 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13073 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 6392 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
flag 69342 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 41405 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 27025 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 47896 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 45 259} {3837620744956087493 45 260}]
------------------------------------------------------
client write log 3837620744956087493 (index 261) to leader 2
flag 9499 term 47 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 75895 term 47 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 47 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
flag 85700 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 84602 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
term 47 server 0 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 0
flag 41227 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 73931 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
flag 84221 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 63611 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
flag 38503 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 45059 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 156 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 76888 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8871849097042352702 (index 262) to leader 2
flag 14094 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
flag 9503 term 47 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 261 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261} {8871849097042352702 47 262}]
------------------------------------------------------
flag 59197 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 262 
------------------------------------------------------
flag 31063 term 47 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 47 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 47 leaderCommit: 262 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261} {8871849097042352702 47 262}]
------------------------------------------------------
client write log 1471920655741872953 (index 263) to leader 2
client write log 6175761732300889603 (index 264) to leader 2
client write log 3062797707904754044 (index 265) to leader 2
client write log 2907117240477050890 (index 266) to leader 2
client write log 3249411133701183113 (index 267) to leader 2
client write log 6963430449808035410 (index 268) to leader 2
client write log 5311210909087399264 (index 269) to leader 2
flag 92025 term 47 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 47 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 47 leaderCommit: 262 
------------------------------------------------------
flag 27168 term 47 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 47 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 47 leaderCommit: 262 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 259} {3837620744956087493 45 260} {3837620744956087493 47 261} {8871849097042352702 47 262} {1471920655741872953 47 263} {6175761732300889603 47 264} {3062797707904754044 47 265} {2907117240477050890 47 266} {3249411133701183113 47 267} {6963430449808035410 47 268} {5311210909087399264 47 269}]
------------------------------------------------------
term 47 Server2 start snapshot! index=269
term 47 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 261
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 94392 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 47 269}]
------------------------------------------------------
term 47 Server1 start snapshot! index=269
term 47 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1206996203260012221 (index 270) to leader 2
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 261
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 80420 term 47 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 269 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 48 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 52265 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 72783 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 271->270
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 15161 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 47 rf.commitIndex 269 rf.lastApplied 269
flag 62900 term 49 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 49 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 29189 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86632 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 77396 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43240 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 32867 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10508 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 27154 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
flag 98668 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 50047 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
flag 12738 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 88971 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
flag 45587 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 82927 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44695 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 52296 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 95041 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 63365 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 85893 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 21040 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 0
term 50 server 1 become leader
------------------------------------------------------
flag 68146 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 74084 term 49 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 74202 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 34101 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {1206996203260012221 47 270}]
------------------------------------------------------
client write log 1029341691647133281 (index 271) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
flag 96721 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 52624 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
flag 39281 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271}]
------------------------------------------------------
flag 57855 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 89110 term 50 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 50 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 50 leaderCommit: 271 
------------------------------------------------------
flag 47430 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271}]
------------------------------------------------------
client write log 1799670938497291415 (index 272) to leader 1
flag 9451 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 56344 term 50 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 50 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 50 leaderCommit: 271 
------------------------------------------------------
flag 9488 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 271 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272}]
------------------------------------------------------
flag 92430 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
flag 87540 term 50 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 50 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 50 leaderCommit: 272 
------------------------------------------------------
flag 32214 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 272 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4677252622099898975 (index 273) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 271->270
------------------------------------------------------
flag 29399 term 49 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 49 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 47 leaderCommit: 270 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19200 term 50 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 50 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 50 leaderCommit: 272 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 InstallSnapshot fail
rf.commitIndex 270 args.LastIncludedIndex 269
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
flag 40553 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 94072 term 50 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 50 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 273 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
flag 20396 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 64122 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57856 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 54054 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
flag 81590 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 84017 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
flag 19504 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 76688 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90033 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 55514 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
flag 39314 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 41775 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
term 50 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3055064843356053331 (index 274) to leader 1
flag 48603 term 50 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
flag 33158 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 273 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273} {3055064843356053331 50 274}]
------------------------------------------------------
flag 70301 term 50 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 50 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 50 leaderCommit: 274 
------------------------------------------------------
flag 311 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 274 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273} {3055064843356053331 50 274}]
------------------------------------------------------
client write log 5385815376155415749 (index 275) to leader 1
client write log 6431851119662885587 (index 276) to leader 1
client write log 6640905905907890217 (index 277) to leader 1
client write log 8102206090833896358 (index 278) to leader 1
client write log 6004494267951651165 (index 279) to leader 1
client write log 7027177717049520205 (index 280) to leader 1
client write log 4489481036098070836 (index 281) to leader 1
client write log 2936487542857810146 (index 282) to leader 1
client write log 8327081535434119247 (index 283) to leader 1
client write log 150209671083482416 (index 284) to leader 1
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41496 term 50 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 50 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 50 leaderCommit: 274 
------------------------------------------------------
flag 80985 term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 50 leaderCommit: 274 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 269} {1206996203260012221 47 270} {1029341691647133281 50 271} {1799670938497291415 50 272} {4677252622099898975 50 273} {3055064843356053331 50 274} {5385815376155415749 50 275} {6431851119662885587 50 276} {6640905905907890217 50 277} {8102206090833896358 50 278} {6004494267951651165 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284}]
------------------------------------------------------
term 50 Server1 start snapshot! index=279
term 50 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27431 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284}]
------------------------------------------------------
term 50 Server0 start snapshot! index=279
term 50 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3421682512539870518 (index 285) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 26130 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 27598 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 286->285
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 286->285
------------------------------------------------------
flag 36546 term 52 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 50 rf.commitIndex 279 rf.lastApplied 279
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 84038 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 84551 term 52 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 52 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 1 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 1
flag 5637 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 49598 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14509 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 69997 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45595 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 18895 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
flag 3547 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 54554 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 16153 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 18835 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 71072 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 85267 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63644 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 98295 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 78248 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 93820 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79652 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 43591 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 70486 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 46283 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 21847 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 36347 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71847 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 96151 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 94054 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 88967 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 17435 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 52056 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 3148 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 17194 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 80053 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 49520 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
flag 55141 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 16734 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285}]
------------------------------------------------------
client write log 3421682512539870518 (index 286) to leader 1
flag 23011 term 52 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 51415 term 52 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 52 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89657 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 74236 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
flag 46975 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 31080 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
flag 68851 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 47825 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
flag 31787 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 81554 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36448 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 93791 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
flag 34669 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 72314 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8635567947518271346 (index 287) to leader 1
flag 41846 term 52 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
flag 35048 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286} {8635567947518271346 52 287}]
------------------------------------------------------
term 52 server 1 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 1
flag 62354 term 52 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 52 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 52 leaderCommit: 287 
------------------------------------------------------
flag 4148 term 52 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 52 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 52 leaderCommit: 287 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286} {8635567947518271346 52 287}]
------------------------------------------------------
client write log 6111036439357591963 (index 288) to leader 1
client write log 5734249719199947269 (index 289) to leader 1
client write log 607871521685773997 (index 290) to leader 1
client write log 1489940928525430336 (index 291) to leader 1
client write log 2230198442568284607 (index 292) to leader 1
client write log 4138059335371803739 (index 293) to leader 1
client write log 8961656140477260932 (index 294) to leader 1
client write log 3451233522169898308 (index 295) to leader 1
client write log 148741824151079075 (index 296) to leader 1
client write log 7383770902808112231 (index 297) to leader 1
client write log 4533625009522806238 (index 298) to leader 1
client write log 3144809744597508525 (index 299) to leader 1
client write log 892417675249525375 (index 300) to leader 1
client write log 1567458971168651546 (index 301) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 287->286
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21590 term 52 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 52 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 52 leaderCommit: 287 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 286
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 50 279} {7027177717049520205 50 280} {4489481036098070836 50 281} {2936487542857810146 50 282} {8327081535434119247 50 283} {150209671083482416 50 284} {3421682512539870518 50 285} {3421682512539870518 52 286} {8635567947518271346 52 287} {6111036439357591963 52 288} {5734249719199947269 52 289} {607871521685773997 52 290} {1489940928525430336 52 291} {2230198442568284607 52 292} {4138059335371803739 52 293} {8961656140477260932 52 294} {3451233522169898308 52 295} {148741824151079075 52 296} {7383770902808112231 52 297} {4533625009522806238 52 298} {3144809744597508525 52 299} {892417675249525375 52 300} {1567458971168651546 52 301}]
------------------------------------------------------
term 52 Server1 start snapshot! index=289
term 52 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=301
-------------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=301
-------------------------------------------------------------
flag 75001 term 52 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 52 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 286
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301}]
------------------------------------------------------
term 52 Server0 start snapshot! index=289
term 52 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 52 Server0 start snapshot! index=299
term 52 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 7677612325423645494 (index 302) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 0 vote for server 1
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 20091 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 63423 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 303->302
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47615 term 54 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 287  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 52 rf.commitIndex 299 rf.lastApplied 299
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 33355 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 21451 term 54 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 54 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 91410 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 5844 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 54273 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 66791 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13970 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 66715 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 29717 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 82691 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 5983 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 41304 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75928 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 7719 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 11127 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 19554 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 32753 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 34042 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 19883 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 25665 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 21936 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 49022 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46271 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 7873 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19131 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 26350 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12212 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 94075 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
flag 56732 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 33687 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19535 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 40763 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54322 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 66977 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68222 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 63985 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7677612325423645494 (index 303) to leader 1
flag 17039 term 54 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
flag 9721 term 54 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 54 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 52 leaderCommit: 301 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 29094 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 63804 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 46419 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 49706 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 53867 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 84061 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 43006 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 2975 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 87649 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 74701 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
flag 25911 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 62769 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 84236 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 55659 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 3535 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 31408 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 43842 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 51854 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 3467 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 92545 term 54 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 0
term 55 server 2 become leader
------------------------------------------------------
client write log 3661173465303801935 (index 304) to leader 2
flag 24423 term 55 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
flag 37376 term 55 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303} {3661173465303801935 55 304}]
------------------------------------------------------
flag 73882 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
flag 69150 term 55 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 55 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 55 leaderCommit: 304 
------------------------------------------------------
flag 38956 term 55 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303} {3661173465303801935 55 304}]
------------------------------------------------------
client write log 8932093941060069722 (index 305) to leader 2
client write log 4909561397643870794 (index 306) to leader 2
client write log 8176918019826259252 (index 307) to leader 2
client write log 211185017590474817 (index 308) to leader 2
client write log 8018896632029328224 (index 309) to leader 2
client write log 3853736817741053867 (index 310) to leader 2
client write log 226593558381249687 (index 311) to leader 2
client write log 6157209921111955314 (index 312) to leader 2
client write log 3699805591901215435 (index 313) to leader 2
flag 56960 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
flag 76224 term 55 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 55 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 55 leaderCommit: 304 
------------------------------------------------------
flag 13859 term 55 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 304 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 52 299} {892417675249525375 52 300} {1567458971168651546 52 301} {7677612325423645494 52 302} {7677612325423645494 54 303} {3661173465303801935 55 304} {8932093941060069722 55 305} {4909561397643870794 55 306} {8176918019826259252 55 307} {211185017590474817 55 308} {8018896632029328224 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 55 Server2 start snapshot! index=309
term 55 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
flag 59471 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
flag 45835 term 55 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 55 Server0 start snapshot! index=309
term 55 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 1
client write log 375233554732939017 (index 304) to leader 1
flag 77738 term 54 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 54 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 54 leaderCommit: 303 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39495 term 55 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 55 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 55 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:313 
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 55 rf.commitIndex 309 rf.lastApplied 309
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 55 server 2 not vote for server 1, 日志不够新
term 55 server 0 not vote for server 1, 日志不够新
term 57 server 1 vote for server 2
term 57 server 0 vote for server 2
term 57 server 2 get vote from server 1
term 57 server 2 become leader
------------------------------------------------------
term 57 server 2 get outdate rpc reply from server 0
flag 29115 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 91245 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 314->313
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 42653 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 62925 term 57 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76737 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 26057 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29922 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 66250 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 1 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97010 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 97252 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 33286 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 44686 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 86561 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 64658 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 7249 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 44151 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 30613 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 83553 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38791 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 66136 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 13602 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 73926 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 88366 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 84695 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 53935 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 86914 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 36526 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 21149 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 43302 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 14574 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 41050 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 65605 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 89902 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 11606 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 44727 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 96516 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
flag 50087 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 75560 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313}]
------------------------------------------------------
client write log 375233554732939017 (index 314) to leader 2
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49450 term 57 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
flag 39582 term 57 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 57 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 55 leaderCommit: 313 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36599 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 45637 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71830 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 63964 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
flag 98232 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 19870 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
flag 45113 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 2980 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
flag 72665 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 1230 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
flag 80959 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 18592 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3639601837863246855 (index 315) to leader 2
flag 863 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
flag 87878 term 57 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 314 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314} {3639601837863246855 57 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56286 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 315 
------------------------------------------------------
flag 34612 term 57 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 57 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 57 leaderCommit: 315 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314} {3639601837863246855 57 315}]
------------------------------------------------------
client write log 7526150646654539495 (index 316) to leader 2
client write log 8885180327974213611 (index 317) to leader 2
client write log 4482266303078202092 (index 318) to leader 2
client write log 2477715392581024812 (index 319) to leader 2
client write log 2609612519806406595 (index 320) to leader 2
client write log 8573872889262284071 (index 321) to leader 2
client write log 6685477618585769697 (index 322) to leader 2
client write log 120931990286076474 (index 323) to leader 2
client write log 6303985958568701477 (index 324) to leader 2
client write log 3683599553379176562 (index 325) to leader 2
client write log 9111342918095247140 (index 326) to leader 2
flag 55419 term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 57 leaderCommit: 315 
------------------------------------------------------
flag 63111 term 57 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 57 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 57 leaderCommit: 315 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 55 309} {3853736817741053867 55 310} {226593558381249687 55 311} {6157209921111955314 55 312} {3699805591901215435 55 313} {375233554732939017 57 314} {3639601837863246855 57 315} {7526150646654539495 57 316} {8885180327974213611 57 317} {4482266303078202092 57 318} {2477715392581024812 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326}]
------------------------------------------------------
term 57 Server2 start snapshot! index=319
term 57 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
term 57 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 57
------------------------------------------------------
flag 36175 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326}]
------------------------------------------------------
term 57 Server1 start snapshot! index=319
term 57 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2665146688699048554 (index 327) to leader 2
term 57 server 1 not vote for server 0, 日志不够新
term 57 server 2 not vote for server 0, 日志不够新
term 59 server 1 vote for server 2
term 59 server 0 vote for server 2
term 59 server 2 get vote from server 1
term 59 server 2 become leader
------------------------------------------------------
term 59 server 2 get outdate rpc reply from server 0
flag 90380 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 48743 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 59 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 328->327
------------------------------------------------------
term 59 leader 2 nextIndex[0]: 315  matchIndex[0]: 0
term 59 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 57
------------------------------------------------------
flag 19385 term 59 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 InstallSnapshot success
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 57 rf.commitIndex 319 rf.lastApplied 319
------------------------------------------------------------------------
flag 74352 term 59 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 59 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 45155 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44222 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 96587 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 98773 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 4551 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 42590 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 82688 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 4674 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 57174 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 87396 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 90340 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 52594 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 87667 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 16429 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 50397 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 93272 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 2482 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 6847 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 34118 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 90497 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 46283 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 48342 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 41678 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6431 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 84466 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30491 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 31684 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 66446 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 96796 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 82803 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 44627 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
flag 31053 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 61940 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2665146688699048554 (index 328) to leader 2
flag 74629 term 59 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
flag 20607 term 59 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 59 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 57 leaderCommit: 326 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
flag 91707 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 62944 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
flag 42410 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 14544 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80085 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 10466 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91964 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 76709 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59757 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 43262 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80639 term 59 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
flag 5898 term 59 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 59 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 59 leaderCommit: 328 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 57 319} {2609612519806406595 57 320} {8573872889262284071 57 321} {6685477618585769697 57 322} {120931990286076474 57 323} {6303985958568701477 57 324} {3683599553379176562 57 325} {9111342918095247140 57 326} {2665146688699048554 57 327} {2665146688699048554 59 328}]
------------------------------------------------------
  ... Passed --  82.5  3 1873  810662  328
--- PASS: TestSnapshotInstall2D (82.54s)
PASS
